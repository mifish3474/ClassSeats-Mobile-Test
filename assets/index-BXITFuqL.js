(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function km(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cd={exports:{}},pi={},_d={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ol=Symbol.for("react.element"),Nm=Symbol.for("react.portal"),jm=Symbol.for("react.fragment"),Em=Symbol.for("react.strict_mode"),Cm=Symbol.for("react.profiler"),_m=Symbol.for("react.provider"),Pm=Symbol.for("react.context"),Rm=Symbol.for("react.forward_ref"),Tm=Symbol.for("react.suspense"),Dm=Symbol.for("react.memo"),bm=Symbol.for("react.lazy"),lc=Symbol.iterator;function Im(e){return e===null||typeof e!="object"?null:(e=lc&&e[lc]||e["@@iterator"],typeof e=="function"?e:null)}var Pd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rd=Object.assign,Td={};function Dr(e,t,n){this.props=e,this.context=t,this.refs=Td,this.updater=n||Pd}Dr.prototype.isReactComponent={};Dr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dd(){}Dd.prototype=Dr.prototype;function ka(e,t,n){this.props=e,this.context=t,this.refs=Td,this.updater=n||Pd}var Na=ka.prototype=new Dd;Na.constructor=ka;Rd(Na,Dr.prototype);Na.isPureReactComponent=!0;var sc=Array.isArray,bd=Object.prototype.hasOwnProperty,ja={current:null},Id={key:!0,ref:!0,__self:!0,__source:!0};function Ld(e,t,n){var r,l={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)bd.call(t,r)&&!Id.hasOwnProperty(r)&&(l[r]=t[r]);var u=arguments.length-2;if(u===1)l.children=n;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];l.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)l[r]===void 0&&(l[r]=u[r]);return{$$typeof:Ol,type:e,key:s,ref:i,props:l,_owner:ja.current}}function Lm(e,t){return{$$typeof:Ol,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ea(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ol}function Am(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ic=/\/+/g;function Ji(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Am(""+e.key):t.toString(36)}function Cs(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ol:case Nm:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+Ji(i,0):r,sc(l)?(n="",e!=null&&(n=e.replace(ic,"$&/")+"/"),Cs(l,t,n,"",function(f){return f})):l!=null&&(Ea(l)&&(l=Lm(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(ic,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",sc(e))for(var u=0;u<e.length;u++){s=e[u];var c=r+Ji(s,u);i+=Cs(s,t,n,c,l)}else if(c=Im(e),typeof c=="function")for(e=c.call(e),u=0;!(s=e.next()).done;)s=s.value,c=r+Ji(s,u++),i+=Cs(s,t,n,c,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function os(e,t,n){if(e==null)return e;var r=[],l=0;return Cs(e,r,"","",function(s){return t.call(n,s,l++)}),r}function Om(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},_s={transition:null},zm={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:_s,ReactCurrentOwner:ja};function Ad(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:os,forEach:function(e,t,n){os(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return os(e,function(){t++}),t},toArray:function(e){return os(e,function(t){return t})||[]},only:function(e){if(!Ea(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=Dr;X.Fragment=jm;X.Profiler=Cm;X.PureComponent=ka;X.StrictMode=Em;X.Suspense=Tm;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zm;X.act=Ad;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Rd({},e.props),l=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=ja.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)bd.call(t,c)&&!Id.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:Ol,type:e.type,key:l,ref:s,props:r,_owner:i}};X.createContext=function(e){return e={$$typeof:Pm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_m,_context:e},e.Consumer=e};X.createElement=Ld;X.createFactory=function(e){var t=Ld.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:Rm,render:e}};X.isValidElement=Ea;X.lazy=function(e){return{$$typeof:bm,_payload:{_status:-1,_result:e},_init:Om}};X.memo=function(e,t){return{$$typeof:Dm,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=_s.transition;_s.transition={};try{e()}finally{_s.transition=t}};X.unstable_act=Ad;X.useCallback=function(e,t){return Ge.current.useCallback(e,t)};X.useContext=function(e){return Ge.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};X.useEffect=function(e,t){return Ge.current.useEffect(e,t)};X.useId=function(){return Ge.current.useId()};X.useImperativeHandle=function(e,t,n){return Ge.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return Ge.current.useMemo(e,t)};X.useReducer=function(e,t,n){return Ge.current.useReducer(e,t,n)};X.useRef=function(e){return Ge.current.useRef(e)};X.useState=function(e){return Ge.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return Ge.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return Ge.current.useTransition()};X.version="18.3.1";_d.exports=X;var m=_d.exports;const Mm=km(m);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm=m,Um=Symbol.for("react.element"),$m=Symbol.for("react.fragment"),Bm=Object.prototype.hasOwnProperty,Wm=Fm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vm={key:!0,ref:!0,__self:!0,__source:!0};function Od(e,t,n){var r,l={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Bm.call(t,r)&&!Vm.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Um,type:e,key:s,ref:i,props:l,_owner:Wm.current}}pi.Fragment=$m;pi.jsx=Od;pi.jsxs=Od;Cd.exports=pi;var o=Cd.exports,jo={},zd={exports:{}},ct={},Md={exports:{}},Fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,W){var Q=T.length;T.push(W);e:for(;0<Q;){var re=Q-1>>>1,de=T[re];if(0<l(de,W))T[re]=W,T[Q]=de,Q=re;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var W=T[0],Q=T.pop();if(Q!==W){T[0]=Q;e:for(var re=0,de=T.length,F=de>>>1;re<F;){var Be=2*(re+1)-1,pt=T[Be],Te=Be+1,Ke=T[Te];if(0>l(pt,Q))Te<de&&0>l(Ke,pt)?(T[re]=Ke,T[Te]=Q,re=Te):(T[re]=pt,T[Be]=Q,re=Be);else if(Te<de&&0>l(Ke,Q))T[re]=Ke,T[Te]=Q,re=Te;else break e}}return W}function l(T,W){var Q=T.sortIndex-W.sortIndex;return Q!==0?Q:T.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,u=i.now();e.unstable_now=function(){return i.now()-u}}var c=[],f=[],x=1,w=null,y=3,C=!1,k=!1,R=!1,J=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=T)r(f),W.sortIndex=W.expirationTime,t(c,W);else break;W=n(f)}}function j(T){if(R=!1,g(T),!k)if(n(c)!==null)k=!0,xe(b);else{var W=n(f);W!==null&&ft(j,W.startTime-T)}}function b(T,W){k=!1,R&&(R=!1,p(M),M=-1),C=!0;var Q=y;try{for(g(W),w=n(c);w!==null&&(!(w.expirationTime>W)||T&&!Ce());){var re=w.callback;if(typeof re=="function"){w.callback=null,y=w.priorityLevel;var de=re(w.expirationTime<=W);W=e.unstable_now(),typeof de=="function"?w.callback=de:w===n(c)&&r(c),g(W)}else r(c);w=n(c)}if(w!==null)var F=!0;else{var Be=n(f);Be!==null&&ft(j,Be.startTime-W),F=!1}return F}finally{w=null,y=Q,C=!1}}var A=!1,O=null,M=-1,le=5,Y=-1;function Ce(){return!(e.unstable_now()-Y<le)}function rt(){if(O!==null){var T=e.unstable_now();Y=T;var W=!0;try{W=O(!0,T)}finally{W?Z():(A=!1,O=null)}}else A=!1}var Z;if(typeof d=="function")Z=function(){d(rt)};else if(typeof MessageChannel<"u"){var $t=new MessageChannel,U=$t.port2;$t.port1.onmessage=rt,Z=function(){U.postMessage(null)}}else Z=function(){J(rt,0)};function xe(T){O=T,A||(A=!0,Z())}function ft(T,W){M=J(function(){T(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){k||C||(k=!0,xe(b))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var Q=y;y=W;try{return T()}finally{y=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,W){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var Q=y;y=T;try{return W()}finally{y=Q}},e.unstable_scheduleCallback=function(T,W,Q){var re=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?re+Q:re):Q=re,T){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=Q+de,T={id:x++,callback:W,priorityLevel:T,startTime:Q,expirationTime:de,sortIndex:-1},Q>re?(T.sortIndex=Q,t(f,T),n(c)===null&&T===n(f)&&(R?(p(M),M=-1):R=!0,ft(j,Q-re))):(T.sortIndex=de,t(c,T),k||C||(k=!0,xe(b))),T},e.unstable_shouldYield=Ce,e.unstable_wrapCallback=function(T){var W=y;return function(){var Q=y;y=W;try{return T.apply(this,arguments)}finally{y=Q}}}})(Fd);Md.exports=Fd;var Hm=Md.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm=m,at=Hm;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ud=new Set,xl={};function Gn(e,t){jr(e,t),jr(e+"Capture",t)}function jr(e,t){for(xl[e]=t,e=0;e<t.length;e++)Ud.add(t[e])}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eo=Object.prototype.hasOwnProperty,Qm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oc={},ac={};function Km(e){return Eo.call(ac,e)?!0:Eo.call(oc,e)?!1:Qm.test(e)?ac[e]=!0:(oc[e]=!0,!1)}function Ym(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jm(e,t,n,r){if(t===null||typeof t>"u"||Ym(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,r,l,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ca=/[\-:]([a-z])/g;function _a(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ca,_a);Ae[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ca,_a);Ae[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ca,_a);Ae[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pa(e,t,n,r){var l=Ae.hasOwnProperty(t)?Ae[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jm(t,n,l,r)&&(n=null),r||l===null?Km(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tn=Gm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,as=Symbol.for("react.element"),sr=Symbol.for("react.portal"),ir=Symbol.for("react.fragment"),Ra=Symbol.for("react.strict_mode"),Co=Symbol.for("react.profiler"),$d=Symbol.for("react.provider"),Bd=Symbol.for("react.context"),Ta=Symbol.for("react.forward_ref"),_o=Symbol.for("react.suspense"),Po=Symbol.for("react.suspense_list"),Da=Symbol.for("react.memo"),un=Symbol.for("react.lazy"),Wd=Symbol.for("react.offscreen"),uc=Symbol.iterator;function Yr(e){return e===null||typeof e!="object"?null:(e=uc&&e[uc]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Xi;function ll(e){if(Xi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xi=t&&t[1]||""}return`
`+Xi+e}var Zi=!1;function qi(e,t){if(!e||Zi)return"";Zi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var l=f.stack.split(`
`),s=r.stack.split(`
`),i=l.length-1,u=s.length-1;1<=i&&0<=u&&l[i]!==s[u];)u--;for(;1<=i&&0<=u;i--,u--)if(l[i]!==s[u]){if(i!==1||u!==1)do if(i--,u--,0>u||l[i]!==s[u]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=u);break}}}finally{Zi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ll(e):""}function Xm(e){switch(e.tag){case 5:return ll(e.type);case 16:return ll("Lazy");case 13:return ll("Suspense");case 19:return ll("SuspenseList");case 0:case 2:case 15:return e=qi(e.type,!1),e;case 11:return e=qi(e.type.render,!1),e;case 1:return e=qi(e.type,!0),e;default:return""}}function Ro(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ir:return"Fragment";case sr:return"Portal";case Co:return"Profiler";case Ra:return"StrictMode";case _o:return"Suspense";case Po:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Bd:return(e.displayName||"Context")+".Consumer";case $d:return(e._context.displayName||"Context")+".Provider";case Ta:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Da:return t=e.displayName||null,t!==null?t:Ro(e.type)||"Memo";case un:t=e._payload,e=e._init;try{return Ro(e(t))}catch{}}return null}function Zm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ro(t);case 8:return t===Ra?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qm(e){var t=Vd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function us(e){e._valueTracker||(e._valueTracker=qm(e))}function Hd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Bs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function To(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function cc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Nn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gd(e,t){t=t.checked,t!=null&&Pa(e,"checked",t,!1)}function Do(e,t){Gd(e,t);var n=Nn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bo(e,t.type,n):t.hasOwnProperty("defaultValue")&&bo(e,t.type,Nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function bo(e,t,n){(t!=="number"||Bs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var sl=Array.isArray;function vr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Nn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Io(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(sl(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nn(n)}}function Qd(e,t){var n=Nn(t.value),r=Nn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function pc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cs,Yd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cs=cs||document.createElement("div"),cs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eh=["Webkit","ms","Moz","O"];Object.keys(ul).forEach(function(e){eh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ul[t]=ul[e]})});function Jd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ul.hasOwnProperty(e)&&ul[e]?(""+t).trim():t+"px"}function Xd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Jd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var th=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ao(e,t){if(t){if(th[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function Oo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zo=null;function ba(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mo=null,yr=null,xr=null;function mc(e){if(e=Fl(e)){if(typeof Mo!="function")throw Error(E(280));var t=e.stateNode;t&&(t=yi(t),Mo(e.stateNode,e.type,t))}}function Zd(e){yr?xr?xr.push(e):xr=[e]:yr=e}function qd(){if(yr){var e=yr,t=xr;if(xr=yr=null,mc(e),t)for(e=0;e<t.length;e++)mc(t[e])}}function ef(e,t){return e(t)}function tf(){}var eo=!1;function nf(e,t,n){if(eo)return e(t,n);eo=!0;try{return ef(e,t,n)}finally{eo=!1,(yr!==null||xr!==null)&&(tf(),qd())}}function Sl(e,t){var n=e.stateNode;if(n===null)return null;var r=yi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var Fo=!1;if(Xt)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Fo=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Fo=!1}function nh(e,t,n,r,l,s,i,u,c){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(x){this.onError(x)}}var cl=!1,Ws=null,Vs=!1,Uo=null,rh={onError:function(e){cl=!0,Ws=e}};function lh(e,t,n,r,l,s,i,u,c){cl=!1,Ws=null,nh.apply(rh,arguments)}function sh(e,t,n,r,l,s,i,u,c){if(lh.apply(this,arguments),cl){if(cl){var f=Ws;cl=!1,Ws=null}else throw Error(E(198));Vs||(Vs=!0,Uo=f)}}function Qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hc(e){if(Qn(e)!==e)throw Error(E(188))}function ih(e){var t=e.alternate;if(!t){if(t=Qn(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return hc(l),e;if(s===r)return hc(l),t;s=s.sibling}throw Error(E(188))}if(n.return!==r.return)n=l,r=s;else{for(var i=!1,u=l.child;u;){if(u===n){i=!0,n=l,r=s;break}if(u===r){i=!0,r=l,n=s;break}u=u.sibling}if(!i){for(u=s.child;u;){if(u===n){i=!0,n=s,r=l;break}if(u===r){i=!0,r=s,n=l;break}u=u.sibling}if(!i)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function lf(e){return e=ih(e),e!==null?sf(e):null}function sf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sf(e);if(t!==null)return t;e=e.sibling}return null}var of=at.unstable_scheduleCallback,gc=at.unstable_cancelCallback,oh=at.unstable_shouldYield,ah=at.unstable_requestPaint,Se=at.unstable_now,uh=at.unstable_getCurrentPriorityLevel,Ia=at.unstable_ImmediatePriority,af=at.unstable_UserBlockingPriority,Hs=at.unstable_NormalPriority,ch=at.unstable_LowPriority,uf=at.unstable_IdlePriority,mi=null,Ft=null;function dh(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(mi,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:mh,fh=Math.log,ph=Math.LN2;function mh(e){return e>>>=0,e===0?32:31-(fh(e)/ph|0)|0}var ds=64,fs=4194304;function il(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var u=i&~l;u!==0?r=il(u):(s&=i,s!==0&&(r=il(s)))}else i=n&~l,i!==0?r=il(i):s!==0&&(r=il(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pt(t),l=1<<n,r|=e[n],t&=~l;return r}function hh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Pt(s),u=1<<i,c=l[i];c===-1?(!(u&n)||u&r)&&(l[i]=hh(u,t)):c<=t&&(e.expiredLanes|=u),s&=~u}}function $o(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cf(){var e=ds;return ds<<=1,!(ds&4194240)&&(ds=64),e}function to(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=n}function vh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Pt(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function La(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ne=0;function df(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ff,Aa,pf,mf,hf,Bo=!1,ps=[],hn=null,gn=null,vn=null,kl=new Map,Nl=new Map,dn=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vc(e,t){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":kl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(t.pointerId)}}function Xr(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Fl(t),t!==null&&Aa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function xh(e,t,n,r,l){switch(t){case"focusin":return hn=Xr(hn,e,t,n,r,l),!0;case"dragenter":return gn=Xr(gn,e,t,n,r,l),!0;case"mouseover":return vn=Xr(vn,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return kl.set(s,Xr(kl.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,Nl.set(s,Xr(Nl.get(s)||null,e,t,n,r,l)),!0}return!1}function gf(e){var t=On(e.target);if(t!==null){var n=Qn(t);if(n!==null){if(t=n.tag,t===13){if(t=rf(n),t!==null){e.blockedOn=t,hf(e.priority,function(){pf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ps(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);zo=r,n.target.dispatchEvent(r),zo=null}else return t=Fl(n),t!==null&&Aa(t),e.blockedOn=n,!1;t.shift()}return!0}function yc(e,t,n){Ps(e)&&n.delete(t)}function wh(){Bo=!1,hn!==null&&Ps(hn)&&(hn=null),gn!==null&&Ps(gn)&&(gn=null),vn!==null&&Ps(vn)&&(vn=null),kl.forEach(yc),Nl.forEach(yc)}function Zr(e,t){e.blockedOn===t&&(e.blockedOn=null,Bo||(Bo=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,wh)))}function jl(e){function t(l){return Zr(l,e)}if(0<ps.length){Zr(ps[0],e);for(var n=1;n<ps.length;n++){var r=ps[n];r.blockedOn===e&&(r.blockedOn=null)}}for(hn!==null&&Zr(hn,e),gn!==null&&Zr(gn,e),vn!==null&&Zr(vn,e),kl.forEach(t),Nl.forEach(t),n=0;n<dn.length;n++)r=dn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<dn.length&&(n=dn[0],n.blockedOn===null);)gf(n),n.blockedOn===null&&dn.shift()}var wr=tn.ReactCurrentBatchConfig,Qs=!0;function Sh(e,t,n,r){var l=ne,s=wr.transition;wr.transition=null;try{ne=1,Oa(e,t,n,r)}finally{ne=l,wr.transition=s}}function kh(e,t,n,r){var l=ne,s=wr.transition;wr.transition=null;try{ne=4,Oa(e,t,n,r)}finally{ne=l,wr.transition=s}}function Oa(e,t,n,r){if(Qs){var l=Wo(e,t,n,r);if(l===null)fo(e,t,r,Ks,n),vc(e,r);else if(xh(l,e,t,n,r))r.stopPropagation();else if(vc(e,r),t&4&&-1<yh.indexOf(e)){for(;l!==null;){var s=Fl(l);if(s!==null&&ff(s),s=Wo(e,t,n,r),s===null&&fo(e,t,r,Ks,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else fo(e,t,r,null,n)}}var Ks=null;function Wo(e,t,n,r){if(Ks=null,e=ba(r),e=On(e),e!==null)if(t=Qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ks=e,null}function vf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uh()){case Ia:return 1;case af:return 4;case Hs:case ch:return 16;case uf:return 536870912;default:return 16}default:return 16}}var pn=null,za=null,Rs=null;function yf(){if(Rs)return Rs;var e,t=za,n=t.length,r,l="value"in pn?pn.value:pn.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[s-r];r++);return Rs=l.slice(e,1<r?1-r:void 0)}function Ts(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ms(){return!0}function xc(){return!1}function dt(e){function t(n,r,l,s,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ms:xc,this.isPropagationStopped=xc,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),t}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=dt(br),Ml=ve({},br,{view:0,detail:0}),Nh=dt(Ml),no,ro,qr,hi=ve({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qr&&(qr&&e.type==="mousemove"?(no=e.screenX-qr.screenX,ro=e.screenY-qr.screenY):ro=no=0,qr=e),no)},movementY:function(e){return"movementY"in e?e.movementY:ro}}),wc=dt(hi),jh=ve({},hi,{dataTransfer:0}),Eh=dt(jh),Ch=ve({},Ml,{relatedTarget:0}),lo=dt(Ch),_h=ve({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),Ph=dt(_h),Rh=ve({},br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Th=dt(Rh),Dh=ve({},br,{data:0}),Sc=dt(Dh),bh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ih={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ah(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lh[e])?!!t[e]:!1}function Fa(){return Ah}var Oh=ve({},Ml,{key:function(e){if(e.key){var t=bh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ih[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fa,charCode:function(e){return e.type==="keypress"?Ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zh=dt(Oh),Mh=ve({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kc=dt(Mh),Fh=ve({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fa}),Uh=dt(Fh),$h=ve({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bh=dt($h),Wh=ve({},hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vh=dt(Wh),Hh=[9,13,27,32],Ua=Xt&&"CompositionEvent"in window,dl=null;Xt&&"documentMode"in document&&(dl=document.documentMode);var Gh=Xt&&"TextEvent"in window&&!dl,xf=Xt&&(!Ua||dl&&8<dl&&11>=dl),Nc=" ",jc=!1;function wf(e,t){switch(e){case"keyup":return Hh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function Qh(e,t){switch(e){case"compositionend":return Sf(t);case"keypress":return t.which!==32?null:(jc=!0,Nc);case"textInput":return e=t.data,e===Nc&&jc?null:e;default:return null}}function Kh(e,t){if(or)return e==="compositionend"||!Ua&&wf(e,t)?(e=yf(),Rs=za=pn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xf&&t.locale!=="ko"?null:t.data;default:return null}}var Yh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yh[e.type]:t==="textarea"}function kf(e,t,n,r){Zd(r),t=Ys(t,"onChange"),0<t.length&&(n=new Ma("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var fl=null,El=null;function Jh(e){If(e,0)}function gi(e){var t=cr(e);if(Hd(t))return e}function Xh(e,t){if(e==="change")return t}var Nf=!1;if(Xt){var so;if(Xt){var io="oninput"in document;if(!io){var Cc=document.createElement("div");Cc.setAttribute("oninput","return;"),io=typeof Cc.oninput=="function"}so=io}else so=!1;Nf=so&&(!document.documentMode||9<document.documentMode)}function _c(){fl&&(fl.detachEvent("onpropertychange",jf),El=fl=null)}function jf(e){if(e.propertyName==="value"&&gi(El)){var t=[];kf(t,El,e,ba(e)),nf(Jh,t)}}function Zh(e,t,n){e==="focusin"?(_c(),fl=t,El=n,fl.attachEvent("onpropertychange",jf)):e==="focusout"&&_c()}function qh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gi(El)}function eg(e,t){if(e==="click")return gi(t)}function tg(e,t){if(e==="input"||e==="change")return gi(t)}function ng(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:ng;function Cl(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Eo.call(t,l)||!Tt(e[l],t[l]))return!1}return!0}function Pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rc(e,t){var n=Pc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pc(n)}}function Ef(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ef(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cf(){for(var e=window,t=Bs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bs(e.document)}return t}function $a(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rg(e){var t=Cf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ef(n.ownerDocument.documentElement,n)){if(r!==null&&$a(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=Rc(n,s);var i=Rc(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lg=Xt&&"documentMode"in document&&11>=document.documentMode,ar=null,Vo=null,pl=null,Ho=!1;function Tc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ho||ar==null||ar!==Bs(r)||(r=ar,"selectionStart"in r&&$a(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pl&&Cl(pl,r)||(pl=r,r=Ys(Vo,"onSelect"),0<r.length&&(t=new Ma("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function hs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionend:hs("Transition","TransitionEnd")},oo={},_f={};Xt&&(_f=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function vi(e){if(oo[e])return oo[e];if(!ur[e])return e;var t=ur[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _f)return oo[e]=t[n];return e}var Pf=vi("animationend"),Rf=vi("animationiteration"),Tf=vi("animationstart"),Df=vi("transitionend"),bf=new Map,Dc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(e,t){bf.set(e,t),Gn(t,[e])}for(var ao=0;ao<Dc.length;ao++){var uo=Dc[ao],sg=uo.toLowerCase(),ig=uo[0].toUpperCase()+uo.slice(1);Cn(sg,"on"+ig)}Cn(Pf,"onAnimationEnd");Cn(Rf,"onAnimationIteration");Cn(Tf,"onAnimationStart");Cn("dblclick","onDoubleClick");Cn("focusin","onFocus");Cn("focusout","onBlur");Cn(Df,"onTransitionEnd");jr("onMouseEnter",["mouseout","mouseover"]);jr("onMouseLeave",["mouseout","mouseover"]);jr("onPointerEnter",["pointerout","pointerover"]);jr("onPointerLeave",["pointerout","pointerover"]);Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),og=new Set("cancel close invalid load scroll toggle".split(" ").concat(ol));function bc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,sh(r,t,void 0,e),e.currentTarget=null}function If(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var u=r[i],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==s&&l.isPropagationStopped())break e;bc(l,u,f),s=c}else for(i=0;i<r.length;i++){if(u=r[i],c=u.instance,f=u.currentTarget,u=u.listener,c!==s&&l.isPropagationStopped())break e;bc(l,u,f),s=c}}}if(Vs)throw e=Uo,Vs=!1,Uo=null,e}function oe(e,t){var n=t[Jo];n===void 0&&(n=t[Jo]=new Set);var r=e+"__bubble";n.has(r)||(Lf(t,e,2,!1),n.add(r))}function co(e,t,n){var r=0;t&&(r|=4),Lf(n,e,r,t)}var gs="_reactListening"+Math.random().toString(36).slice(2);function _l(e){if(!e[gs]){e[gs]=!0,Ud.forEach(function(n){n!=="selectionchange"&&(og.has(n)||co(n,!1,e),co(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gs]||(t[gs]=!0,co("selectionchange",!1,t))}}function Lf(e,t,n,r){switch(vf(t)){case 1:var l=Sh;break;case 4:l=kh;break;default:l=Oa}n=l.bind(null,t,n,e),l=void 0,!Fo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function fo(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var u=r.stateNode.containerInfo;if(u===l||u.nodeType===8&&u.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;u!==null;){if(i=On(u),i===null)return;if(c=i.tag,c===5||c===6){r=s=i;continue e}u=u.parentNode}}r=r.return}nf(function(){var f=s,x=ba(n),w=[];e:{var y=bf.get(e);if(y!==void 0){var C=Ma,k=e;switch(e){case"keypress":if(Ts(n)===0)break e;case"keydown":case"keyup":C=zh;break;case"focusin":k="focus",C=lo;break;case"focusout":k="blur",C=lo;break;case"beforeblur":case"afterblur":C=lo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=Eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=Uh;break;case Pf:case Rf:case Tf:C=Ph;break;case Df:C=Bh;break;case"scroll":C=Nh;break;case"wheel":C=Vh;break;case"copy":case"cut":case"paste":C=Th;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=kc}var R=(t&4)!==0,J=!R&&e==="scroll",p=R?y!==null?y+"Capture":null:y;R=[];for(var d=f,g;d!==null;){g=d;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,p!==null&&(j=Sl(d,p),j!=null&&R.push(Pl(d,j,g)))),J)break;d=d.return}0<R.length&&(y=new C(y,k,null,n,x),w.push({event:y,listeners:R}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",y&&n!==zo&&(k=n.relatedTarget||n.fromElement)&&(On(k)||k[Zt]))break e;if((C||y)&&(y=x.window===x?x:(y=x.ownerDocument)?y.defaultView||y.parentWindow:window,C?(k=n.relatedTarget||n.toElement,C=f,k=k?On(k):null,k!==null&&(J=Qn(k),k!==J||k.tag!==5&&k.tag!==6)&&(k=null)):(C=null,k=f),C!==k)){if(R=wc,j="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(R=kc,j="onPointerLeave",p="onPointerEnter",d="pointer"),J=C==null?y:cr(C),g=k==null?y:cr(k),y=new R(j,d+"leave",C,n,x),y.target=J,y.relatedTarget=g,j=null,On(x)===f&&(R=new R(p,d+"enter",k,n,x),R.target=g,R.relatedTarget=J,j=R),J=j,C&&k)t:{for(R=C,p=k,d=0,g=R;g;g=rr(g))d++;for(g=0,j=p;j;j=rr(j))g++;for(;0<d-g;)R=rr(R),d--;for(;0<g-d;)p=rr(p),g--;for(;d--;){if(R===p||p!==null&&R===p.alternate)break t;R=rr(R),p=rr(p)}R=null}else R=null;C!==null&&Ic(w,y,C,R,!1),k!==null&&J!==null&&Ic(w,J,k,R,!0)}}e:{if(y=f?cr(f):window,C=y.nodeName&&y.nodeName.toLowerCase(),C==="select"||C==="input"&&y.type==="file")var b=Xh;else if(Ec(y))if(Nf)b=tg;else{b=qh;var A=Zh}else(C=y.nodeName)&&C.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(b=eg);if(b&&(b=b(e,f))){kf(w,b,n,x);break e}A&&A(e,y,f),e==="focusout"&&(A=y._wrapperState)&&A.controlled&&y.type==="number"&&bo(y,"number",y.value)}switch(A=f?cr(f):window,e){case"focusin":(Ec(A)||A.contentEditable==="true")&&(ar=A,Vo=f,pl=null);break;case"focusout":pl=Vo=ar=null;break;case"mousedown":Ho=!0;break;case"contextmenu":case"mouseup":case"dragend":Ho=!1,Tc(w,n,x);break;case"selectionchange":if(lg)break;case"keydown":case"keyup":Tc(w,n,x)}var O;if(Ua)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else or?wf(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(xf&&n.locale!=="ko"&&(or||M!=="onCompositionStart"?M==="onCompositionEnd"&&or&&(O=yf()):(pn=x,za="value"in pn?pn.value:pn.textContent,or=!0)),A=Ys(f,M),0<A.length&&(M=new Sc(M,e,null,n,x),w.push({event:M,listeners:A}),O?M.data=O:(O=Sf(n),O!==null&&(M.data=O)))),(O=Gh?Qh(e,n):Kh(e,n))&&(f=Ys(f,"onBeforeInput"),0<f.length&&(x=new Sc("onBeforeInput","beforeinput",null,n,x),w.push({event:x,listeners:f}),x.data=O))}If(w,t)})}function Pl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ys(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=Sl(e,n),s!=null&&r.unshift(Pl(e,s,l)),s=Sl(e,t),s!=null&&r.push(Pl(e,s,l))),e=e.return}return r}function rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ic(e,t,n,r,l){for(var s=t._reactName,i=[];n!==null&&n!==r;){var u=n,c=u.alternate,f=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&f!==null&&(u=f,l?(c=Sl(n,s),c!=null&&i.unshift(Pl(n,c,u))):l||(c=Sl(n,s),c!=null&&i.push(Pl(n,c,u)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var ag=/\r\n?/g,ug=/\u0000|\uFFFD/g;function Lc(e){return(typeof e=="string"?e:""+e).replace(ag,`
`).replace(ug,"")}function vs(e,t,n){if(t=Lc(t),Lc(e)!==t&&n)throw Error(E(425))}function Js(){}var Go=null,Qo=null;function Ko(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yo=typeof setTimeout=="function"?setTimeout:void 0,cg=typeof clearTimeout=="function"?clearTimeout:void 0,Ac=typeof Promise=="function"?Promise:void 0,dg=typeof queueMicrotask=="function"?queueMicrotask:typeof Ac<"u"?function(e){return Ac.resolve(null).then(e).catch(fg)}:Yo;function fg(e){setTimeout(function(){throw e})}function po(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),jl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);jl(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Oc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ir=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Ir,Rl="__reactProps$"+Ir,Zt="__reactContainer$"+Ir,Jo="__reactEvents$"+Ir,pg="__reactListeners$"+Ir,mg="__reactHandles$"+Ir;function On(e){var t=e[Mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zt]||n[Mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Oc(e);e!==null;){if(n=e[Mt])return n;e=Oc(e)}return t}e=n,n=e.parentNode}return null}function Fl(e){return e=e[Mt]||e[Zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function yi(e){return e[Rl]||null}var Xo=[],dr=-1;function _n(e){return{current:e}}function ae(e){0>dr||(e.current=Xo[dr],Xo[dr]=null,dr--)}function ie(e,t){dr++,Xo[dr]=e.current,e.current=t}var jn={},$e=_n(jn),et=_n(!1),$n=jn;function Er(e,t){var n=e.type.contextTypes;if(!n)return jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function tt(e){return e=e.childContextTypes,e!=null}function Xs(){ae(et),ae($e)}function zc(e,t,n){if($e.current!==jn)throw Error(E(168));ie($e,t),ie(et,n)}function Af(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(E(108,Zm(e)||"Unknown",l));return ve({},n,r)}function Zs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,$n=$e.current,ie($e,e),ie(et,et.current),!0}function Mc(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=Af(e,t,$n),r.__reactInternalMemoizedMergedChildContext=e,ae(et),ae($e),ie($e,e)):ae(et),ie(et,n)}var Qt=null,xi=!1,mo=!1;function Of(e){Qt===null?Qt=[e]:Qt.push(e)}function hg(e){xi=!0,Of(e)}function Pn(){if(!mo&&Qt!==null){mo=!0;var e=0,t=ne;try{var n=Qt;for(ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qt=null,xi=!1}catch(l){throw Qt!==null&&(Qt=Qt.slice(e+1)),of(Ia,Pn),l}finally{ne=t,mo=!1}}return null}var fr=[],pr=0,qs=null,ei=0,gt=[],vt=0,Bn=null,Kt=1,Yt="";function In(e,t){fr[pr++]=ei,fr[pr++]=qs,qs=e,ei=t}function zf(e,t,n){gt[vt++]=Kt,gt[vt++]=Yt,gt[vt++]=Bn,Bn=e;var r=Kt;e=Yt;var l=32-Pt(r)-1;r&=~(1<<l),n+=1;var s=32-Pt(t)+l;if(30<s){var i=l-l%5;s=(r&(1<<i)-1).toString(32),r>>=i,l-=i,Kt=1<<32-Pt(t)+l|n<<l|r,Yt=s+e}else Kt=1<<s|n<<l|r,Yt=e}function Ba(e){e.return!==null&&(In(e,1),zf(e,1,0))}function Wa(e){for(;e===qs;)qs=fr[--pr],fr[pr]=null,ei=fr[--pr],fr[pr]=null;for(;e===Bn;)Bn=gt[--vt],gt[vt]=null,Yt=gt[--vt],gt[vt]=null,Kt=gt[--vt],gt[vt]=null}var ot=null,it=null,ce=!1,_t=null;function Mf(e,t){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Fc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,it=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bn!==null?{id:Kt,overflow:Yt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ot=e,it=null,!0):!1;default:return!1}}function Zo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qo(e){if(ce){var t=it;if(t){var n=t;if(!Fc(e,t)){if(Zo(e))throw Error(E(418));t=yn(n.nextSibling);var r=ot;t&&Fc(e,t)?Mf(r,n):(e.flags=e.flags&-4097|2,ce=!1,ot=e)}}else{if(Zo(e))throw Error(E(418));e.flags=e.flags&-4097|2,ce=!1,ot=e}}}function Uc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function ys(e){if(e!==ot)return!1;if(!ce)return Uc(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ko(e.type,e.memoizedProps)),t&&(t=it)){if(Zo(e))throw Ff(),Error(E(418));for(;t;)Mf(e,t),t=yn(t.nextSibling)}if(Uc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){it=yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}it=null}}else it=ot?yn(e.stateNode.nextSibling):null;return!0}function Ff(){for(var e=it;e;)e=yn(e.nextSibling)}function Cr(){it=ot=null,ce=!1}function Va(e){_t===null?_t=[e]:_t.push(e)}var gg=tn.ReactCurrentBatchConfig;function el(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var u=l.refs;i===null?delete u[s]:u[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function xs(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $c(e){var t=e._init;return t(e._payload)}function Uf(e){function t(p,d){if(e){var g=p.deletions;g===null?(p.deletions=[d],p.flags|=16):g.push(d)}}function n(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function r(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function l(p,d){return p=kn(p,d),p.index=0,p.sibling=null,p}function s(p,d,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<d?(p.flags|=2,d):g):(p.flags|=2,d)):(p.flags|=1048576,d)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function u(p,d,g,j){return d===null||d.tag!==6?(d=So(g,p.mode,j),d.return=p,d):(d=l(d,g),d.return=p,d)}function c(p,d,g,j){var b=g.type;return b===ir?x(p,d,g.props.children,j,g.key):d!==null&&(d.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===un&&$c(b)===d.type)?(j=l(d,g.props),j.ref=el(p,d,g),j.return=p,j):(j=zs(g.type,g.key,g.props,null,p.mode,j),j.ref=el(p,d,g),j.return=p,j)}function f(p,d,g,j){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=ko(g,p.mode,j),d.return=p,d):(d=l(d,g.children||[]),d.return=p,d)}function x(p,d,g,j,b){return d===null||d.tag!==7?(d=Un(g,p.mode,j,b),d.return=p,d):(d=l(d,g),d.return=p,d)}function w(p,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=So(""+d,p.mode,g),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case as:return g=zs(d.type,d.key,d.props,null,p.mode,g),g.ref=el(p,null,d),g.return=p,g;case sr:return d=ko(d,p.mode,g),d.return=p,d;case un:var j=d._init;return w(p,j(d._payload),g)}if(sl(d)||Yr(d))return d=Un(d,p.mode,g,null),d.return=p,d;xs(p,d)}return null}function y(p,d,g,j){var b=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:u(p,d,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case as:return g.key===b?c(p,d,g,j):null;case sr:return g.key===b?f(p,d,g,j):null;case un:return b=g._init,y(p,d,b(g._payload),j)}if(sl(g)||Yr(g))return b!==null?null:x(p,d,g,j,null);xs(p,g)}return null}function C(p,d,g,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(g)||null,u(d,p,""+j,b);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case as:return p=p.get(j.key===null?g:j.key)||null,c(d,p,j,b);case sr:return p=p.get(j.key===null?g:j.key)||null,f(d,p,j,b);case un:var A=j._init;return C(p,d,g,A(j._payload),b)}if(sl(j)||Yr(j))return p=p.get(g)||null,x(d,p,j,b,null);xs(d,j)}return null}function k(p,d,g,j){for(var b=null,A=null,O=d,M=d=0,le=null;O!==null&&M<g.length;M++){O.index>M?(le=O,O=null):le=O.sibling;var Y=y(p,O,g[M],j);if(Y===null){O===null&&(O=le);break}e&&O&&Y.alternate===null&&t(p,O),d=s(Y,d,M),A===null?b=Y:A.sibling=Y,A=Y,O=le}if(M===g.length)return n(p,O),ce&&In(p,M),b;if(O===null){for(;M<g.length;M++)O=w(p,g[M],j),O!==null&&(d=s(O,d,M),A===null?b=O:A.sibling=O,A=O);return ce&&In(p,M),b}for(O=r(p,O);M<g.length;M++)le=C(O,p,M,g[M],j),le!==null&&(e&&le.alternate!==null&&O.delete(le.key===null?M:le.key),d=s(le,d,M),A===null?b=le:A.sibling=le,A=le);return e&&O.forEach(function(Ce){return t(p,Ce)}),ce&&In(p,M),b}function R(p,d,g,j){var b=Yr(g);if(typeof b!="function")throw Error(E(150));if(g=b.call(g),g==null)throw Error(E(151));for(var A=b=null,O=d,M=d=0,le=null,Y=g.next();O!==null&&!Y.done;M++,Y=g.next()){O.index>M?(le=O,O=null):le=O.sibling;var Ce=y(p,O,Y.value,j);if(Ce===null){O===null&&(O=le);break}e&&O&&Ce.alternate===null&&t(p,O),d=s(Ce,d,M),A===null?b=Ce:A.sibling=Ce,A=Ce,O=le}if(Y.done)return n(p,O),ce&&In(p,M),b;if(O===null){for(;!Y.done;M++,Y=g.next())Y=w(p,Y.value,j),Y!==null&&(d=s(Y,d,M),A===null?b=Y:A.sibling=Y,A=Y);return ce&&In(p,M),b}for(O=r(p,O);!Y.done;M++,Y=g.next())Y=C(O,p,M,Y.value,j),Y!==null&&(e&&Y.alternate!==null&&O.delete(Y.key===null?M:Y.key),d=s(Y,d,M),A===null?b=Y:A.sibling=Y,A=Y);return e&&O.forEach(function(rt){return t(p,rt)}),ce&&In(p,M),b}function J(p,d,g,j){if(typeof g=="object"&&g!==null&&g.type===ir&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case as:e:{for(var b=g.key,A=d;A!==null;){if(A.key===b){if(b=g.type,b===ir){if(A.tag===7){n(p,A.sibling),d=l(A,g.props.children),d.return=p,p=d;break e}}else if(A.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===un&&$c(b)===A.type){n(p,A.sibling),d=l(A,g.props),d.ref=el(p,A,g),d.return=p,p=d;break e}n(p,A);break}else t(p,A);A=A.sibling}g.type===ir?(d=Un(g.props.children,p.mode,j,g.key),d.return=p,p=d):(j=zs(g.type,g.key,g.props,null,p.mode,j),j.ref=el(p,d,g),j.return=p,p=j)}return i(p);case sr:e:{for(A=g.key;d!==null;){if(d.key===A)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(p,d.sibling),d=l(d,g.children||[]),d.return=p,p=d;break e}else{n(p,d);break}else t(p,d);d=d.sibling}d=ko(g,p.mode,j),d.return=p,p=d}return i(p);case un:return A=g._init,J(p,d,A(g._payload),j)}if(sl(g))return k(p,d,g,j);if(Yr(g))return R(p,d,g,j);xs(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(p,d.sibling),d=l(d,g),d.return=p,p=d):(n(p,d),d=So(g,p.mode,j),d.return=p,p=d),i(p)):n(p,d)}return J}var _r=Uf(!0),$f=Uf(!1),ti=_n(null),ni=null,mr=null,Ha=null;function Ga(){Ha=mr=ni=null}function Qa(e){var t=ti.current;ae(ti),e._currentValue=t}function ea(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sr(e,t){ni=e,Ha=mr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(Ha!==e)if(e={context:e,memoizedValue:t,next:null},mr===null){if(ni===null)throw Error(E(308));mr=e,ni.dependencies={lanes:0,firstContext:e}}else mr=mr.next=e;return t}var zn=null;function Ka(e){zn===null?zn=[e]:zn.push(e)}function Bf(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Ka(t)):(n.next=l.next,l.next=n),t.interleaved=n,qt(e,r)}function qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var cn=!1;function Ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,qt(e,n)}return l=r.interleaved,l===null?(t.next=t,Ka(r)):(t.next=l.next,l.next=t),r.interleaved=t,qt(e,n)}function Ds(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,La(e,n)}}function Bc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ri(e,t,n,r){var l=e.updateQueue;cn=!1;var s=l.firstBaseUpdate,i=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var c=u,f=c.next;c.next=null,i===null?s=f:i.next=f,i=c;var x=e.alternate;x!==null&&(x=x.updateQueue,u=x.lastBaseUpdate,u!==i&&(u===null?x.firstBaseUpdate=f:u.next=f,x.lastBaseUpdate=c))}if(s!==null){var w=l.baseState;i=0,x=f=c=null,u=s;do{var y=u.lane,C=u.eventTime;if((r&y)===y){x!==null&&(x=x.next={eventTime:C,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var k=e,R=u;switch(y=t,C=n,R.tag){case 1:if(k=R.payload,typeof k=="function"){w=k.call(C,w,y);break e}w=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=R.payload,y=typeof k=="function"?k.call(C,w,y):k,y==null)break e;w=ve({},w,y);break e;case 2:cn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,y=l.effects,y===null?l.effects=[u]:y.push(u))}else C={eventTime:C,lane:y,tag:u.tag,payload:u.payload,callback:u.callback,next:null},x===null?(f=x=C,c=w):x=x.next=C,i|=y;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;y=u,u=y.next,y.next=null,l.lastBaseUpdate=y,l.shared.pending=null}}while(!0);if(x===null&&(c=w),l.baseState=c,l.firstBaseUpdate=f,l.lastBaseUpdate=x,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);Vn|=i,e.lanes=i,e.memoizedState=w}}function Wc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(E(191,l));l.call(r)}}}var Ul={},Ut=_n(Ul),Tl=_n(Ul),Dl=_n(Ul);function Mn(e){if(e===Ul)throw Error(E(174));return e}function Ja(e,t){switch(ie(Dl,t),ie(Tl,e),ie(Ut,Ul),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lo(t,e)}ae(Ut),ie(Ut,t)}function Pr(){ae(Ut),ae(Tl),ae(Dl)}function Vf(e){Mn(Dl.current);var t=Mn(Ut.current),n=Lo(t,e.type);t!==n&&(ie(Tl,e),ie(Ut,n))}function Xa(e){Tl.current===e&&(ae(Ut),ae(Tl))}var he=_n(0);function li(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ho=[];function Za(){for(var e=0;e<ho.length;e++)ho[e]._workInProgressVersionPrimary=null;ho.length=0}var bs=tn.ReactCurrentDispatcher,go=tn.ReactCurrentBatchConfig,Wn=0,ge=null,je=null,Pe=null,si=!1,ml=!1,bl=0,vg=0;function Me(){throw Error(E(321))}function qa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function eu(e,t,n,r,l,s){if(Wn=s,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bs.current=e===null||e.memoizedState===null?Sg:kg,e=n(r,l),ml){s=0;do{if(ml=!1,bl=0,25<=s)throw Error(E(301));s+=1,Pe=je=null,t.updateQueue=null,bs.current=Ng,e=n(r,l)}while(ml)}if(bs.current=ii,t=je!==null&&je.next!==null,Wn=0,Pe=je=ge=null,si=!1,t)throw Error(E(300));return e}function tu(){var e=bl!==0;return bl=0,e}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?ge.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function St(){if(je===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Pe===null?ge.memoizedState:Pe.next;if(t!==null)Pe=t,je=e;else{if(e===null)throw Error(E(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Pe===null?ge.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Il(e,t){return typeof t=="function"?t(e):t}function vo(e){var t=St(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=je,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var i=l.next;l.next=s.next,s.next=i}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var u=i=null,c=null,f=s;do{var x=f.lane;if((Wn&x)===x)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var w={lane:x,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=w,i=r):c=c.next=w,ge.lanes|=x,Vn|=x}f=f.next}while(f!==null&&f!==s);c===null?i=r:c.next=u,Tt(r,t.memoizedState)||(qe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,ge.lanes|=s,Vn|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yo(e){var t=St(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do s=e(s,i.action),i=i.next;while(i!==l);Tt(s,t.memoizedState)||(qe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Hf(){}function Gf(e,t){var n=ge,r=St(),l=t(),s=!Tt(r.memoizedState,l);if(s&&(r.memoizedState=l,qe=!0),r=r.queue,nu(Yf.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,Ll(9,Kf.bind(null,n,r,l,t),void 0,null),Re===null)throw Error(E(349));Wn&30||Qf(n,t,l)}return l}function Qf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Kf(e,t,n,r){t.value=n,t.getSnapshot=r,Jf(t)&&Xf(e)}function Yf(e,t,n){return n(function(){Jf(t)&&Xf(e)})}function Jf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function Xf(e){var t=qt(e,1);t!==null&&Rt(t,e,1,-1)}function Vc(e){var t=Ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:e},t.queue=e,e=e.dispatch=wg.bind(null,ge,e),[t.memoizedState,e]}function Ll(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zf(){return St().memoizedState}function Is(e,t,n,r){var l=Ot();ge.flags|=e,l.memoizedState=Ll(1|t,n,void 0,r===void 0?null:r)}function wi(e,t,n,r){var l=St();r=r===void 0?null:r;var s=void 0;if(je!==null){var i=je.memoizedState;if(s=i.destroy,r!==null&&qa(r,i.deps)){l.memoizedState=Ll(t,n,s,r);return}}ge.flags|=e,l.memoizedState=Ll(1|t,n,s,r)}function Hc(e,t){return Is(8390656,8,e,t)}function nu(e,t){return wi(2048,8,e,t)}function qf(e,t){return wi(4,2,e,t)}function ep(e,t){return wi(4,4,e,t)}function tp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function np(e,t,n){return n=n!=null?n.concat([e]):null,wi(4,4,tp.bind(null,t,e),n)}function ru(){}function rp(e,t){var n=St();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function lp(e,t){var n=St();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sp(e,t,n){return Wn&21?(Tt(n,t)||(n=cf(),ge.lanes|=n,Vn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function yg(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var r=go.transition;go.transition={};try{e(!1),t()}finally{ne=n,go.transition=r}}function ip(){return St().memoizedState}function xg(e,t,n){var r=Sn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},op(e))ap(t,n);else if(n=Bf(e,t,n,r),n!==null){var l=He();Rt(n,e,r,l),up(n,t,r)}}function wg(e,t,n){var r=Sn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(op(e))ap(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,u=s(i,n);if(l.hasEagerState=!0,l.eagerState=u,Tt(u,i)){var c=t.interleaved;c===null?(l.next=l,Ka(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Bf(e,t,l,r),n!==null&&(l=He(),Rt(n,e,r,l),up(n,t,r))}}function op(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function ap(e,t){ml=si=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function up(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,La(e,n)}}var ii={readContext:wt,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},Sg={readContext:wt,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:Hc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Is(4194308,4,tp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var n=Ot();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ot();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=xg.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:Vc,useDebugValue:ru,useDeferredValue:function(e){return Ot().memoizedState=e},useTransition:function(){var e=Vc(!1),t=e[0];return e=yg.bind(null,e[1]),Ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ge,l=Ot();if(ce){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),Re===null)throw Error(E(349));Wn&30||Qf(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,Hc(Yf.bind(null,r,s,e),[e]),r.flags|=2048,Ll(9,Kf.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ot(),t=Re.identifierPrefix;if(ce){var n=Yt,r=Kt;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=bl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kg={readContext:wt,useCallback:rp,useContext:wt,useEffect:nu,useImperativeHandle:np,useInsertionEffect:qf,useLayoutEffect:ep,useMemo:lp,useReducer:vo,useRef:Zf,useState:function(){return vo(Il)},useDebugValue:ru,useDeferredValue:function(e){var t=St();return sp(t,je.memoizedState,e)},useTransition:function(){var e=vo(Il)[0],t=St().memoizedState;return[e,t]},useMutableSource:Hf,useSyncExternalStore:Gf,useId:ip,unstable_isNewReconciler:!1},Ng={readContext:wt,useCallback:rp,useContext:wt,useEffect:nu,useImperativeHandle:np,useInsertionEffect:qf,useLayoutEffect:ep,useMemo:lp,useReducer:yo,useRef:Zf,useState:function(){return yo(Il)},useDebugValue:ru,useDeferredValue:function(e){var t=St();return je===null?t.memoizedState=e:sp(t,je.memoizedState,e)},useTransition:function(){var e=yo(Il)[0],t=St().memoizedState;return[e,t]},useMutableSource:Hf,useSyncExternalStore:Gf,useId:ip,unstable_isNewReconciler:!1};function Et(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ta(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Si={isMounted:function(e){return(e=e._reactInternals)?Qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=He(),l=Sn(e),s=Jt(r,l);s.payload=t,n!=null&&(s.callback=n),t=xn(e,s,l),t!==null&&(Rt(t,e,l,r),Ds(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=He(),l=Sn(e),s=Jt(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=xn(e,s,l),t!==null&&(Rt(t,e,l,r),Ds(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=He(),r=Sn(e),l=Jt(n,r);l.tag=2,t!=null&&(l.callback=t),t=xn(e,l,r),t!==null&&(Rt(t,e,r,n),Ds(t,e,r))}};function Gc(e,t,n,r,l,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Cl(n,r)||!Cl(l,s):!0}function cp(e,t,n){var r=!1,l=jn,s=t.contextType;return typeof s=="object"&&s!==null?s=wt(s):(l=tt(t)?$n:$e.current,r=t.contextTypes,s=(r=r!=null)?Er(e,l):jn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Si,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function Qc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Si.enqueueReplaceState(t,t.state,null)}function na(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ya(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=wt(s):(s=tt(t)?$n:$e.current,l.context=Er(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ta(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Si.enqueueReplaceState(l,l.state,null),ri(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Rr(e,t){try{var n="",r=t;do n+=Xm(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function xo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ra(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jg=typeof WeakMap=="function"?WeakMap:Map;function dp(e,t,n){n=Jt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ai||(ai=!0,pa=r),ra(e,t)},n}function fp(e,t,n){n=Jt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){ra(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ra(e,t),typeof r!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Kc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new jg;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Mg.bind(null,e,t,n),t.then(e,e))}function Yc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jc(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jt(-1,1),t.tag=2,xn(n,t,1))),n.lanes|=1),e)}var Eg=tn.ReactCurrentOwner,qe=!1;function Ve(e,t,n,r){t.child=e===null?$f(t,null,n,r):_r(t,e.child,n,r)}function Xc(e,t,n,r,l){n=n.render;var s=t.ref;return Sr(t,l),r=eu(e,t,n,r,s,l),n=tu(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,en(e,t,l)):(ce&&n&&Ba(t),t.flags|=1,Ve(e,t,r,l),t.child)}function Zc(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!du(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,pp(e,t,s,r,l)):(e=zs(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Cl,n(i,r)&&e.ref===t.ref)return en(e,t,l)}return t.flags|=1,e=kn(s,r),e.ref=t.ref,e.return=t,t.child=e}function pp(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(Cl(s,r)&&e.ref===t.ref)if(qe=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,en(e,t,l)}return la(e,t,n,r,l)}function mp(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(gr,st),st|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(gr,st),st|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ie(gr,st),st|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ie(gr,st),st|=r;return Ve(e,t,l,n),t.child}function hp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function la(e,t,n,r,l){var s=tt(n)?$n:$e.current;return s=Er(t,s),Sr(t,l),n=eu(e,t,n,r,s,l),r=tu(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,en(e,t,l)):(ce&&r&&Ba(t),t.flags|=1,Ve(e,t,n,l),t.child)}function qc(e,t,n,r,l){if(tt(n)){var s=!0;Zs(t)}else s=!1;if(Sr(t,l),t.stateNode===null)Ls(e,t),cp(t,n,r),na(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,u=t.memoizedProps;i.props=u;var c=i.context,f=n.contextType;typeof f=="object"&&f!==null?f=wt(f):(f=tt(n)?$n:$e.current,f=Er(t,f));var x=n.getDerivedStateFromProps,w=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function";w||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==r||c!==f)&&Qc(t,i,r,f),cn=!1;var y=t.memoizedState;i.state=y,ri(t,r,i,l),c=t.memoizedState,u!==r||y!==c||et.current||cn?(typeof x=="function"&&(ta(t,n,x,r),c=t.memoizedState),(u=cn||Gc(t,n,u,r,y,c,f))?(w||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=f,r=u):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Wf(e,t),u=t.memoizedProps,f=t.type===t.elementType?u:Et(t.type,u),i.props=f,w=t.pendingProps,y=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=wt(c):(c=tt(n)?$n:$e.current,c=Er(t,c));var C=n.getDerivedStateFromProps;(x=typeof C=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==w||y!==c)&&Qc(t,i,r,c),cn=!1,y=t.memoizedState,i.state=y,ri(t,r,i,l);var k=t.memoizedState;u!==w||y!==k||et.current||cn?(typeof C=="function"&&(ta(t,n,C,r),k=t.memoizedState),(f=cn||Gc(t,n,f,r,y,k,c)||!1)?(x||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,k,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,k,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),i.props=r,i.state=k,i.context=c,r=f):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return sa(e,t,n,r,s,l)}function sa(e,t,n,r,l,s){hp(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&Mc(t,n,!1),en(e,t,s);r=t.stateNode,Eg.current=t;var u=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=_r(t,e.child,null,s),t.child=_r(t,null,u,s)):Ve(e,t,u,s),t.memoizedState=r.state,l&&Mc(t,n,!0),t.child}function gp(e){var t=e.stateNode;t.pendingContext?zc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zc(e,t.context,!1),Ja(e,t.containerInfo)}function ed(e,t,n,r,l){return Cr(),Va(l),t.flags|=256,Ve(e,t,n,r),t.child}var ia={dehydrated:null,treeContext:null,retryLane:0};function oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function vp(e,t,n){var r=t.pendingProps,l=he.current,s=!1,i=(t.flags&128)!==0,u;if((u=i)||(u=e!==null&&e.memoizedState===null?!1:(l&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ie(he,l&1),e===null)return qo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=ji(i,r,0,null),e=Un(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=oa(n),t.memoizedState=ia,e):lu(t,i));if(l=e.memoizedState,l!==null&&(u=l.dehydrated,u!==null))return Cg(e,t,i,r,u,l,n);if(s){s=r.fallback,i=t.mode,l=e.child,u=l.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=kn(l,c),r.subtreeFlags=l.subtreeFlags&14680064),u!==null?s=kn(u,s):(s=Un(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?oa(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=ia,r}return s=e.child,e=s.sibling,r=kn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function lu(e,t){return t=ji({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ws(e,t,n,r){return r!==null&&Va(r),_r(t,e.child,null,n),e=lu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cg(e,t,n,r,l,s,i){if(n)return t.flags&256?(t.flags&=-257,r=xo(Error(E(422))),ws(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=ji({mode:"visible",children:r.children},l,0,null),s=Un(s,l,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&_r(t,e.child,null,i),t.child.memoizedState=oa(i),t.memoizedState=ia,s);if(!(t.mode&1))return ws(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(E(419)),r=xo(s,r,void 0),ws(e,t,i,r)}if(u=(i&e.childLanes)!==0,qe||u){if(r=Re,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,qt(e,l),Rt(r,e,l,-1))}return cu(),r=xo(Error(E(421))),ws(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Fg.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,it=yn(l.nextSibling),ot=t,ce=!0,_t=null,e!==null&&(gt[vt++]=Kt,gt[vt++]=Yt,gt[vt++]=Bn,Kt=e.id,Yt=e.overflow,Bn=t),t=lu(t,r.children),t.flags|=4096,t)}function td(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ea(e.return,t,n)}function wo(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function yp(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(Ve(e,t,r.children,n),r=he.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&td(e,n,t);else if(e.tag===19)td(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ie(he,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&li(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),wo(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&li(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}wo(t,!0,n,null,s);break;case"together":wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ls(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function en(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=kn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=kn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _g(e,t,n){switch(t.tag){case 3:gp(t),Cr();break;case 5:Vf(t);break;case 1:tt(t.type)&&Zs(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;ie(ti,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ie(he,he.current&1),t.flags|=128,null):n&t.child.childLanes?vp(e,t,n):(ie(he,he.current&1),e=en(e,t,n),e!==null?e.sibling:null);ie(he,he.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return yp(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ie(he,he.current),r)break;return null;case 22:case 23:return t.lanes=0,mp(e,t,n)}return en(e,t,n)}var xp,aa,wp,Sp;xp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};aa=function(){};wp=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Mn(Ut.current);var s=null;switch(n){case"input":l=To(e,l),r=To(e,r),s=[];break;case"select":l=ve({},l,{value:void 0}),r=ve({},r,{value:void 0}),s=[];break;case"textarea":l=Io(e,l),r=Io(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Js)}Ao(n,r);var i;n=null;for(f in l)if(!r.hasOwnProperty(f)&&l.hasOwnProperty(f)&&l[f]!=null)if(f==="style"){var u=l[f];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(xl.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(u=l!=null?l[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(i in u)!u.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&u[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(xl.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&oe("scroll",e),s||u===c||(s=[])):(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}};Sp=function(e,t,n,r){n!==r&&(t.flags|=4)};function tl(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Pg(e,t,n){var r=t.pendingProps;switch(Wa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return tt(t.type)&&Xs(),Fe(t),null;case 3:return r=t.stateNode,Pr(),ae(et),ae($e),Za(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ys(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_t!==null&&(ga(_t),_t=null))),aa(e,t),Fe(t),null;case 5:Xa(t);var l=Mn(Dl.current);if(n=t.type,e!==null&&t.stateNode!=null)wp(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return Fe(t),null}if(e=Mn(Ut.current),ys(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Mt]=t,r[Rl]=s,e=(t.mode&1)!==0,n){case"dialog":oe("cancel",r),oe("close",r);break;case"iframe":case"object":case"embed":oe("load",r);break;case"video":case"audio":for(l=0;l<ol.length;l++)oe(ol[l],r);break;case"source":oe("error",r);break;case"img":case"image":case"link":oe("error",r),oe("load",r);break;case"details":oe("toggle",r);break;case"input":cc(r,s),oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},oe("invalid",r);break;case"textarea":fc(r,s),oe("invalid",r)}Ao(n,s),l=null;for(var i in s)if(s.hasOwnProperty(i)){var u=s[i];i==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&vs(r.textContent,u,e),l=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&vs(r.textContent,u,e),l=["children",""+u]):xl.hasOwnProperty(i)&&u!=null&&i==="onScroll"&&oe("scroll",r)}switch(n){case"input":us(r),dc(r,s,!0);break;case"textarea":us(r),pc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Js)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Mt]=t,e[Rl]=r,xp(e,t,!1,!1),t.stateNode=e;e:{switch(i=Oo(n,r),n){case"dialog":oe("cancel",e),oe("close",e),l=r;break;case"iframe":case"object":case"embed":oe("load",e),l=r;break;case"video":case"audio":for(l=0;l<ol.length;l++)oe(ol[l],e);l=r;break;case"source":oe("error",e),l=r;break;case"img":case"image":case"link":oe("error",e),oe("load",e),l=r;break;case"details":oe("toggle",e),l=r;break;case"input":cc(e,r),l=To(e,r),oe("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ve({},r,{value:void 0}),oe("invalid",e);break;case"textarea":fc(e,r),l=Io(e,r),oe("invalid",e);break;default:l=r}Ao(n,l),u=l;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?Xd(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Yd(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&wl(e,c):typeof c=="number"&&wl(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&oe("scroll",e):c!=null&&Pa(e,s,c,i))}switch(n){case"input":us(e),dc(e,r,!1);break;case"textarea":us(e),pc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Nn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?vr(e,!!r.multiple,s,!1):r.defaultValue!=null&&vr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Js)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fe(t),null;case 6:if(e&&t.stateNode!=null)Sp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=Mn(Dl.current),Mn(Ut.current),ys(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mt]=t,(s=r.nodeValue!==n)&&(e=ot,e!==null))switch(e.tag){case 3:vs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vs(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mt]=t,t.stateNode=r}return Fe(t),null;case 13:if(ae(he),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&it!==null&&t.mode&1&&!(t.flags&128))Ff(),Cr(),t.flags|=98560,s=!1;else if(s=ys(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(E(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(E(317));s[Mt]=t}else Cr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fe(t),s=!1}else _t!==null&&(ga(_t),_t=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||he.current&1?Ee===0&&(Ee=3):cu())),t.updateQueue!==null&&(t.flags|=4),Fe(t),null);case 4:return Pr(),aa(e,t),e===null&&_l(t.stateNode.containerInfo),Fe(t),null;case 10:return Qa(t.type._context),Fe(t),null;case 17:return tt(t.type)&&Xs(),Fe(t),null;case 19:if(ae(he),s=t.memoizedState,s===null)return Fe(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)tl(s,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=li(e),i!==null){for(t.flags|=128,tl(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(he,he.current&1|2),t.child}e=e.sibling}s.tail!==null&&Se()>Tr&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304)}else{if(!r)if(e=li(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),tl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!ce)return Fe(t),null}else 2*Se()-s.renderingStartTime>Tr&&n!==1073741824&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Se(),t.sibling=null,n=he.current,ie(he,r?n&1|2:n&1),t):(Fe(t),null);case 22:case 23:return uu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?st&1073741824&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function Rg(e,t){switch(Wa(t),t.tag){case 1:return tt(t.type)&&Xs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pr(),ae(et),ae($e),Za(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xa(t),null;case 13:if(ae(he),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(he),null;case 4:return Pr(),null;case 10:return Qa(t.type._context),null;case 22:case 23:return uu(),null;case 24:return null;default:return null}}var Ss=!1,Ue=!1,Tg=typeof WeakSet=="function"?WeakSet:Set,z=null;function hr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function ua(e,t,n){try{n()}catch(r){ye(e,t,r)}}var nd=!1;function Dg(e,t){if(Go=Qs,e=Cf(),$a(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,u=-1,c=-1,f=0,x=0,w=e,y=null;t:for(;;){for(var C;w!==n||l!==0&&w.nodeType!==3||(u=i+l),w!==s||r!==0&&w.nodeType!==3||(c=i+r),w.nodeType===3&&(i+=w.nodeValue.length),(C=w.firstChild)!==null;)y=w,w=C;for(;;){if(w===e)break t;if(y===n&&++f===l&&(u=i),y===s&&++x===r&&(c=i),(C=w.nextSibling)!==null)break;w=y,y=w.parentNode}w=C}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qo={focusedElem:e,selectionRange:n},Qs=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var R=k.memoizedProps,J=k.memoizedState,p=t.stateNode,d=p.getSnapshotBeforeUpdate(t.elementType===t.type?R:Et(t.type,R),J);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(j){ye(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return k=nd,nd=!1,k}function hl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&ua(t,n,s)}l=l.next}while(l!==r)}}function ki(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ca(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kp(e){var t=e.alternate;t!==null&&(e.alternate=null,kp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[Rl],delete t[Jo],delete t[pg],delete t[mg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Np(e){return e.tag===5||e.tag===3||e.tag===4}function rd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function da(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Js));else if(r!==4&&(e=e.child,e!==null))for(da(e,t,n),e=e.sibling;e!==null;)da(e,t,n),e=e.sibling}function fa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fa(e,t,n),e=e.sibling;e!==null;)fa(e,t,n),e=e.sibling}var Ie=null,Ct=!1;function an(e,t,n){for(n=n.child;n!==null;)jp(e,t,n),n=n.sibling}function jp(e,t,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(mi,n)}catch{}switch(n.tag){case 5:Ue||hr(n,t);case 6:var r=Ie,l=Ct;Ie=null,an(e,t,n),Ie=r,Ct=l,Ie!==null&&(Ct?(e=Ie,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ie.removeChild(n.stateNode));break;case 18:Ie!==null&&(Ct?(e=Ie,n=n.stateNode,e.nodeType===8?po(e.parentNode,n):e.nodeType===1&&po(e,n),jl(e)):po(Ie,n.stateNode));break;case 4:r=Ie,l=Ct,Ie=n.stateNode.containerInfo,Ct=!0,an(e,t,n),Ie=r,Ct=l;break;case 0:case 11:case 14:case 15:if(!Ue&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&ua(n,t,i),l=l.next}while(l!==r)}an(e,t,n);break;case 1:if(!Ue&&(hr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){ye(n,t,u)}an(e,t,n);break;case 21:an(e,t,n);break;case 22:n.mode&1?(Ue=(r=Ue)||n.memoizedState!==null,an(e,t,n),Ue=r):an(e,t,n);break;default:an(e,t,n)}}function ld(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Tg),t.forEach(function(r){var l=Ug.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,i=t,u=i;e:for(;u!==null;){switch(u.tag){case 5:Ie=u.stateNode,Ct=!1;break e;case 3:Ie=u.stateNode.containerInfo,Ct=!0;break e;case 4:Ie=u.stateNode.containerInfo,Ct=!0;break e}u=u.return}if(Ie===null)throw Error(E(160));jp(s,i,l),Ie=null,Ct=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(f){ye(l,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ep(t,e),t=t.sibling}function Ep(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),At(e),r&4){try{hl(3,e,e.return),ki(3,e)}catch(R){ye(e,e.return,R)}try{hl(5,e,e.return)}catch(R){ye(e,e.return,R)}}break;case 1:jt(t,e),At(e),r&512&&n!==null&&hr(n,n.return);break;case 5:if(jt(t,e),At(e),r&512&&n!==null&&hr(n,n.return),e.flags&32){var l=e.stateNode;try{wl(l,"")}catch(R){ye(e,e.return,R)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Gd(l,s),Oo(u,i);var f=Oo(u,s);for(i=0;i<c.length;i+=2){var x=c[i],w=c[i+1];x==="style"?Xd(l,w):x==="dangerouslySetInnerHTML"?Yd(l,w):x==="children"?wl(l,w):Pa(l,x,w,f)}switch(u){case"input":Do(l,s);break;case"textarea":Qd(l,s);break;case"select":var y=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var C=s.value;C!=null?vr(l,!!s.multiple,C,!1):y!==!!s.multiple&&(s.defaultValue!=null?vr(l,!!s.multiple,s.defaultValue,!0):vr(l,!!s.multiple,s.multiple?[]:"",!1))}l[Rl]=s}catch(R){ye(e,e.return,R)}}break;case 6:if(jt(t,e),At(e),r&4){if(e.stateNode===null)throw Error(E(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(R){ye(e,e.return,R)}}break;case 3:if(jt(t,e),At(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jl(t.containerInfo)}catch(R){ye(e,e.return,R)}break;case 4:jt(t,e),At(e);break;case 13:jt(t,e),At(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(ou=Se())),r&4&&ld(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?(Ue=(f=Ue)||x,jt(t,e),Ue=f):jt(t,e),At(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!x&&e.mode&1)for(z=e,x=e.child;x!==null;){for(w=z=x;z!==null;){switch(y=z,C=y.child,y.tag){case 0:case 11:case 14:case 15:hl(4,y,y.return);break;case 1:hr(y,y.return);var k=y.stateNode;if(typeof k.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(R){ye(r,n,R)}}break;case 5:hr(y,y.return);break;case 22:if(y.memoizedState!==null){id(w);continue}}C!==null?(C.return=y,z=C):id(w)}x=x.sibling}e:for(x=null,w=e;;){if(w.tag===5){if(x===null){x=w;try{l=w.stateNode,f?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=w.stateNode,c=w.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Jd("display",i))}catch(R){ye(e,e.return,R)}}}else if(w.tag===6){if(x===null)try{w.stateNode.nodeValue=f?"":w.memoizedProps}catch(R){ye(e,e.return,R)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;x===w&&(x=null),w=w.return}x===w&&(x=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:jt(t,e),At(e),r&4&&ld(e);break;case 21:break;default:jt(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Np(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(wl(l,""),r.flags&=-33);var s=rd(e);fa(e,s,l);break;case 3:case 4:var i=r.stateNode.containerInfo,u=rd(e);da(e,u,i);break;default:throw Error(E(161))}}catch(c){ye(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bg(e,t,n){z=e,Cp(e)}function Cp(e,t,n){for(var r=(e.mode&1)!==0;z!==null;){var l=z,s=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||Ss;if(!i){var u=l.alternate,c=u!==null&&u.memoizedState!==null||Ue;u=Ss;var f=Ue;if(Ss=i,(Ue=c)&&!f)for(z=l;z!==null;)i=z,c=i.child,i.tag===22&&i.memoizedState!==null?od(l):c!==null?(c.return=i,z=c):od(l);for(;s!==null;)z=s,Cp(s),s=s.sibling;z=l,Ss=u,Ue=f}sd(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,z=s):sd(e)}}function sd(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ue||ki(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ue)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Et(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Wc(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wc(t,i,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var x=f.memoizedState;if(x!==null){var w=x.dehydrated;w!==null&&jl(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Ue||t.flags&512&&ca(t)}catch(y){ye(t,t.return,y)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function id(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function od(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ki(4,t)}catch(c){ye(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){ye(t,l,c)}}var s=t.return;try{ca(t)}catch(c){ye(t,s,c)}break;case 5:var i=t.return;try{ca(t)}catch(c){ye(t,i,c)}}}catch(c){ye(t,t.return,c)}if(t===e){z=null;break}var u=t.sibling;if(u!==null){u.return=t.return,z=u;break}z=t.return}}var Ig=Math.ceil,oi=tn.ReactCurrentDispatcher,su=tn.ReactCurrentOwner,xt=tn.ReactCurrentBatchConfig,ee=0,Re=null,ke=null,Le=0,st=0,gr=_n(0),Ee=0,Al=null,Vn=0,Ni=0,iu=0,gl=null,Ze=null,ou=0,Tr=1/0,Gt=null,ai=!1,pa=null,wn=null,ks=!1,mn=null,ui=0,vl=0,ma=null,As=-1,Os=0;function He(){return ee&6?Se():As!==-1?As:As=Se()}function Sn(e){return e.mode&1?ee&2&&Le!==0?Le&-Le:gg.transition!==null?(Os===0&&(Os=cf()),Os):(e=ne,e!==0||(e=window.event,e=e===void 0?16:vf(e.type)),e):1}function Rt(e,t,n,r){if(50<vl)throw vl=0,ma=null,Error(E(185));zl(e,n,r),(!(ee&2)||e!==Re)&&(e===Re&&(!(ee&2)&&(Ni|=n),Ee===4&&fn(e,Le)),nt(e,r),n===1&&ee===0&&!(t.mode&1)&&(Tr=Se()+500,xi&&Pn()))}function nt(e,t){var n=e.callbackNode;gh(e,t);var r=Gs(e,e===Re?Le:0);if(r===0)n!==null&&gc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&gc(n),t===1)e.tag===0?hg(ad.bind(null,e)):Of(ad.bind(null,e)),dg(function(){!(ee&6)&&Pn()}),n=null;else{switch(df(r)){case 1:n=Ia;break;case 4:n=af;break;case 16:n=Hs;break;case 536870912:n=uf;break;default:n=Hs}n=Lp(n,_p.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function _p(e,t){if(As=-1,Os=0,ee&6)throw Error(E(327));var n=e.callbackNode;if(kr()&&e.callbackNode!==n)return null;var r=Gs(e,e===Re?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ci(e,r);else{t=r;var l=ee;ee|=2;var s=Rp();(Re!==e||Le!==t)&&(Gt=null,Tr=Se()+500,Fn(e,t));do try{Og();break}catch(u){Pp(e,u)}while(!0);Ga(),oi.current=s,ee=l,ke!==null?t=0:(Re=null,Le=0,t=Ee)}if(t!==0){if(t===2&&(l=$o(e),l!==0&&(r=l,t=ha(e,l))),t===1)throw n=Al,Fn(e,0),fn(e,r),nt(e,Se()),n;if(t===6)fn(e,r);else{if(l=e.current.alternate,!(r&30)&&!Lg(l)&&(t=ci(e,r),t===2&&(s=$o(e),s!==0&&(r=s,t=ha(e,s))),t===1))throw n=Al,Fn(e,0),fn(e,r),nt(e,Se()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:Ln(e,Ze,Gt);break;case 3:if(fn(e,r),(r&130023424)===r&&(t=ou+500-Se(),10<t)){if(Gs(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){He(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Yo(Ln.bind(null,e,Ze,Gt),t);break}Ln(e,Ze,Gt);break;case 4:if(fn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-Pt(r);s=1<<i,i=t[i],i>l&&(l=i),r&=~s}if(r=l,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ig(r/1960))-r,10<r){e.timeoutHandle=Yo(Ln.bind(null,e,Ze,Gt),r);break}Ln(e,Ze,Gt);break;case 5:Ln(e,Ze,Gt);break;default:throw Error(E(329))}}}return nt(e,Se()),e.callbackNode===n?_p.bind(null,e):null}function ha(e,t){var n=gl;return e.current.memoizedState.isDehydrated&&(Fn(e,t).flags|=256),e=ci(e,t),e!==2&&(t=Ze,Ze=n,t!==null&&ga(t)),e}function ga(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function Lg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!Tt(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fn(e,t){for(t&=~iu,t&=~Ni,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pt(t),r=1<<n;e[n]=-1,t&=~r}}function ad(e){if(ee&6)throw Error(E(327));kr();var t=Gs(e,0);if(!(t&1))return nt(e,Se()),null;var n=ci(e,t);if(e.tag!==0&&n===2){var r=$o(e);r!==0&&(t=r,n=ha(e,r))}if(n===1)throw n=Al,Fn(e,0),fn(e,t),nt(e,Se()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ln(e,Ze,Gt),nt(e,Se()),null}function au(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(Tr=Se()+500,xi&&Pn())}}function Hn(e){mn!==null&&mn.tag===0&&!(ee&6)&&kr();var t=ee;ee|=1;var n=xt.transition,r=ne;try{if(xt.transition=null,ne=1,e)return e()}finally{ne=r,xt.transition=n,ee=t,!(ee&6)&&Pn()}}function uu(){st=gr.current,ae(gr)}function Fn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,cg(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(Wa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xs();break;case 3:Pr(),ae(et),ae($e),Za();break;case 5:Xa(r);break;case 4:Pr();break;case 13:ae(he);break;case 19:ae(he);break;case 10:Qa(r.type._context);break;case 22:case 23:uu()}n=n.return}if(Re=e,ke=e=kn(e.current,null),Le=st=t,Ee=0,Al=null,iu=Ni=Vn=0,Ze=gl=null,zn!==null){for(t=0;t<zn.length;t++)if(n=zn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=l,r.next=i}n.pending=r}zn=null}return e}function Pp(e,t){do{var n=ke;try{if(Ga(),bs.current=ii,si){for(var r=ge.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}si=!1}if(Wn=0,Pe=je=ge=null,ml=!1,bl=0,su.current=null,n===null||n.return===null){Ee=1,Al=t,ke=null;break}e:{var s=e,i=n.return,u=n,c=t;if(t=Le,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,x=u,w=x.tag;if(!(x.mode&1)&&(w===0||w===11||w===15)){var y=x.alternate;y?(x.updateQueue=y.updateQueue,x.memoizedState=y.memoizedState,x.lanes=y.lanes):(x.updateQueue=null,x.memoizedState=null)}var C=Yc(i);if(C!==null){C.flags&=-257,Jc(C,i,u,s,t),C.mode&1&&Kc(s,f,t),t=C,c=f;var k=t.updateQueue;if(k===null){var R=new Set;R.add(c),t.updateQueue=R}else k.add(c);break e}else{if(!(t&1)){Kc(s,f,t),cu();break e}c=Error(E(426))}}else if(ce&&u.mode&1){var J=Yc(i);if(J!==null){!(J.flags&65536)&&(J.flags|=256),Jc(J,i,u,s,t),Va(Rr(c,u));break e}}s=c=Rr(c,u),Ee!==4&&(Ee=2),gl===null?gl=[s]:gl.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=dp(s,c,t);Bc(s,p);break e;case 1:u=c;var d=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(wn===null||!wn.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=fp(s,u,t);Bc(s,j);break e}}s=s.return}while(s!==null)}Dp(n)}catch(b){t=b,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function Rp(){var e=oi.current;return oi.current=ii,e===null?ii:e}function cu(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Re===null||!(Vn&268435455)&&!(Ni&268435455)||fn(Re,Le)}function ci(e,t){var n=ee;ee|=2;var r=Rp();(Re!==e||Le!==t)&&(Gt=null,Fn(e,t));do try{Ag();break}catch(l){Pp(e,l)}while(!0);if(Ga(),ee=n,oi.current=r,ke!==null)throw Error(E(261));return Re=null,Le=0,Ee}function Ag(){for(;ke!==null;)Tp(ke)}function Og(){for(;ke!==null&&!oh();)Tp(ke)}function Tp(e){var t=Ip(e.alternate,e,st);e.memoizedProps=e.pendingProps,t===null?Dp(e):ke=t,su.current=null}function Dp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Rg(n,t),n!==null){n.flags&=32767,ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,ke=null;return}}else if(n=Pg(n,t,st),n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);Ee===0&&(Ee=5)}function Ln(e,t,n){var r=ne,l=xt.transition;try{xt.transition=null,ne=1,zg(e,t,n,r)}finally{xt.transition=l,ne=r}return null}function zg(e,t,n,r){do kr();while(mn!==null);if(ee&6)throw Error(E(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(vh(e,s),e===Re&&(ke=Re=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ks||(ks=!0,Lp(Hs,function(){return kr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xt.transition,xt.transition=null;var i=ne;ne=1;var u=ee;ee|=4,su.current=null,Dg(e,n),Ep(n,e),rg(Qo),Qs=!!Go,Qo=Go=null,e.current=n,bg(n),ah(),ee=u,ne=i,xt.transition=s}else e.current=n;if(ks&&(ks=!1,mn=e,ui=l),s=e.pendingLanes,s===0&&(wn=null),dh(n.stateNode),nt(e,Se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(ai)throw ai=!1,e=pa,pa=null,e;return ui&1&&e.tag!==0&&kr(),s=e.pendingLanes,s&1?e===ma?vl++:(vl=0,ma=e):vl=0,Pn(),null}function kr(){if(mn!==null){var e=df(ui),t=xt.transition,n=ne;try{if(xt.transition=null,ne=16>e?16:e,mn===null)var r=!1;else{if(e=mn,mn=null,ui=0,ee&6)throw Error(E(331));var l=ee;for(ee|=4,z=e.current;z!==null;){var s=z,i=s.child;if(z.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for(z=f;z!==null;){var x=z;switch(x.tag){case 0:case 11:case 15:hl(8,x,s)}var w=x.child;if(w!==null)w.return=x,z=w;else for(;z!==null;){x=z;var y=x.sibling,C=x.return;if(kp(x),x===f){z=null;break}if(y!==null){y.return=C,z=y;break}z=C}}}var k=s.alternate;if(k!==null){var R=k.child;if(R!==null){k.child=null;do{var J=R.sibling;R.sibling=null,R=J}while(R!==null)}}z=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,z=i;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hl(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,z=p;break e}z=s.return}}var d=e.current;for(z=d;z!==null;){i=z;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,z=g;else e:for(i=d;z!==null;){if(u=z,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:ki(9,u)}}catch(b){ye(u,u.return,b)}if(u===i){z=null;break e}var j=u.sibling;if(j!==null){j.return=u.return,z=j;break e}z=u.return}}if(ee=l,Pn(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(mi,e)}catch{}r=!0}return r}finally{ne=n,xt.transition=t}}return!1}function ud(e,t,n){t=Rr(n,t),t=dp(e,t,1),e=xn(e,t,1),t=He(),e!==null&&(zl(e,1,t),nt(e,t))}function ye(e,t,n){if(e.tag===3)ud(e,e,n);else for(;t!==null;){if(t.tag===3){ud(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wn===null||!wn.has(r))){e=Rr(n,e),e=fp(t,e,1),t=xn(t,e,1),e=He(),t!==null&&(zl(t,1,e),nt(t,e));break}}t=t.return}}function Mg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&n,Re===e&&(Le&n)===n&&(Ee===4||Ee===3&&(Le&130023424)===Le&&500>Se()-ou?Fn(e,0):iu|=n),nt(e,t)}function bp(e,t){t===0&&(e.mode&1?(t=fs,fs<<=1,!(fs&130023424)&&(fs=4194304)):t=1);var n=He();e=qt(e,t),e!==null&&(zl(e,t,n),nt(e,n))}function Fg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bp(e,n)}function Ug(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),bp(e,n)}var Ip;Ip=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qe=!1,_g(e,t,n);qe=!!(e.flags&131072)}else qe=!1,ce&&t.flags&1048576&&zf(t,ei,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ls(e,t),e=t.pendingProps;var l=Er(t,$e.current);Sr(t,n),l=eu(null,t,r,e,l,n);var s=tu();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(r)?(s=!0,Zs(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ya(t),l.updater=Si,t.stateNode=l,l._reactInternals=t,na(t,r,e,n),t=sa(null,t,r,!0,s,n)):(t.tag=0,ce&&s&&Ba(t),Ve(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ls(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Bg(r),e=Et(r,e),l){case 0:t=la(null,t,r,e,n);break e;case 1:t=qc(null,t,r,e,n);break e;case 11:t=Xc(null,t,r,e,n);break e;case 14:t=Zc(null,t,r,Et(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Et(r,l),la(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Et(r,l),qc(e,t,r,l,n);case 3:e:{if(gp(t),e===null)throw Error(E(387));r=t.pendingProps,s=t.memoizedState,l=s.element,Wf(e,t),ri(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=Rr(Error(E(423)),t),t=ed(e,t,r,n,l);break e}else if(r!==l){l=Rr(Error(E(424)),t),t=ed(e,t,r,n,l);break e}else for(it=yn(t.stateNode.containerInfo.firstChild),ot=t,ce=!0,_t=null,n=$f(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cr(),r===l){t=en(e,t,n);break e}Ve(e,t,r,n)}t=t.child}return t;case 5:return Vf(t),e===null&&qo(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,i=l.children,Ko(r,l)?i=null:s!==null&&Ko(r,s)&&(t.flags|=32),hp(e,t),Ve(e,t,i,n),t.child;case 6:return e===null&&qo(t),null;case 13:return vp(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=_r(t,null,r,n):Ve(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Et(r,l),Xc(e,t,r,l,n);case 7:return Ve(e,t,t.pendingProps,n),t.child;case 8:return Ve(e,t,t.pendingProps.children,n),t.child;case 12:return Ve(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,i=l.value,ie(ti,r._currentValue),r._currentValue=i,s!==null)if(Tt(s.value,i)){if(s.children===l.children&&!et.current){t=en(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){i=s.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Jt(-1,n&-n),c.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var x=f.pending;x===null?c.next=c:(c.next=x.next,x.next=c),f.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),ea(s.return,n,t),u.lanes|=n;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(E(341));i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),ea(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Ve(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Sr(t,n),l=wt(l),r=r(l),t.flags|=1,Ve(e,t,r,n),t.child;case 14:return r=t.type,l=Et(r,t.pendingProps),l=Et(r.type,l),Zc(e,t,r,l,n);case 15:return pp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Et(r,l),Ls(e,t),t.tag=1,tt(r)?(e=!0,Zs(t)):e=!1,Sr(t,n),cp(t,r,l),na(t,r,l,n),sa(null,t,r,!0,e,n);case 19:return yp(e,t,n);case 22:return mp(e,t,n)}throw Error(E(156,t.tag))};function Lp(e,t){return of(e,t)}function $g(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,n,r){return new $g(e,t,n,r)}function du(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bg(e){if(typeof e=="function")return du(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ta)return 11;if(e===Da)return 14}return 2}function kn(e,t){var n=e.alternate;return n===null?(n=yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zs(e,t,n,r,l,s){var i=2;if(r=e,typeof e=="function")du(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ir:return Un(n.children,l,s,t);case Ra:i=8,l|=8;break;case Co:return e=yt(12,n,t,l|2),e.elementType=Co,e.lanes=s,e;case _o:return e=yt(13,n,t,l),e.elementType=_o,e.lanes=s,e;case Po:return e=yt(19,n,t,l),e.elementType=Po,e.lanes=s,e;case Wd:return ji(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $d:i=10;break e;case Bd:i=9;break e;case Ta:i=11;break e;case Da:i=14;break e;case un:i=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=yt(i,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function Un(e,t,n,r){return e=yt(7,e,r,t),e.lanes=n,e}function ji(e,t,n,r){return e=yt(22,e,r,t),e.elementType=Wd,e.lanes=n,e.stateNode={isHidden:!1},e}function So(e,t,n){return e=yt(6,e,null,t),e.lanes=n,e}function ko(e,t,n){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wg(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=to(0),this.expirationTimes=to(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=to(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function fu(e,t,n,r,l,s,i,u,c){return e=new Wg(e,t,n,u,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=yt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ya(s),e}function Vg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ap(e){if(!e)return jn;e=e._reactInternals;e:{if(Qn(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(tt(n))return Af(e,n,t)}return t}function Op(e,t,n,r,l,s,i,u,c){return e=fu(n,r,!0,e,l,s,i,u,c),e.context=Ap(null),n=e.current,r=He(),l=Sn(n),s=Jt(r,l),s.callback=t??null,xn(n,s,l),e.current.lanes=l,zl(e,l,r),nt(e,r),e}function Ei(e,t,n,r){var l=t.current,s=He(),i=Sn(l);return n=Ap(n),t.context===null?t.context=n:t.pendingContext=n,t=Jt(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xn(l,t,i),e!==null&&(Rt(e,l,i,s),Ds(e,l,i)),i}function di(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function pu(e,t){cd(e,t),(e=e.alternate)&&cd(e,t)}function Hg(){return null}var zp=typeof reportError=="function"?reportError:function(e){console.error(e)};function mu(e){this._internalRoot=e}Ci.prototype.render=mu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Ei(e,t,null,null)};Ci.prototype.unmount=mu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hn(function(){Ei(null,e,null,null)}),t[Zt]=null}};function Ci(e){this._internalRoot=e}Ci.prototype.unstable_scheduleHydration=function(e){if(e){var t=mf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dn.length&&t!==0&&t<dn[n].priority;n++);dn.splice(n,0,e),n===0&&gf(e)}};function hu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dd(){}function Gg(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var f=di(i);s.call(f)}}var i=Op(t,r,e,0,null,!1,!1,"",dd);return e._reactRootContainer=i,e[Zt]=i.current,_l(e.nodeType===8?e.parentNode:e),Hn(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var u=r;r=function(){var f=di(c);u.call(f)}}var c=fu(e,0,!1,null,null,!1,!1,"",dd);return e._reactRootContainer=c,e[Zt]=c.current,_l(e.nodeType===8?e.parentNode:e),Hn(function(){Ei(t,c,n,r)}),c}function Pi(e,t,n,r,l){var s=n._reactRootContainer;if(s){var i=s;if(typeof l=="function"){var u=l;l=function(){var c=di(i);u.call(c)}}Ei(t,i,e,l)}else i=Gg(n,t,e,l,r);return di(i)}ff=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=il(t.pendingLanes);n!==0&&(La(t,n|1),nt(t,Se()),!(ee&6)&&(Tr=Se()+500,Pn()))}break;case 13:Hn(function(){var r=qt(e,1);if(r!==null){var l=He();Rt(r,e,1,l)}}),pu(e,1)}};Aa=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var n=He();Rt(t,e,134217728,n)}pu(e,134217728)}};pf=function(e){if(e.tag===13){var t=Sn(e),n=qt(e,t);if(n!==null){var r=He();Rt(n,e,t,r)}pu(e,t)}};mf=function(){return ne};hf=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};Mo=function(e,t,n){switch(t){case"input":if(Do(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=yi(r);if(!l)throw Error(E(90));Hd(r),Do(r,l)}}}break;case"textarea":Qd(e,n);break;case"select":t=n.value,t!=null&&vr(e,!!n.multiple,t,!1)}};ef=au;tf=Hn;var Qg={usingClientEntryPoint:!1,Events:[Fl,cr,yi,Zd,qd,au]},nl={findFiberByHostInstance:On,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kg={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lf(e),e===null?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||Hg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ns.isDisabled&&Ns.supportsFiber)try{mi=Ns.inject(Kg),Ft=Ns}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qg;ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hu(t))throw Error(E(200));return Vg(e,t,null,n)};ct.createRoot=function(e,t){if(!hu(e))throw Error(E(299));var n=!1,r="",l=zp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=fu(e,1,!1,null,null,n,!1,r,l),e[Zt]=t.current,_l(e.nodeType===8?e.parentNode:e),new mu(t)};ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=lf(t),e=e===null?null:e.stateNode,e};ct.flushSync=function(e){return Hn(e)};ct.hydrate=function(e,t,n){if(!_i(t))throw Error(E(200));return Pi(null,e,t,!0,n)};ct.hydrateRoot=function(e,t,n){if(!hu(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",i=zp;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Op(t,null,e,1,n??null,l,!1,s,i),e[Zt]=t.current,_l(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ci(t)};ct.render=function(e,t,n){if(!_i(t))throw Error(E(200));return Pi(null,e,t,!1,n)};ct.unmountComponentAtNode=function(e){if(!_i(e))throw Error(E(40));return e._reactRootContainer?(Hn(function(){Pi(null,null,e,!1,function(){e._reactRootContainer=null,e[Zt]=null})}),!0):!1};ct.unstable_batchedUpdates=au;ct.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_i(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Pi(e,t,n,!1,r)};ct.version="18.3.1-next-f1338f8080-20240426";function Mp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mp)}catch(e){console.error(e)}}Mp(),zd.exports=ct;var Yg=zd.exports,fd=Yg;jo.createRoot=fd.createRoot,jo.hydrateRoot=fd.hydrateRoot;const Jg="newui_app_state",va=1;function Xg(e){const t=Math.max(0,e.capacity||0),n=Array.isArray(e.preferredSeatIndexes)?e.preferredSeatIndexes:[],r=[];for(const l of n){const s=typeof l=="number"?l:parseInt(String(l),10);!Number.isFinite(s)||!Number.isInteger(s)||s<0||s>=t||r.push(s)}return Array.from(new Set(r)).sort((l,s)=>l-s)}function Zg(e){const t=(e.seatIds??[]).slice(),n=Math.max(0,e.capacity||0);if(t.length<n)for(let l=t.length;l<n;l++)t[l]=String(e.id)+"_s"+l;else t.length>n&&(t.length=n);const r=Xg(e);return{...e,seatIds:t,preferredSeatIndexes:r}}function qg(e){return{...e,tables:e.tables.map(Zg)}}function ev(e){const n=((e||{layouts:[]}).layouts||[]).map(qg);return{version:va,layouts:n}}function tv(){try{const e=localStorage.getItem(Jg);if(!e)return{version:va,layouts:[]};const t=JSON.parse(e);return ev(t)}catch{return{version:va,layouts:[]}}}function nv(){return tv().layouts}const rv="newui_periods_state";function lv(){try{const e=localStorage.getItem(rv);if(!e)return{periods:[],currentId:null};const t=JSON.parse(e);return{periods:t.periods??[],currentId:t.currentId??null}}catch{return{periods:[],currentId:null}}}function ya(){return lv()}const sv="newui_tags_state_v1";function iv(){try{const e=localStorage.getItem(sv);return e?{version:1,tags:JSON.parse(e).tags??[]}:{version:1,tags:[]}}catch{return{version:1,tags:[]}}}function ov(){return iv().tags}const av=m.createContext(null),uv="newui_students_state_v1";function cv(){try{const e=localStorage.getItem(uv);return e?{version:1,students:JSON.parse(e).students??[]}:{version:1,students:[]}}catch{return{version:1,students:[]}}}function dv(){return cv().students}function fv(){return"pro"}function pv(e=fv()){return{tier:e,canUseDriveSync:e!=="free",canUseLocalSave:!0,canExportPDF:e!=="free",canUseAdvancedReports:e==="school"||e==="pro",canUseImports:!0,canUseMobile:!0}}const mv="newui_constraints_v1";function hv(){try{const e=localStorage.getItem(mv);return e?{byPeriod:JSON.parse(e).byPeriod||{}}:{byPeriod:{}}}catch{return{byPeriod:{}}}}function gv(){return hv()}const vv="newui_history_v1";function yv(){try{const e=localStorage.getItem(vv);return e?{byPeriod:JSON.parse(e).byPeriod||{}}:{byPeriod:{}}}catch{return{byPeriod:{}}}}function xv(){return yv()}console.log(" GroupingAlgorithm.js (FIXED v2) file loaded!");console.log(" GroupingAlgorithm v2 loaded successfully!");const wv="newui_groupings_v1";function Sv(){try{const e=localStorage.getItem(wv);return e?{byPeriod:JSON.parse(e).byPeriod||{}}:{byPeriod:{}}}catch{return{byPeriod:{}}}}function kv(){return Sv()}function Nv(){return{periods:ya().periods.map(t=>({id:t.id,behaviorNotes:t.behaviorNotes||{},pointsByStudent:t.pointsByStudent||{},pointsHistory:t.pointsHistory||[],pointsEnabled:t.pointsEnabled,startingPoints:t.startingPoints}))}}const Fp=m.createContext(null);function jv({children:e}){const[t,n]=m.useState([]),r=m.useCallback(i=>{n(u=>u.filter(c=>c.id!==i))},[]),l=m.useCallback(i=>{const u=`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,c=i.tone||"info",f=i.duration??4e3;n(x=>[...x,{...i,id:u,tone:c}]),f>0&&typeof window<"u"&&window.setTimeout(()=>r(u),f)},[r]),s=m.useMemo(()=>l,[l]);return o.jsxs(Fp.Provider,{value:s,children:[e,o.jsx("div",{className:"pointer-events-none fixed top-6 left-1/2 -translate-x-1/2 z-[1000] flex flex-col gap-4 w-full max-w-lg items-center",children:t.map(i=>{const u=i.tone==="success"?"bg-emerald-600 text-white shadow-emerald-500/40":i.tone==="error"?"bg-rose-600 text-white shadow-rose-500/40":i.tone==="warning"?"bg-amber-500 text-slate-900 shadow-amber-400/40":"bg-slate-800 text-white shadow-slate-900/40";return o.jsxs("div",{className:`pointer-events-auto rounded-3xl px-5 py-4 shadow-2xl flex items-start gap-4 text-base font-semibold w-full ${u}`,children:[o.jsx("div",{className:"flex-1 text-sm font-semibold",children:i.message}),o.jsx("button",{className:"text-base font-bold opacity-80 hover:opacity-100",onClick:()=>r(i.id),"aria-label":"Dismiss notification",children:""})]},i.id)})})]})}function Up(){const e=m.useContext(Fp);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const $p="https://www.classseats.com/updates",gu="https://classseats.com",Ev=`${gu}/privacy.html`,Cv=`${gu}/terms.html`;function _v({variant:e="floating",className:t}){const n=new Date().getFullYear(),r=o.jsxs("div",{className:"w-full max-w-[420px] rounded-xl border border-indigo-100 bg-white/95 px-3 py-3 text-left text-slate-800 shadow-lg backdrop-blur",children:[o.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-indigo-700 flex flex-wrap items-center gap-1",children:["Early Access   ",n," ClassSeats "," ",o.jsx("a",{href:$p,target:"_blank",rel:"noreferrer",className:"text-indigo-700 underline decoration-indigo-300 decoration-2 underline-offset-4 hover:text-indigo-800",children:"Get updates"})]}),o.jsx("p",{className:"mt-1 text-[11px] leading-snug text-slate-700",children:"ClassSeats is in active development. Features and pricing may change."})]});return e==="floating"?o.jsx("div",{className:`pointer-events-none fixed bottom-3 left-3 right-3 z-40 flex justify-end md:left-auto md:right-4 md:max-w-[420px] ${t??""}`,children:o.jsx("div",{className:"pointer-events-auto w-full md:w-auto",children:r})}):o.jsx("div",{className:t,children:r})}const Pv="0.1.0",Rv=new Date().toLocaleDateString();function Tv({open:e,onClose:t,buildRevision:n}){const r=new Date().getFullYear();return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl bg-white p-6 shadow-2xl",children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-indigo-700",children:"ClassSeats (Early Access)"}),o.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"About"})]}),o.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:t,"aria-label":"Close about",children:""})]}),o.jsx("p",{className:"mt-2 text-sm leading-relaxed text-slate-700",children:"ClassSeats is in active development. Features and pricing may change. Data is stored in your Google Drive or locally on your device  ClassSeats does not store student data on its servers."}),o.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-3 text-sm text-slate-800 space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-semibold",children:"App version"}),o.jsx("span",{children:Pv})]}),n&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-semibold",children:"Build revision"}),o.jsxs("span",{children:["Rev ",n]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-semibold",children:"Build date"}),o.jsx("span",{children:Rv})]})]}),o.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[o.jsx(js,{href:gu,label:"Home"}),o.jsx(js,{href:Ev,label:"Privacy"}),o.jsx(js,{href:Cv,label:"Terms"}),o.jsx(js,{href:$p,label:"Get updates"})]}),o.jsxs("p",{className:"mt-4 text-[11px] text-slate-500",children:[" ",r," ClassSeats. All rights reserved."]}),o.jsx("p",{className:"mt-1 text-[10px] text-slate-400",children:"Google Drive is a trademark of Google LLC"})]})]}):null}function js({href:e,label:t}){return o.jsxs("a",{href:e,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-800 shadow-sm hover:border-indigo-200 hover:text-indigo-700",children:[t,o.jsx("span",{"aria-hidden":"true",children:""})]})}function Dv(e,t,n){const r=ya().currentId,l=r!=null?String(r):null,s=new Date().toISOString();return{schemaVersion:1,version:1,exportedAt:s,updatedAt:s,lastWriter:"unknown",layouts:nv(),periodsState:ya(),lastEditedPeriodId:l,lastEditedDate:null,students:n||dv(),tags:ov(),behaviorState:Nv(),constraintsState:gv(),historyState:xv(),groupingsState:kv()}}const lr=e=>!!e&&typeof e=="object",bv=e=>e===!0||e==="true"||e===1||e==="1",Iv=e=>{const t=typeof e=="number"?e:parseInt(String(e),10);return Number.isFinite(t)&&Number.isInteger(t)?t:null};function Lv(e,t){if(!Array.isArray(e))return[];const n=[];for(const r of e){const l=Iv(r);l!=null&&(l<0||l>=t||n.push(l))}return Array.from(new Set(n)).sort((r,l)=>r-l)}function Av(e){var u;if(!e||typeof e!="object"||(e.schemaVersion??(e.version===1?1:void 0))!==1)return null;const n=typeof e.exportedAt=="string"?e.exportedAt:new Date().toISOString(),r=typeof e.updatedAt=="string"?e.updatedAt:n,l=e.lastWriter==="desktop"||e.lastWriter==="mobile"||e.lastWriter==="unknown"?e.lastWriter:"unknown",s={...e,schemaVersion:1,version:e.version??1,exportedAt:n,updatedAt:r,lastWriter:l};if(s.behaviorState=lr(e.behaviorState)?e.behaviorState:{},!lr(s.periodsState)||!Array.isArray((u=s.periodsState)==null?void 0:u.periods)||!Array.isArray(s.students)||!Array.isArray(s.layouts)||!lr(s.behaviorState)||!lr(s.constraintsState)||!lr(s.historyState)||!lr(s.groupingsState))return null;switch((e.schemaVersion!==s.schemaVersion||e.updatedAt!==s.updatedAt||e.exportedAt!==s.exportedAt||e.lastWriter!==s.lastWriter)&&console.log("[Payload] migrated to schema v1",{hadSchemaVersion:e.schemaVersion,hadVersion:e.version,addedUpdatedAt:e.updatedAt!==s.updatedAt,addedLastWriter:e.lastWriter!==s.lastWriter}),s.schemaVersion){case 1:return s.students=(s.students||[]).map(c=>({...c,needsPreferredSeating:bv(c.needsPreferredSeating),quickNote:(typeof c.quickNote=="string",c.quickNote),quickNoteUpdatedAt:(typeof c.quickNoteUpdatedAt=="string",c.quickNoteUpdatedAt)})),s.layouts=(s.layouts||[]).map(c=>({...c,tables:(c.tables||[]).map(f=>{const x=Math.max(0,f.capacity||0);return{...f,preferredSeatIndexes:Lv(f.preferredSeatIndexes,x)}})})),s;default:return null}}function Ov(e){return e.isOffline?{action:"skip",reason:"offline"}:e.isLocked?{action:"skip",reason:"locked"}:e.inFlight?{action:"skip",reason:"in-flight"}:e.hasFile?e.dirty?{action:"upload",reason:"ready"}:{action:"skip",reason:"clean"}:{action:"skip",reason:"no-file"}}function zv(e){const t=e.graceMs;return e.isOffline?{action:"skip",reason:"offline"}:e.isLocked?{action:"skip",reason:"locked"}:e.inFlight?{action:"skip",reason:"in-flight"}:e.dirty?{action:"skip",reason:"dirty"}:e.lastLocalEditAt&&e.now-e.lastLocalEditAt<t?{action:"skip",reason:"grace-window"}:{action:"pull",reason:"ready"}}function Mv(e){const t=e.incomingUpdatedAt?Date.parse(e.incomingUpdatedAt):NaN,n=e.lastAppliedUpdatedAt?Date.parse(e.lastAppliedUpdatedAt):NaN;return Number.isFinite(t)&&Number.isFinite(n)&&t<=n?{action:"skip",reason:"stale-updatedAt"}:e.incomingRevisionId&&e.lastRevisionId&&e.incomingRevisionId===e.lastRevisionId?{action:"skip",reason:"same-revision"}:{action:"apply",reason:"fresh"}}const Fv=new Set(["students","periodsState","layouts","tags","constraintsState","historyState","groupingsState","behaviorNotes","attendance","notes","alerts","payload"]),xa=(e,t,n)=>{if(Fv.has(t))return"[omitted]";if(typeof e=="string")return e.length>200?`[string ${e.length}]`:e;if(Array.isArray(e)){const r=e.slice(0,5).map(l=>xa(l,"",n+1));return e.length>5&&r.push(`[+${e.length-5} more]`),n>1?`[array len=${e.length}]`:r}if(e&&typeof e=="object"){if(n>1)return"[object]";const r=Object.entries(e).slice(0,10).map(([l,s])=>[l,xa(s,l,n+1)]);return r.length===0?e:Object.fromEntries(r)}return e};function rl(e,t){if(!(typeof console>"u"))try{const n=t?xa(t,"",0):void 0;n!==void 0?console.log(e,n):console.log(e)}catch{console.log(e)}}var jd,Ed;const wa=((Ed=(jd=import.meta)==null?void 0:jd.env)==null?void 0:Ed.VITE_GOOGLE_CLIENT_ID)??"403722152172-rm3rvd6kba8s10a8svv60jbj2s93kv1e.apps.googleusercontent.com",Uv="https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/userinfo.email",pd="ClassSeats",Bp="classseats_mobile_drive_session_v2",vu="classseats_mobile_drive_folder_v1",yu="classseats_student_docs_folder_v1",$v={classseats:"data_v1"},md="Student Docs",hd="studentPhotos",Wp="https://us-east1-classseats-sync.cloudfunctions.net/exchangecode",Ms="classseats_mobile_drive_pkce_verifier",yl="classseats_mobile_drive_return_to",Fs="classseats_mobile_drive_redirect_uri",Vp="https://app.classseats.app/ClassSeatsMobile";function Bv(){if(typeof window>"u")return Vp;const e=window.location.origin;return e==="https://app.classseats.app"?"https://app.classseats.app/ClassSeatsMobile":e==="https://mifish3474.github.io"?"https://mifish3474.github.io/ClassSeats-Mobile-Testing/ClassSeatsMobile":`${e}/ClassSeatsMobile`}const Wv=45*60*1e3,Vv="classseats_auth",Hv=1,En="driveSession",fi="singleton";let An=null,zt=null,al=!1,Us="none";function Gv(e){const{sessionLoaded:t}=e,n=(e.lastWriteReason||"").trim();return t?"ok":n?n==="explicit-disconnect"?"user-logged-out":n==="fatal-oauth-error"?"oauth-failure":n==="login-success"?"device-storage-wipe":"unknown":"no-session-yet"}function xu(){return new Promise((e,t)=>{const n=indexedDB.open(Vv,Hv);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(En)||r.createObjectStore(En,{keyPath:"id"})},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error||new Error("IndexedDB open failed"))})}async function Qv(){const e=await xu();return new Promise((t,n)=>{const s=e.transaction(En,"readonly").objectStore(En).get(fi);s.onsuccess=()=>{const i=s.result;if(i){zt={lastWriteAt:i.lastWriteAt,lastWriteReason:i.lastWriteReason};const{id:u,lastWriteAt:c,lastWriteReason:f,...x}=i;t(x)}else t(null)},s.onerror=()=>n(s.error||new Error("IDB get failed"))})}async function Hp(e,t){const n=await xu();return new Promise((r,l)=>{const s=n.transaction(En,"readwrite"),i=s.objectStore(En);if(!e)console.info("[Drive][IDB] CLEAR session",{reason:t}),i.delete(fi),zt={lastWriteAt:Date.now(),lastWriteReason:t};else{const u={id:fi,...e,lastWriteAt:Date.now(),lastWriteReason:t};console.info("[Drive][IDB] WRITE session",{reason:t,hasRefresh:!!e.refreshToken,expiresAt:e.expiresAt}),i.put(u),zt={lastWriteAt:u.lastWriteAt,lastWriteReason:u.lastWriteReason}}s.oncomplete=()=>r(),s.onerror=()=>l(s.error||new Error("IDB put/delete failed"))})}async function Kv(){try{const e=await xu();return await new Promise((t,n)=>{const s=e.transaction(En,"readonly").objectStore(En).get(fi);s.onsuccess=()=>{const i=s.result;i?(zt={lastWriteAt:i.lastWriteAt,lastWriteReason:i.lastWriteReason},t(i)):t(null)},s.onerror=()=>n(s.error||new Error("IDB get failed"))})}catch(e){return console.warn("[Drive][IDB] getDriveSessionRecord failed",e),null}}async function Yv(){const e=await Kv(),t=!!e,n=!!(e!=null&&e.refreshToken),r=(e==null?void 0:e.expiresAt)??null,l=(e==null?void 0:e.lastWriteAt)??(zt==null?void 0:zt.lastWriteAt)??null,s=(e==null?void 0:e.lastWriteReason)??(zt==null?void 0:zt.lastWriteReason)??null,i=e?"idb":"none",u=e==null?void 0:e.profile,c=Gv({sessionLoaded:t,lastWriteReason:s}),f={sessionLoaded:t,hasRefresh:n,expiresAt:r,source:i,lastWriteAt:l,lastWriteReason:s,state:c,profile:u};return console.info("startup:",f),console.info("[Drive] startupSessionState",{state:c,lastWriteReason:s}),f}function Jv(){if(typeof window>"u")return null;try{const e=window.localStorage.getItem(Bp);return e?JSON.parse(e):null}catch{return null}}function Xv(){typeof window>"u"||window.localStorage.removeItem(Bp)}async function Ri(){if(al)return An;try{const t=await Qv();if(t)return An=t,Us="idb",al=!0,An}catch{}const e=Jv();if(e){An=e,Us="legacy",al=!0;try{await Hp(e,"startup-migration")}catch{}return An}return An=null,Us="none",al=!0,null}async function wu(e,t){An=e,al=!0,Us=e?"idb":"none";try{await Hp(e,t)}catch(n){console.warn("[Drive][IDB] persistSession failed",n)}}async function Gp(e){await wu(null,e),Xv()}async function Zv(){return Ri()}function qv(e,t=5*60*1e3){return!e||e.expiresAt<=Date.now()+t}function e0(e){return e.replace(/^#/,"").split("&").map(t=>t.split("=")).reduce((t,[n,r])=>(n&&(t[decodeURIComponent(n)]=decodeURIComponent(r||"")),t),{})}function Qp(e,t,n,r){const l=t?t*1e3:Wv;return{accessToken:e,expiresAt:Date.now()+l-60*1e3,refreshToken:n,profile:r}}async function Kp(e){try{const t=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)return;const n=await t.json();return{email:n.email,name:n.name,picture:n.picture}}catch{return}}async function t0(){const e=new Uint8Array(32);return crypto.getRandomValues(e),btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function n0(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),l=Array.from(new Uint8Array(r));return btoa(String.fromCharCode(...l)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function r0(e,t){const n=await t0(),r=await n0(n),l=btoa(JSON.stringify({v:n,r:t||null}));return window.localStorage.setItem(Ms,n),t?window.localStorage.setItem(yl,t):window.localStorage.removeItem(yl),window.localStorage.setItem(Fs,e),`https://accounts.google.com/o/oauth2/v2/auth?${new URLSearchParams({client_id:wa,redirect_uri:e,response_type:"code",scope:Uv,include_granted_scopes:"true",state:l,prompt:"consent",access_type:"offline",code_challenge:r,code_challenge_method:"S256"}).toString()}`}async function l0(e,t,n){const r={grant_type:"authorization_code",code:e,code_verifier:t,redirect_uri:n,client_id:wa};console.info("[Drive] Exchanging code",{redirect_uri:n,client_id:wa,code_preview:e?`${e.slice(0,4)}...${e.slice(-4)}`:"none"});const l=await fetch(Wp,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!l.ok){const s=await l.text().catch(()=>"");throw new Error(s||"Failed to exchange code for tokens.")}return l.json()}async function s0(){if(typeof window>"u")return null;const e=window.location.search||"",t=new URLSearchParams(e);let n=t.get("code"),r=t.get("state");if(!n&&window.location.hash){const u=e0(window.location.hash);n=u.code||n,r=u.state||r}if(!n)return null;let l=null,s=null,i=null;if(r)try{const u=JSON.parse(atob(r));u!=null&&u.v&&typeof u.v=="string"&&(l=u.v),u!=null&&u.r&&typeof u.r=="string"&&(s=u.r),u!=null&&u.d&&typeof u.d=="string"&&(i=u.d)}catch{}if(l||(l=window.localStorage.getItem(Ms)),s||(s=window.localStorage.getItem(yl)),i||(i=window.localStorage.getItem(Fs)||Vp),!l)return null;try{const u=await l0(n,l,i),c=await Kp(u.access_token),f=Qp(u.access_token,u.expires_in,u.refresh_token,c||void 0);return await wu(f,"login-success"),window.localStorage.removeItem(Ms),window.localStorage.removeItem(yl),window.localStorage.removeItem(Fs),s&&s!==i?window.location.replace(s):window.history.replaceState(null,document.title,i),f}catch{return window.localStorage.removeItem(Ms),window.localStorage.removeItem(yl),window.localStorage.removeItem(Fs),null}}async function i0(e,t){if(typeof window>"u")throw new Error("Browser required.");const n=Bv(),r=await r0(n,window.location.href);return window.location.href=r,new Promise(()=>{})}async function Yp(){const e=await Ri();if(!e)return console.warn("[Drive] refreshDriveSession: no stored session"),null;if(e.expiresAt>Date.now()+60*1e3)return console.debug("[Drive] refreshDriveSession: not expiring soon; skipping refresh",{expiresAt:e.expiresAt}),e;if(!e.refreshToken)return console.warn("[Drive] refreshDriveSession: missing refresh token; cannot refresh; keeping existing session",{expiresAt:e.expiresAt}),e;try{const t=await fetch(Wp,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({grant_type:"refresh_token",refresh_token:e.refreshToken})});if(!t.ok){const s=await t.text().catch(()=>"");throw console.warn("[Drive] refreshDriveSession: HTTP error from token endpoint",{status:t.status,statusText:t.statusText,bodySnippet:s.slice(0,200)}),new Error("Refresh failed: "+t.status)}const n=await t.json(),r=await Kp(n.access_token),l=Qp(n.access_token,n.expires_in,e.refreshToken,r||e.profile);return await wu(l,"refresh-success"),l}catch(t){const n=String((t==null?void 0:t.message)||"");return console.warn("[Drive] refreshDriveSession: caught error",{message:n}),/invalid_grant|invalid_client/i.test(n)?(console.warn("[Drive] refreshDriveSession: treating as fatal OAuth error; clearing session"),await Gp("fatal-oauth-error")):console.warn("[Drive] refreshDriveSession: non-fatal error; keeping stored session in IDB"),null}}async function $s(e){let t=e??await Ri();return t?qv(t)?await Yp():t:null}async function o0(){const e=await s0();if(e)return e;const t=await Ri();return t&&t.expiresAt>Date.now()+60*1e3?t:Yp()}async function a0(){await Gp("explicit-disconnect")}async function ut(e,t,n){const r=await fetch(t,{...n,headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",...(n==null?void 0:n.headers)||{}}});if(!r.ok){const l=await r.text().catch(()=>"");throw new Error(l||"Google Drive request failed.")}return r}function Su(e){return e.replace(/'/g,"\\'")}async function Ti(e){const t=u0();if(t){if(await Jp(e,t))return t;c0()}const n=new URLSearchParams({q:`name='${pd}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,fields:"files(id)",spaces:"drive"}),l=await(await ut(e,`https://www.googleapis.com/drive/v3/files?${n.toString()}`)).json();if(Array.isArray(l.files)&&l.files.length>0)return gd(l.files[0].id),l.files[0].id;const i=await(await ut(e,"https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:pd,mimeType:"application/vnd.google-apps.folder"})})).json();return gd(i.id),i.id}function gd(e){typeof window>"u"||window.localStorage.setItem(vu,e)}function u0(){return typeof window>"u"?null:window.localStorage.getItem(vu)}function c0(){typeof window>"u"||window.localStorage.removeItem(vu)}function vd(e){typeof window>"u"||window.localStorage.setItem(yu,e)}function d0(){return typeof window>"u"?null:window.localStorage.getItem(yu)}function f0(){typeof window>"u"||window.localStorage.removeItem(yu)}async function Jp(e,t){try{return(await ut(e,`https://www.googleapis.com/drive/v3/files/${t}?fields=id`)).ok}catch{return!1}}async function p0(e){const t=d0();if(t){if(await Jp(e,t))return t;f0()}const n=await Ti(e),r=new URLSearchParams({q:`'${n}' in parents and name='${Su(md)}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,fields:"files(id)",spaces:"drive"}),s=await(await ut(e,`https://www.googleapis.com/drive/v3/files?${r.toString()}`)).json();if(Array.isArray(s.files)&&s.files.length>0)return vd(s.files[0].id),s.files[0].id;const u=await(await ut(e,"https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:md,mimeType:"application/vnd.google-apps.folder",parents:[n]})})).json();if(!(u!=null&&u.id))throw new Error("Unable to create Student Docs folder.");return vd(u.id),u.id}async function m0(e){const t=await Ti(e),n=new URLSearchParams({q:`'${t}' in parents and name='${Su(hd)}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,fields:"files(id)",spaces:"drive"}),l=await(await ut(e,`https://www.googleapis.com/drive/v3/files?${n.toString()}`)).json();if(Array.isArray(l.files)&&l.files.length>0)return l.files[0].id;const i=await(await ut(e,"https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:hd,mimeType:"application/vnd.google-apps.folder",parents:[t]})})).json();if(!(i!=null&&i.id))throw new Error("Unable to create student photos folder.");return i.id}async function h0(e,t,n){const r=(n||"").trim();if(!r)throw new Error("Document title is required.");const s=await(await ut(e,"https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:r,mimeType:"application/vnd.google-apps.document",parents:[t]})})).json();if(!(s!=null&&s.id))throw new Error("Unable to create Google Doc.");return{fileId:s.id,title:s.name||r}}async function g0(e){const t=await $s();if(!(t!=null&&t.accessToken))throw new Error("Sign in with Google Drive first.");const n=t.accessToken,r=await m0(n),l=`student_${e.studentId}.jpg`,s=`name='${Su(l)}' and '${r}' in parents and trashed=false`,i=new URLSearchParams({q:s,fields:"files(id)",spaces:"drive"}),c=await(await ut(n,`https://www.googleapis.com/drive/v3/files?${i.toString()}`)).json(),f=Array.isArray(c.files)&&c.files.length>0?c.files[0].id:null,x=f?{name:l,mimeType:"image/jpeg"}:{name:l,parents:[r],mimeType:"image/jpeg"},w=new FormData;w.append("metadata",new Blob([JSON.stringify(x)],{type:"application/json"})),w.append("file",e.jpegBlob,l);const y=f?`https://www.googleapis.com/upload/drive/v3/files/${f}?uploadType=multipart&fields=id`:"https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",C=await fetch(y,{method:f?"PATCH":"POST",headers:{Authorization:`Bearer ${n}`},body:w,signal:e.signal});if(!C.ok){const R=await C.text().catch(()=>"");throw new Error(R||"Failed to upload student photo.")}const k=await C.json();if(!(k!=null&&k.id))throw new Error("Unable to upload student photo.");return{fileId:k.id,folderId:r}}async function yd(e){const t=await Ti(e),n=new URLSearchParams({q:`'${t}' in parents and trashed=false`,fields:"files(id,name,modifiedTime,size,headRevisionId)",orderBy:"modifiedTime desc",spaces:"drive"});return((await(await ut(e,`https://www.googleapis.com/drive/v3/files?${n.toString()}`)).json()).files||[]).map(Di)}async function v0(e,t,n){const r=await Ti(e),l="classseats_drive_boundary",s={name:t,mimeType:"application/json",parents:[r],appProperties:$v},i=[`--${l}`,"Content-Type: application/json; charset=UTF-8","",JSON.stringify(s),`--${l}`,"Content-Type: application/json","",n,`--${l}--`,""].join(`\r
`),u=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id,name,modifiedTime,size,headRevisionId",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":`multipart/related; boundary=${l}`},body:i});if(!u.ok){const f=await u.text().catch(()=>"");throw new Error(f||"Failed to create Google Drive file.")}const c=await u.json();return Di(c)}async function No(e,t){return(await ut(e,`https://www.googleapis.com/drive/v3/files/${t}?alt=media`,{method:"GET"})).text()}async function y0(e,t,n){const r=await fetch(`https://www.googleapis.com/upload/drive/v3/files/${t}?uploadType=media`,{method:"PATCH",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:n});if(!r.ok){const i=await r.text().catch(()=>"");throw new Error(i||"Failed to upload file to Google Drive.")}const s=await(await ut(e,`https://www.googleapis.com/drive/v3/files/${t}?fields=id,name,modifiedTime,size,headRevisionId`,{method:"GET"})).json();return Di(s)}function Di(e){var t;return e?{id:e.id,name:e.name,modifiedTime:e.modifiedTime,size:e.size,revisionId:e.headRevisionId||e.revisionId||((t=e==null?void 0:e.appProperties)==null?void 0:t.revisionId)}:{id:"",name:""}}async function x0(e){const t=new URLSearchParams({q:"mimeType='application/json' and trashed=false",fields:"files(id,name,modifiedTime,size,headRevisionId)",orderBy:"modifiedTime desc",spaces:"drive"});return((await(await ut(e,`https://www.googleapis.com/drive/v3/files?${t.toString()}`)).json()).files||[]).map(Di)}function w0({studentId:e,hasPhoto:t=!1,src:n=null,onClick:r,widthPx:l,heightPx:s,sizePx:i=44}){const f={width:l??i,height:s??i};return o.jsx("button",{type:"button","aria-label":t?"Update student photo":"Add student photo",className:"flex-shrink-0 rounded-xl border border-slate-200 bg-white/60 overflow-hidden active:scale-[0.98]",style:f,onClick:x=>{x.stopPropagation(),r==null||r(e)},children:t&&n?o.jsx("img",{src:n,alt:"Student photo",className:"w-full h-full object-cover",draggable:!1}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":"true",className:"text-slate-500",children:o.jsx("path",{fill:"currentColor",d:"M9.5 4.5h5l1.2 1.8H19a2.5 2.5 0 0 1 2.5 2.5v8.7A2.5 2.5 0 0 1 19 20H5a2.5 2.5 0 0 1-2.5-2.5V8.8A2.5 2.5 0 0 1 5 6.3h3.3l1.2-1.8ZM12 9a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm0 1.7a2.3 2.3 0 1 1 0 4.6 2.3 2.3 0 0 1 0-4.6Z"})})})})}function S0({children:e}){return o.jsx(o.Fragment,{children:e})}const Xp="classseats_studentPhotoRefs_v1";function k0(){if(typeof window>"u")return{};try{const e=window.localStorage.getItem(Xp);if(!e)return{};const t=JSON.parse(e);return!t||typeof t!="object"?{}:t}catch{return{}}}function N0(e){if(!(typeof window>"u"))try{window.localStorage.setItem(Xp,JSON.stringify(e))}catch{}}function j0(e,t){const n=String(e),r=k0(),l={fileId:t,updatedAt:new Date().toISOString()};return r[n]=l,N0(r),l}function E0({studentId:e,open:t,onClose:n,onAccept:r,title:l="Take Photo"}){const s=Up(),i=m.useRef(null),u=m.useRef(null),c=m.useRef(null),f=m.useRef(null),x=m.useRef(null),w=m.useRef(!1),y=m.useRef(new Map),C=m.useRef(null),k=m.useRef(null),R=m.useRef(1),J=m.useRef(null),p=m.useRef(null),[d,g]=m.useState(null),[j,b]=m.useState(!1),[A,O]=m.useState(!1),[M,le]=m.useState(!1),[Y,Ce]=m.useState(1),[rt,Z]=m.useState(!1),$t=()=>{y.current.clear(),C.current=null,J.current&&(cancelAnimationFrame(J.current),J.current=null),p.current=null},U=()=>{f.current=null,k.current=null,R.current=1,Ce(1),le(!1),$t()},xe=()=>{c.current&&(c.current.getTracks().forEach(K=>K.stop()),c.current=null),i.current&&(i.current.srcObject=null),U()},ft=()=>{d&&URL.revokeObjectURL(d),x.current=null,g(null)},T=()=>{xe(),ft(),b(!1),Z(!1),n()},W=K=>{const V=k.current;if(!V)return K;let fe=Math.min(V.max,Math.max(V.min,K));if(typeof V.step=="number"&&V.step>0){const se=Math.round((fe-V.min)/V.step);fe=V.min+se*V.step,fe=Math.min(V.max,Math.max(V.min,fe))}return fe},Q=K=>{const V=f.current;if(!V)return;const fe=W(K);p.current=fe,!J.current&&(J.current=requestAnimationFrame(()=>{J.current=null;const se=p.current;p.current=null,typeof se=="number"&&V.applyConstraints({advanced:[{zoom:se}]}).then(()=>{R.current=se,Ce(se)}).catch(()=>{})}))},re=async K=>{var V,fe;O(!0),b(!1),U();try{let se;try{se=await navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:"environment"}},audio:!1})}catch{se=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1})}if(!K()){se.getTracks().forEach(Oe=>Oe.stop());return}c.current=se;const Ne=se.getVideoTracks()[0]||null;if(f.current=Ne,Ne){const Oe=(V=Ne.getCapabilities)==null?void 0:V.call(Ne),pe=Oe==null?void 0:Oe.zoom;if(pe&&typeof pe.min=="number"&&typeof pe.max=="number"){k.current={min:pe.min,max:pe.max,step:typeof pe.step=="number"?pe.step:void 0};const Ye=(fe=Ne.getSettings)==null?void 0:fe.call(Ne),Kn=typeof(Ye==null?void 0:Ye.zoom)=="number"?Ye.zoom:pe.min,Lr=W(Kn);R.current=Lr,Ce(Lr),le(!0)}}if(i.current){i.current.srcObject=se;try{await i.current.play()}catch{}}}catch{K()&&b(!0),xe()}finally{K()&&O(!1)}};m.useEffect(()=>{let K=!0;return w.current=t,t?re(()=>K):(xe(),ft(),b(!1)),()=>{K=!1,w.current=!1,xe(),ft(),b(!1)}},[t]);const de=()=>{const K=i.current,V=u.current;if(!K||!V)return;const fe=K.videoWidth,se=K.videoHeight;if(!fe||!se)return;V.width=fe,V.height=se;const Ne=V.getContext("2d");Ne&&(Ne.drawImage(K,0,0,fe,se),V.toBlob(Oe=>{if(Oe){x.current=Oe;const pe=URL.createObjectURL(Oe);g(pe),xe();return}V.toBlob(pe=>{if(!pe)return;x.current=pe;const Ye=URL.createObjectURL(pe);g(Ye),xe()},"image/png")},"image/jpeg",.85))},F=async()=>{if(rt)return;const K=x.current;if(K){r(K),Z(!0);try{const V=await g0({studentId:e,jpegBlob:K});j0(e,V.fileId),T()}catch(V){Z(!1);const se=(V instanceof Error?V.message:"").toLowerCase();se.includes("sign in")&&se.includes("drive")?s({message:"Please reconnect Google Drive to upload photos.",tone:"error"}):s({message:"Couldn't upload the photo. Your preview is still saved here - try again.",tone:"error"})}}},Be=()=>{ft(),re(()=>w.current)},pt=K=>{if(!(!M||d)&&(K.preventDefault(),K.currentTarget.setPointerCapture(K.pointerId),y.current.set(K.pointerId,{x:K.clientX,y:K.clientY}),y.current.size===2)){const V=Array.from(y.current.values()),fe=Math.hypot(V[0].x-V[1].x,V[0].y-V[1].y);C.current={initialDistance:fe,initialZoom:R.current}}},Te=K=>{if(!M||d||!y.current.has(K.pointerId)||(K.preventDefault(),y.current.set(K.pointerId,{x:K.clientX,y:K.clientY}),y.current.size<2||!C.current))return;const V=Array.from(y.current.values()),fe=Math.hypot(V[0].x-V[1].x,V[0].y-V[1].y);if(C.current.initialDistance<=0)return;const se=fe/C.current.initialDistance,Ne=C.current.initialZoom*se;Q(Ne)},Ke=K=>{M&&(y.current.delete(K.pointerId),y.current.size<2&&(C.current=null))};if(!t)return null;const mt=M&&!d;return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:T}),o.jsxs("div",{className:"relative w-full max-w-md rounded-2xl bg-white p-4 shadow-2xl space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-sm font-semibold text-slate-800",children:l}),o.jsx("button",{type:"button",className:"text-slate-500 hover:text-slate-700",onClick:T,"aria-label":"Close",children:""})]}),j?o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-slate-600",children:"Camera unavailable. Check permissions and try again."}),o.jsx("button",{type:"button",className:"w-full rounded-lg bg-slate-900 text-white font-semibold py-2 text-sm",onClick:T,children:"Close"})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"w-full aspect-[3/4] rounded-xl bg-slate-100 overflow-hidden flex items-center justify-center",onPointerDown:mt?pt:void 0,onPointerMove:mt?Te:void 0,onPointerUp:mt?Ke:void 0,onPointerCancel:mt?Ke:void 0,style:mt?{touchAction:"none"}:void 0,children:d?o.jsx("img",{src:d,alt:"",className:"w-full h-full object-cover"}):o.jsx("video",{ref:i,className:"w-full h-full object-cover",playsInline:!0,muted:!0})}),d?o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",className:"flex-1 rounded-lg bg-slate-200 text-slate-800 font-semibold py-2 text-sm disabled:opacity-50",onClick:Be,disabled:rt,children:"Retake"}),o.jsx("button",{type:"button",className:"flex-1 rounded-lg bg-indigo-600 text-white font-semibold py-2 text-sm disabled:opacity-50",onClick:F,disabled:rt,children:rt?"Uploading...":"Accept"})]}):o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",className:"flex-1 rounded-lg bg-indigo-600 text-white font-semibold py-2 text-sm disabled:opacity-50",onClick:de,disabled:A,children:"Take Photo"}),o.jsx("button",{type:"button",className:"flex-1 rounded-lg bg-slate-200 text-slate-800 font-semibold py-2 text-sm",onClick:T,children:"Cancel"})]})]})]}),o.jsx("canvas",{ref:u,className:"hidden"})]})}const xd=!1,wd="361",Es="cs_mobile_last_drive_file",Sd="cs_mobile_students_mode_v1",kd="cs_mobile_notes_sort_v1";function C0(){var Zu,qu,ec;const e=Up(),t=m.useMemo(()=>pv(),[]),n=m.useMemo(()=>({openExternal:a=>typeof window<"u"?window.open(a,"_blank","noopener,noreferrer"):null}),[]),r=!t.canUseDriveSync,l="Drive sync is disabled.",[s,i]=m.useState(null),[u,c]=m.useState([]),[f,x]=m.useState(!1),[w,y]=m.useState(null),[C,k]=m.useState(()=>r?l:null),[R,J]=m.useState(!1),[p,d]=m.useState(null),[g,j]=m.useState(!1),[b,A]=m.useState([]),[O,M]=m.useState(""),[le,Y]=m.useState(!1),[Ce,rt]=m.useState(!1),[Z,$t]=m.useState(null),[U,xe]=m.useState(null),[ft,T]=m.useState(!1),[W,Q]=m.useState(!1),[re,de]=m.useState(null),[F,Be]=m.useState(null),[pt,Te]=m.useState({}),[Ke,mt]=m.useState({}),[K,V]=m.useState({}),[fe,se]=m.useState({}),[Ne,Oe]=m.useState(null),[pe,Ye]=m.useState({note:"",delta:0,reason:""}),[Kn,Lr]=m.useState(""),[Dt,Zp]=m.useState({pointsEnabled:!1,startingPoints:50,currentPoints:0,predictedPoints:0}),[bi,Ar]=m.useState(null),[ku,Nu]=m.useState(""),[ju,$l]=m.useState(null),[Ii,Eu]=m.useState(null),[Li,qp]=m.useState({}),Cu=m.useRef({}),[em,z0]=m.useState({}),[nn,Or]=m.useState(null),[_u,Bl]=m.useState(0),[Pu,Wl]=m.useState(null),[Ru,Ai]=m.useState(""),[kt,Vl]=m.useState(null),[M0,tm]=m.useState([]),[F0,Tu]=m.useState(!1),[U0,Oi]=m.useState(null),[$0,B0]=m.useState(!1),[zr,Yn]=m.useState(null),[Hl,nm]=m.useState(null),[Mr,Du]=m.useState(!1),[Gl,Fr]=m.useState(null),[Bt,We]=m.useState(!1),[W0,Wt]=m.useState(null),zi=typeof navigator<"u"?navigator.onLine:!0,[bu,Ur]=m.useState(zi),[Iu,Mi]=m.useState(zi),[_e,$r]=m.useState(!zi),rm=m.useRef(null),lm=m.useRef(!1),rn=m.useRef(!1),sm=m.useRef(15e3),im=m.useRef(0),Lu=m.useRef(!1),ln=m.useRef(!1),Jn=m.useRef(!1),lt=m.useRef(null),Au=m.useRef(null),Ou=m.useRef(void 0),zu=m.useRef(null),Fi=()=>{const a=new Date,h=a.getFullYear(),v=String(a.getMonth()+1).padStart(2,"0"),N=String(a.getDate()).padStart(2,"0");return`${h}-${v}-${N}`},[ue,Ql]=m.useState(Fi()),[Ui,om]=m.useState("table"),[bt,Mu]=m.useState(()=>{try{return localStorage.getItem(Sd)==="notes"?"notes":"attendance"}catch{return"attendance"}});m.useEffect(()=>{try{localStorage.setItem(Sd,bt)}catch{}},[bt]);const[Kl,am]=m.useState(()=>{try{return localStorage.getItem(kd)==="last-first"?"last-first":"first-last"}catch{return"first-last"}});m.useEffect(()=>{try{localStorage.setItem(kd,Kl)}catch{}},[Kl]),m.useEffect(()=>{Cu.current=Li},[Li]),m.useEffect(()=>()=>{Object.values(Cu.current).forEach(a=>URL.revokeObjectURL(a))},[]);const[Je,Rn]=m.useState(!1),Tn=m.useRef(0),ht=m.useRef(null),Fu=m.useRef({}),Uu=m.useRef({}),Yl=m.useRef(null),Jl=m.useRef(!1),$i=m.useRef(!1),[$u,Br]=m.useState(!1),Xl=m.useRef(0),Vt=m.useRef(null),Bu=1500,Wr=m.useRef(null),Bi=m.useCallback(a=>a?Fu.current[a]??null:null,[]),Xe=m.useCallback((a,h)=>{a&&(Fu.current[a]=h||null)},[]),Zl=m.useCallback(a=>a||"__local__",[]),Wu=m.useCallback(a=>Uu.current[Zl(a)]??null,[Zl]),Dn=m.useCallback((a,h)=>{h&&(Uu.current[Zl(a)]=h)},[Zl]),Wi=a=>{var h;return JSON.stringify({periodsState:((h=a.periodsState)==null?void 0:h.periods)||[],students:a.students||[]})},bn=m.useRef(0),[V0,Vr]=m.useState("unknown"),[H0,Vi]=m.useState(0);m.useCallback(async()=>{const a=await $s(s);return a&&i(a),a},[s]);const It=m.useCallback(a=>{const h=`${new Date().toISOString()} ${a}`;A(v=>[h,...v].slice(0,200))},[]);m.useEffect(()=>{r&&k(l)},[l,r]);const um=m.useCallback(async()=>{var h;const a=await Yv();if(d(a),It(`startup info: state=${a.state} sessionLoaded=${a.sessionLoaded} hasRefresh=${a.hasRefresh} expiresAt=${a.expiresAt} source=${a.source} lastWriteAt=${a.lastWriteAt} lastWriteReason=${a.lastWriteReason}`),a.state==="ok"){const v=await Zv();v&&(i(v),(h=v.profile)!=null&&h.email&&k(null))}return a},[It]),Xn=m.useCallback(async a=>{const h=(s==null?void 0:s.expiresAt)||null,v=await $s(s);return It(`${a}: ensureFreshDriveSession ok=${!!v} before=${h} new=${v==null?void 0:v.expiresAt} hasRefresh=${!!(v!=null&&v.refreshToken)}`),v&&(i(v),J(!1)),v},[s,It]),cm=m.useCallback(()=>{Xl.current+=1,Vt.current&&window.clearTimeout(Vt.current),Vt.current=window.setTimeout(()=>{Xl.current=0,Vt.current=null},2e3),Xl.current>=5&&(j(a=>!a),Xl.current=0,Vt.current&&(window.clearTimeout(Vt.current),Vt.current=null))},[]);m.useEffect(()=>()=>{Vt.current&&window.clearTimeout(Vt.current)},[]),m.useEffect(()=>{$r(!bu||!Iu)},[bu,Iu]);const Vu=m.useCallback(()=>{if(typeof window>"u")return!1;try{return window.localStorage.getItem("classseats_debug_drive")==="1"}catch{return!1}},[]),Hr=m.useCallback(a=>{Vu()&&console.debug(a.startsWith("[Ping]")?a:`[Ping] ${a}`)},[Vu]);m.useEffect(()=>{rn.current=!1;const a=rm,h=lm,v=sm,N=im,S=()=>{a.current&&(window.clearTimeout(a.current),a.current=null)},D=H=>{if(rn.current)return;S();const P=typeof H=="number"?H:v.current;Hr(`[Ping] next ${P}`),a.current=window.setTimeout(()=>{a.current=null,L()},P)},L=async()=>{if(rn.current)return;if(N.current=Date.now(),Hr("[Ping] tick"),typeof document<"u"&&document.visibilityState!=="visible"){D(5e3);return}if(h.current){D(2e3);return}h.current=!0;const H=new AbortController,P=window.setTimeout(()=>H.abort(),5e3),B=(()=>{try{return new URL(`/ping.txt?t=${Date.now()}`,window.location.origin).toString()}catch{return`/ping.txt?t=${Date.now()}`}})();let q=!1;try{const G=await fetch(B,{cache:"no-store",signal:H.signal});q=!!(G!=null&&G.ok),q?(Ur(!0),Mi(!0),$r(!1),v.current=15e3,Hr("[Ping] ok")):(Ur(!1),Mi(!1),$r(!0),v.current=Math.min(6e4,v.current*2),Hr(`[Ping] fail status=${G==null?void 0:G.status}`))}catch(G){Ur(!1),Mi(!1),$r(!0),v.current=Math.min(6e4,v.current*2),Hr(`[Ping] fail ${(G==null?void 0:G.message)||G}`)}finally{window.clearTimeout(P),h.current=!1,rn.current||D()}},I=()=>{rn.current||(Ur(!0),L())},_=()=>{rn.current||(Ur(!1),$r(!0),D(2e3))},$=()=>{rn.current||typeof document<"u"&&document.visibilityState==="visible"&&L()};return L(),window.addEventListener("online",I),window.addEventListener("offline",_),document.addEventListener("visibilitychange",$),()=>{rn.current=!0,S(),window.removeEventListener("online",I),window.removeEventListener("offline",_),document.removeEventListener("visibilitychange",$)}},[]),m.useEffect(()=>{if(!F)return;const a=Ou.current!==F.periods,h=zu.current!==ue;!a&&!h||(Ou.current=F.periods,zu.current=ue,Te(F.periods.reduce((v,N)=>{var S;return v[N.id]=(S=N.attendance)!=null&&S[ue]?{...N.attendance[ue]}:{},v},{})),mt(F.periods.reduce((v,N)=>(v[N.id]=Hi(N.behaviorNotes,ue),v),{})))},[F,ue]);const Hu=m.useCallback(a=>{const h={};return!a||typeof a!="object"||Object.entries(a).forEach(([v,N])=>{if(!N||typeof N!="object")return;const S={},D=N.note&&typeof N.note=="object"?N.note:N;Object.entries(D).forEach(([L,I])=>{I&&typeof I=="object"&&typeof I.note=="string"&&(S[String(L)]={note:I.note,timestamp:I.timestamp||new Date().toISOString()})}),Object.keys(S).length>0&&(h[v]=S)}),h},[]),Zn=a=>e({tone:"success",message:a}),De=a=>e({tone:"error",message:a}),qn=a=>e({tone:"info",message:a}),Gr=["unmarked","absent","tardy","left_early","present"],ql=m.useCallback(a=>{if(!a)return!1;const h=a.toLowerCase();return h.includes("401")||h.includes("unauthorized")||h.includes("403")||h.includes("sign in with google drive first")},[]),dm=a=>{switch(a){case"present":return"bg-emerald-50 border-emerald-100";case"absent":return"bg-rose-50 border-rose-100";case"tardy":return"bg-amber-50 border-amber-100";case"left_early":return"bg-blue-50 border-blue-100";default:return"bg-slate-50 border-slate-200"}},Hi=(a,h)=>{const v=a==null?void 0:a[h];if(!v||typeof v!="object")return{};const N=v.note&&typeof v.note=="object"?v.note:v,S={};return Object.entries(N||{}).forEach(([D,L])=>{L&&typeof L=="object"&&typeof L.note=="string"&&(S[String(D)]=L.note)}),S},Gu=a=>{switch(a){case"present":return"Present";case"absent":return"Absent";case"tardy":return"Tardy";case"left_early":return"Left Early";default:return"Unmarked"}},es=a=>a>=45?"":a>=35?"":a>=25?"":"",fm=()=>`${Date.now()}-${Math.random().toString(36).slice(2)}`,pm=a=>{const h=String(a.getMonth()+1).padStart(2,"0"),v=String(a.getDate()).padStart(2,"0");return`${h}-${v}-${a.getFullYear()}`},Gi=a=>`https://docs.google.com/document/d/${a}/edit`,Qi=m.useCallback(a=>{if(!a)return;const h=Date.now(),v=Au.current;if(v&&v.url===a&&h-v.at<600)return;Au.current={url:a,at:h};try{if(n!=null&&n.openExternal){n.openExternal(a);return}}catch{}window.open(a,"_blank","noopener,noreferrer")||k==null||k("Pop-up blocked  please allow pop-ups to open Google Docs.")},[n]),sn=m.useCallback(a=>Av(a),[]),we=m.useCallback(async(a,h="preflight")=>{if(r)return k(l),null;if(_e)return k("Offline  will sync when back online."),J(!0),It(`${h}: offline; skipping refresh`),null;try{const v=await Xn(h);if(v)return v}catch(v){console.warn("[Drive] refresh failed",v),It(`${h}: refresh failed ${(v==null?void 0:v.message)||v}`)}if(!a)return J(!0),k("Reconnect to Google Drive to continue syncing."),It(`${h}: interactive=false; would trigger OAuth if allowed`),null;It(`triggerOAuth: reason=${h} hadSession=${!!s} hasRefresh=${!!(s!=null&&s.refreshToken)}`);try{await i0()}catch(v){De((v==null?void 0:v.message)||"Google sign-in was cancelled.")}return null},[l,s,r,De,_e,It,Xn]),ts=m.useCallback(async(a,h,v)=>{let N=!1;const S=async()=>{let D=v;if(D||(D=await we(!0,`${h}-download`)),!D)throw new Error("Reconnect to Google Drive to continue.");try{return{data:await No(D.accessToken,a)}}catch(L){const I=(L==null?void 0:L.message)||"";if(!N&&ql(I))return N=!0,rl("[Drive][Mobile] auth error on download, retrying once",{context:h,error:I}),v=null,S();throw L}};return S()},[we,ql]),Qu=m.useCallback(async(a,h,v,N)=>{let S=!1;const D=async()=>{let L=N;if(L||(L=await we(!0,`${v}-upload`)),!L)throw new Error("Reconnect to Google Drive to continue.");try{return await y0(L.accessToken,a,h)}catch(I){const _=(I==null?void 0:I.message)||"";if(!S&&ql(_))return S=!0,rl("[Drive][Mobile] auth error on upload, retrying once",{context:v,error:_}),N=null,D();throw I}};return D()},[we,ql]),er=m.useCallback((a,h)=>{var I;if(!((I=a==null?void 0:a.periodsState)!=null&&I.periods)||!(a!=null&&a.students))return"failed";const v=Wi(a),N=(h==null?void 0:h.id)||ht.current;if(N){const _=Mv({incomingUpdatedAt:a.updatedAt,lastAppliedUpdatedAt:Wu(N),incomingRevisionId:(h==null?void 0:h.revisionId)||null,lastRevisionId:Bi(N)??null});if(rl("[Sync][Mobile] apply decision",{fileKey:N,decision:_}),_.action==="skip")return h&&(ht.current=h.id,xe(h),Xe(h.id,h.revisionId||null)),bn.current=Date.now(),"skipped"}Tn.current=0,ln.current=!1,Jn.current=!1,Rn(!1),We(!1),Wt(null),Br(!1),lt.current&&(window.clearTimeout(lt.current),lt.current=null);const S=(a.layouts||[]).reduce((_,$)=>(_[String($.id)]={id:String($.id),name:$.name,tables:($.tables||[]).map(H=>({id:String(H.id),name:H.name||"Table"}))},_),{}),D=a.periodsState.periods.map(_=>({id:String(_.id),name:_.name,layoutId:_.layoutId||null,tableAssignments:_.tableAssignments||{},activeGrouping:_.activeGrouping||[],attendance:_.attendance||{},behaviorNotes:Hu(_.behaviorNotes),pointsByStudent:_.pointsByStudent||{},pointsEnabled:_.pointsEnabled??!1,startingPoints:_.startingPoints??50,pointsHistory:_.pointsHistory||[]})),L=(a.students||[]).map(_=>{var $;return{id:String(_.id),fullName:_.fullName||_.name||"Student",periodIds:(($=_.periodIds)==null?void 0:$.map(H=>String(H)))||[],quickNote:typeof _.quickNote=="string"?_.quickNote:void 0,quickNoteUpdatedAt:typeof _.quickNoteUpdatedAt=="string"?_.quickNoteUpdatedAt:void 0,docs:Array.isArray(_.docs)?_.docs.map(H=>({...H,id:String(H.id),driveFileId:String(H.driveFileId)})):[]}});return Be({periods:D,students:L,layouts:S}),Vl(_=>{var q;const $=_?String(_):null,H=a.periodsState.currentId?String(a.periodsState.currentId):null;return[$,H,((q=D[0])==null?void 0:q.id)||null].filter(Boolean).find(G=>D.some(ze=>String(ze.id)===G))||null}),Te(D.reduce((_,$)=>{var H;return _[$.id]=(H=$.attendance)!=null&&H[ue]?{...$.attendance[ue]}:{},_},{})),mt(D.reduce((_,$)=>(_[$.id]=Hi($.behaviorNotes,ue),_),{})),V(D.reduce((_,$)=>{var P;const H=$.pointsByStudent?{...$.pointsByStudent}:{};return $.pointsEnabled&&((P=$.studentsIds)==null||P.forEach(B=>{H[B]===void 0&&(H[B]=$.startingPoints??50)})),_[$.id]=H,_},{})),Yl.current=v,Vr(a.lastWriter||"unknown"),h?(ht.current=h.id,xe(h),Xe(h.id,h.revisionId||null)):Xe(ht.current,null),Fr(null),Vi(_=>_+1),Dn(N,a.updatedAt),bn.current=Date.now(),"applied"},[ue,Wu,Hu,Hi,Te,mt,V,Vl,Be,Rn,We,xe,Xe,Wt,Br,Vr,Fr,Vi,Dn]),Lt=m.useCallback(()=>{Tn.current+=1,Wr.current=Date.now(),Rn(!0),We(!0)},[]),Ki=m.useCallback((a,h,v)=>{Te(N=>{const S={...N||{}};return S[a]={...S[a]||{}},v==="unmarked"?delete S[a][h]:S[a][h]=v,S}),Lt()},[Lt]);m.useCallback((a,h)=>{var D;const v=((D=pt[a])==null?void 0:D[h])||"unmarked",N=Gr.indexOf(v),S=Gr[(N+1)%Gr.length];Ki(a,h,S)},[pt,Ki,Gr]);const ns=m.useCallback((a,h)=>{Te(v=>{const N={...v||{}};return N[a]={...N[a]||{}},h.forEach(S=>{N[a][S]||(N[a][S]="present")}),N}),Lt()},[Lt]),mm=m.useCallback((a,h,v,N)=>{if(v===0||h.length===0)return;const S=(N==null?void 0:N.trim())||"Bulk points update",D=F==null?void 0:F.periods.find(I=>I.id===a),L=(D==null?void 0:D.startingPoints)??50;V(I=>{const _={...I||{}};return _[a]={..._[a]||{}},h.forEach($=>{const H=_[a][$]??L;_[a][$]=Math.max(0,H+v)}),_}),se(I=>{const _={...I||{}},$=_[a]?[..._[a]]:[];return h.forEach(H=>$.push({studentId:H,delta:v,reason:S,date:ue})),_[a]=$,_}),Lt()},[F==null?void 0:F.periods,ue,Lt]),Ku=m.useCallback(a=>{Te(h=>{const v={...h||{}};return v[a]={},v}),qn("Reset attendance to unmarked for this date."),Lt()},[qn,Lt]),hm=m.useCallback(()=>{if(!Ne)return;const{periodId:a,studentId:h}=Ne,{note:v,delta:N,reason:S}=pe,D=Dt;if(D.pointsEnabled&&N!==0&&!S.trim()){De("Please provide a reason when changing points.");return}mt(L=>{const I={...L||{}};return I[a]={...I[a]||{}},v.trim()?I[a][h]=v.trim():delete I[a][h],I}),D.pointsEnabled&&N!==0&&(V(L=>{const I={...L||{}};I[a]={...I[a]||{}};const _=I[a][h]??D.startingPoints??0,$=Math.max(0,_+N);return I[a][h]=$,I}),se(L=>{const I={...L||{}},_=I[a]?[...I[a]]:[];return _.push({studentId:h,delta:N,reason:S||"Behavior note",date:ue}),I[a]=_,I})),Lt(),Oe(null),Ye({note:"",delta:0,reason:""})},[Ne,pe,Dt,Lt,mt,V,De]),Yu=m.useCallback((a,h,v)=>{var I,_;const N=((I=Ke[a])==null?void 0:I[h])||"",S=F==null?void 0:F.periods.find($=>$.id===a),D=(S==null?void 0:S.startingPoints)??50,L=((_=K[a])==null?void 0:_[h])??D;Ye({note:N,delta:0,reason:""}),Zp({pointsEnabled:!!(S!=null&&S.pointsEnabled),startingPoints:D,currentPoints:L,predictedPoints:L}),Oe({periodId:a,studentId:h,studentName:v})},[Ke,K,F]),gm=m.useCallback((a,h,v)=>{Yu(a,h,v)},[Yu]);m.useEffect(()=>{if(r){k(l);return}let a=!0;return(async()=>{await um();const v=await o0().catch(()=>null);if(!v||!a)return;const N=await $s(v),S=N||v;if(It(`startup refresh result: ok=${!!N} expiresAt=${N==null?void 0:N.expiresAt}`),!!a&&(i(S),!Lu.current)){Lu.current=!0;try{const D=localStorage.getItem(Es);if(!D){Jl.current=!0;return}const L=JSON.parse(D);if(L!=null&&L.id&&(L!=null&&L.name)){$i.current=!0;const I={id:L.id,name:L.name,modifiedTime:L.modifiedTime,size:L.size,revisionId:L.revisionId};$t(I),k(`Restoring ${I.name}`);const _=await No(v.accessToken,I.id),$=typeof _=="string"?JSON.parse(_):_,H=sn($);if(!H)throw new Error("Drive file could not be parsed.");const P=er(H,I);P==="applied"?(xe(I),k(`Loaded ${I.name} from Drive.`),Fr(new Date().toISOString())):P==="skipped"&&(xe(I),k("Drive file is older than current data  keeping existing state."))}Jl.current=!0}catch(D){console.error("[Drive] Restore failed",D),k("Google sign-in failed. Please try again."),$i.current=!1,Jl.current=!0}}})(),()=>{a=!1}},[]),m.useEffect(()=>{r||s&&(ft||F||U!=null&&U.id||Jl.current&&($i.current||T(!0)))},[U,s,r,F,ft]),m.useEffect(()=>{const a=window.setInterval(async()=>{if(!s)return;const h=await Xn("timer");h&&i(h)},3e5);return()=>window.clearInterval(a)},[s,Xn]),m.useEffect(()=>{const a=async()=>{if(!s)return;const h=await Xn("visibility");h&&i(h)};return document.addEventListener("visibilitychange",a),()=>document.removeEventListener("visibilitychange",a)},[s,Xn]),m.useEffect(()=>{if(f){const a=window.setTimeout(()=>{x(!1),y("Still loading Drive files. Try Sign in with Google then tap Refresh Cloud Files.")},12e3);return de(a),()=>window.clearTimeout(a)}re&&(window.clearTimeout(re),de(null)),lt.current&&(window.clearTimeout(lt.current),lt.current=null)},[f,re]);const vm=m.useCallback(()=>{a0(),i(null),c([]),$t(null),xe(null),k(null),qn("Signed out of Google Drive.")},[qn]),ym=m.useCallback(async()=>{var a;!U||!((a=window.desktopBridge)!=null&&a.uploadDriveFile)||confirm(`Delete ${U.name} from Drive? This cannot be undone.`)&&(await window.desktopBridge.uploadDriveFile({fileId:U.id,content:JSON.stringify({deleted:!0,message:"File deleted by user."})}),Be(null),Te({}),mt({}),V({}),se({}),xe(null),Vl(null),k("Deleted active file from Drive."))},[U]);m.useCallback(async()=>{},[er,sn,xe,Xe]);const xm=m.useCallback(async(a=!0,h=!1)=>{if(!(f&&!h)){x(!0),y(null);try{const v=await we(a,"refreshFiles");if(!v){y("Sign in with Google to view cloud files.");return}const N=await yd(v.accessToken);c(N),k(null)}catch(v){const N=(v==null?void 0:v.message)||"Unable to load Drive files.";y(N),De(N)}finally{x(!1)}}},[we,De,f]);m.useCallback(async()=>{Tu(!0),Oi(null);try{const a=await we(!0,"importList");if(!a){Oi("Sign in first to import.");return}const h=await x0(a.accessToken);tm(h)}catch(a){const h=(a==null?void 0:a.message)||"Unable to list Drive files.";Oi(h),De(h)}finally{Tu(!1)}},[we,De]);const wm=m.useCallback(async()=>{if(!Z){y("Select a cloud file first.");return}if(ln.current){y("Sync in progress. Please wait.");return}if(Je||Bt)if(window.confirm("You have unsynced changes. Sync them to Drive before switching files? Click OK to sync, Cancel to discard changes.")){if(await Nt({silent:!0}),Je||Bt){y("Sync did not complete. Try again before switching files.");return}}else{if(!window.confirm("Discard unsynced changes and load the selected file?"))return;Tn.current=0,Rn(!1),We(!1),Wt(null)}if(await we(!0,"loadSelected")){rt(!0);try{const h=await ts(Z.id,"loadSelected"),v=typeof h.data=="string"?JSON.parse(h.data):h.data,N=sn(v);if(!N)throw new Error("File could not be parsed.");const S=er(N,Z);if(S==="applied")k(`Loaded ${Z.name}. Data available locally.`);else if(S==="skipped")k("Drive file is older than current data. Keeping existing data.");else throw new Error("File could not be parsed.");localStorage.setItem(Es,JSON.stringify({id:Z.id,name:Z.name,modifiedTime:Z.modifiedTime,size:Z.size,revisionId:Z.revisionId})),Zn(`Loaded ${Z.name} from Drive.`)}catch(h){const v=(h==null?void 0:h.message)||"Unable to load Drive file.";y(v),De(v)}finally{rt(!1)}}},[we,Z,De,Zn,er,sn,Je,Bt,ts]),Sm=m.useCallback(async()=>{const a=O.trim();if(!a){y("Enter a file name first.");return}const h=await we(!0,"createFile");if(h){Y(!0),y(null);try{const N={...Dv(void 0,void 0,F==null?void 0:F.students),lastWriter:"mobile",updatedAt:new Date().toISOString()},S=await v0(h.accessToken,a,JSON.stringify(N,null,2));c(D=>[S,...D]),xe(S),ht.current=S.id,Xe(S.id,S.revisionId||null),Dn(S.id,N.updatedAt),$t(S),M(""),localStorage.setItem(Es,JSON.stringify({id:S.id,name:S.name,modifiedTime:S.modifiedTime,size:S.size,revisionId:S.revisionId})),Zn(`Created ${S.name} in Drive.`)}catch(v){const N=(v==null?void 0:v.message)||"Unable to create Drive file.";y(N),De(N)}finally{Y(!1)}}},[O,we,F,Dn,De,Zn]),Nt=m.useCallback(async a=>{var v,N,S;if(r){k(l);return}if(ln.current||a!=null&&a.silent&&!Je)return;if(!((v=F==null?void 0:F.periods)!=null&&v.length)||!((N=F==null?void 0:F.students)!=null&&N.length)){k("Cannot sync until data is loaded. Open a file first.");return}if(_e){We(!0),Wt("Offline - changes will sync when back online."),Br(!0);return}if(Jn.current){k("Sync already running.");return}const h=Tn.current;try{const D=await we(!(a!=null&&a.silent),"syncUpload");if(!D){Wt("Reconnect to Google Drive to continue syncing."),We(!0);return}if(!U){k("Select a cloud file before syncing."),Wt("Select a cloud file before syncing."),We(!0);return}const L=Ov({isOffline:_e,isLocked:Jn.current,inFlight:ln.current,hasSession:!0,hasFile:!!U,dirty:Je,now:Date.now(),lastLocalEditAt:Wr.current,graceMs:Bu});if(rl("[Sync][Mobile] upload decision",L),L.action==="skip"&&!(L.reason==="clean"&&!(a!=null&&a.silent))){L.reason==="no-file"&&(k("Select a cloud file before syncing."),Wt("Select a cloud file before syncing."),We(!0));return}Jn.current=!0,ln.current=!0,Du(!0);const I=await ts(U.id,"syncUpload",D),_=typeof I.data=="string"?JSON.parse(I.data):I.data,$=sn(_);if(!((S=$==null?void 0:$.periodsState)!=null&&S.periods))throw new Error("Drive file missing periods.");const H=($.periodsState.periods||[]).map(me=>{const be=String(me.id),Ht=pt[be]||{},on=Ke[be]||{},Yi=K[be]||{},ss=Array.isArray(me.pointsHistory)?[...me.pointsHistory]:[],Qr=fe[be]||[],tc={...me.attendance||{}};tc[ue]=Ht;const Kr={...me.behaviorNotes||{}};if(Object.keys(on).length>0){const is=Kr[ue]?{...Kr[ue]}:{};Object.entries(on).forEach(([nc,rc])=>{rc?is[nc]={note:rc,timestamp:new Date().toISOString()}:delete is[nc]}),Object.keys(is).length>0?Kr[ue]=is:delete Kr[ue]}return{...me,attendance:tc,behaviorNotes:Kr,pointsByStudent:Yi,pointsHistory:[...ss,...Qr]}}),P=new Date().toISOString(),B=new Map(($.students||[]).map(me=>[String(me.id),me])),q=((F==null?void 0:F.students)||[]).map(me=>{const be=B.get(String(me.id));if(!be)return me;const Ht=me.quickNoteUpdatedAt||"",on=be.quickNoteUpdatedAt||"";return on&&(!Ht||on>Ht)?{...me,quickNote:be.quickNote,quickNoteUpdatedAt:be.quickNoteUpdatedAt}:me}),G={...$,schemaVersion:1,version:1,lastWriter:"mobile",lastEditedPeriodId:kt?String(kt):null,lastEditedDate:ue,updatedAt:P,students:q,periodsState:{...$.periodsState,periods:H}},ze=JSON.stringify(G,null,2),te=await Qu(U.id,ze,"syncUpload",D);se(me=>{const be={...me||{}};return delete be[kt||""],be}),te?(Yl.current=Wi(G),Xe(te.id,te.revisionId||null),ht.current=te.id,xe(te),Dn(te.id,G.updatedAt),bn.current=Date.now()):Dn(U.id,G.updatedAt),Vr("mobile"),a!=null&&a.silent||(k("Synced with Google Drive."),Zn("Synced with Google Drive.")),Fr(new Date().toISOString()),We(!1),localStorage.setItem(Es,JSON.stringify({id:(te==null?void 0:te.id)||U.id,name:(te==null?void 0:te.name)||U.name,modifiedTime:(te==null?void 0:te.modifiedTime)||U.modifiedTime,size:(te==null?void 0:te.size)||U.size,revisionId:(te==null?void 0:te.revisionId)||U.revisionId})),Tn.current===h&&(Rn(!1),We(!1))}catch(D){const L=(D==null?void 0:D.message)||"Failed to sync with Drive.";k(L),De(L),We(!0)}finally{Du(!1),ln.current=!1,Jn.current=!1}},[U,we,De,Zn,pt,Ke,K,fe,F,ue,kt,Je,l,r,_e,sn,Dn,Xe,ts,Qu]),rs=m.useCallback(()=>{r||_e||Je&&U&&s&&(We(!0),Nt({silent:!0}))},[Je,U,s,r,Nt,_e]);m.useEffect(()=>{const a=()=>{document.visibilityState==="visible"&&rs()};return window.addEventListener("online",rs),document.addEventListener("visibilitychange",a),()=>{window.removeEventListener("online",rs),document.removeEventListener("visibilitychange",a)}},[rs]),m.useEffect(()=>{if(_e){Br(!0);return}if(!$u||!U||!s)return;(async()=>{We(!0),Wt("Reconnected  refreshing data"),await Nt({silent:!0}),Br(!1),Wt(null)})()},[_e,$u,U,s,Nt]),m.useEffect(()=>{if(!U||!Je||ln.current)return;const a=window.setTimeout(()=>{Nt({silent:!0})},1500);return()=>window.clearTimeout(a)},[Je,U,Nt]),m.useEffect(()=>{U&&Xe(U.id,U.revisionId||null)},[U,Xe]),m.useEffect(()=>{ht.current=(U==null?void 0:U.id)||null},[U]);const ls=m.useCallback(async()=>{if(r)return;const a=ht.current;if(!a)return;const h=zv({isOffline:_e,isLocked:Jn.current||Bt||Mr,inFlight:ln.current,dirty:Je,now:Date.now(),lastLocalEditAt:Wr.current,lastPullAt:bn.current,graceMs:Bu});if(rl("[Sync][Mobile] pull decision",h),h.action==="skip")return;const v=await we(!1,"pull");if(v&&ht.current===a)try{const N=await yd(v.accessToken);if(ht.current!==a)return;const S=N.find(D=>D.id===a);if(S!=null&&S.revisionId&&S.revisionId!==Bi(a)){const D=await No(v.accessToken,a);if(ht.current!==a)return;const L=typeof D=="string"?JSON.parse(D):D,I=sn(L);if(!I)return;const _=Wi(I);if(Yl.current&&_===Yl.current){Xe(a,S.revisionId||null),bn.current=Date.now(),Vr(I.lastWriter||"unknown");return}const $=er(I,S);$==="applied"&&ht.current===a?(Fr(new Date().toISOString()),Xe(a,S.revisionId||null),bn.current=Date.now(),Vr(I.lastWriter||"unknown"),Vi(H=>H+1),qn("Updated from Drive.")):$==="skipped"&&(Xe(a,S.revisionId||null),bn.current=Date.now())}}catch{}},[er,we,sn,qn,Je,Mr,Bt,_e,r,Bi,Xe]);m.useEffect(()=>{if(r)return;let a=null;const h=async()=>{await ls(),a=window.setTimeout(h,15e3)};return a=window.setTimeout(h,15e3),()=>{a&&window.clearTimeout(a)}},[r,ls]),m.useEffect(()=>{if(lt.current&&(window.clearTimeout(lt.current),lt.current=null),!r&&!(Je||Bt||Mr||_e||!U))return lt.current=window.setTimeout(()=>{ls()},5e3),()=>{lt.current&&(window.clearTimeout(lt.current),lt.current=null)}},[Je,Bt,Mr,_e,U,r,ls]);const Ju=(p==null?void 0:p.state)??"unknown";let Xu=Ju==="ok"&&s?"Connected to Google Drive":"Google Drive Sync",tr="Link Google Drive to save and sync. Files stay in your Drive.",nr=s?"Manage Files":"Connect to Drive";switch(Ju){case"no-session-yet":nr=s?"Manage Files":"Connect to Google Drive",tr="Store your seating data in a private folder in your Google Drive.";break;case"device-storage-wipe":nr=s?"Manage Files":"Reconnect Google Drive",tr="Your device cleared your Google connection. Tap below to reconnect; your files are still in your Drive.";break;case"oauth-failure":nr=s?"Manage Files":"Reconnect Google Drive",tr="There was a Google sign-in problem. Reconnect to continue syncing.";break;case"user-logged-out":nr=s?"Manage Files":"Connect to Google Drive",tr="You disconnected from Google Drive.";break}return r&&(Xu="Drive sync disabled",tr=l,nr="Drive disabled"),o.jsx(S0,{children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-violet-900 to-indigo-800 text-white flex flex-col relative",children:[o.jsxs("div",{className:"bg-emerald-50 text-emerald-900 text-xs px-4 py-1 text-center",children:[o.jsx("span",{role:"img","aria-label":"lock",className:"mr-1",children:""}),"Privacy: Data stays on this device and in your Google Drive. Use your school Google account. No data is sent to our servers."]}),_e&&o.jsx("div",{className:"bg-slate-900 text-white text-xs px-4 py-1 text-center",children:"Offline  edits are saved locally and will sync when youre back online."}),o.jsxs("div",{className:"px-4 pt-2 flex items-center gap-2",children:[o.jsxs("button",{className:"text-[11px] px-2 py-1 rounded bg-white/80 text-slate-800 shadow",onClick:cm,title:"Version",type:"button",children:["Rev ",wd]}),o.jsx("button",{className:"text-[11px] px-2 py-1 rounded border border-white/60 bg-white/20 text-white shadow hover:bg-white/30",onClick:()=>Q(!0),type:"button",children:"About"})]}),o.jsx("header",{className:"px-6 pt-10 pb-4 text-center",children:o.jsx("h1",{className:"text-3xl font-black tracking-wide drop-shadow",children:"ClassSeats Mobile"})}),xd,bt==="attendance"&&F&&kt&&(()=>{const a=F.periods.find(P=>P.id===kt);if(!a)return null;const h=F.students.filter(P=>{var B;return(B=P.periodIds)==null?void 0:B.includes(String(a.id))}),v=pt[a.id]||{},N=h.length||1,S=h.filter(P=>v[P.id]==="present").length,D=h.filter(P=>v[P.id]==="absent").length,L=h.filter(P=>v[P.id]==="tardy").length,I=h.filter(P=>v[P.id]==="left_early").length,_=S+D+L+I,$=Math.round(_/N*100),H=Math.round(S/N*100);return o.jsx("div",{className:"fixed left-0 right-0 z-40 px-4 pt-2",style:{top:"64px"},children:o.jsxs("div",{className:"bg-white/95 border border-slate-200 rounded-2xl shadow px-3 py-2 flex flex-wrap items-center gap-2 text-xs text-slate-800",children:[o.jsxs("span",{className:"font-semibold",children:["Progress: ",$,"%  Present: ",H,"%"]}),o.jsxs("span",{className:"px-2 py-1 rounded-full bg-emerald-100 text-emerald-800 font-semibold",children:[" Present: ",S]}),o.jsxs("span",{className:"px-2 py-1 rounded-full bg-rose-100 text-rose-800 font-semibold",children:[" Absent: ",D]}),o.jsxs("span",{className:"px-2 py-1 rounded-full bg-amber-100 text-amber-800 font-semibold",children:[" Tardy: ",L]}),o.jsxs("span",{className:"px-2 py-1 rounded-full bg-blue-100 text-blue-800 font-semibold",children:[" Left Early: ",I]})]})})})(),o.jsxs("main",{className:"flex-1 overflow-y-auto px-4 pb-28 pt-20 space-y-6 relative",children:[o.jsx(_v,{variant:"inline"}),o.jsx("section",{className:"max-w-2xl mx-auto bg-white/95 text-slate-900 rounded-3xl shadow-xl p-5",children:o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-base font-semibold text-slate-900",children:Xu}),o.jsx("p",{className:"text-xs text-slate-600",children:tr}),o.jsxs("p",{className:"text-[11px] text-slate-500",children:[s?((Zu=s.profile)==null?void 0:Zu.email)||"Signed in":"Not signed in"," "," ",(U==null?void 0:U.name)||(Z==null?void 0:Z.name)||"No file selected",_e&&"  Offline"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[Bt&&o.jsx("span",{className:"text-[11px] px-2 py-1 rounded-full bg-amber-100 text-amber-800",children:"Pending sync"}),_e&&o.jsx("span",{className:"text-[11px] px-2 py-1 rounded-full bg-slate-200 text-slate-700",children:"Offline"}),o.jsx("button",{className:"rounded-full bg-slate-900 text-white font-semibold px-4 py-2 text-sm disabled:opacity-50",disabled:r||!s||!U,onClick:()=>{if(r){k(l);return}Nt()},title:r?l:void 0,children:"Sync Now"}),o.jsx("button",{className:"rounded-full bg-emerald-600 text-white font-semibold px-4 py-2 text-sm",onClick:()=>{if(r){k(l);return}return s?T(!0):void we(!0,"cta")},disabled:r,title:r?l:void 0,children:nr})]})]})}),r&&o.jsx("p",{className:"max-w-2xl mx-auto text-sm text-rose-100 text-left",children:"Drive sync is disabled."}),g&&o.jsxs("section",{className:"max-w-2xl mx-auto bg-slate-900 text-slate-100 rounded-2xl shadow-inner p-3 space-y-2 text-xs",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"font-semibold",children:"Drive Debug"}),o.jsx("button",{className:"text-slate-200 underline",onClick:()=>j(!1),children:"Close"})]}),o.jsx("button",{className:"text-slate-200 underline",onClick:()=>A([]),children:"Clear"})]}),o.jsxs("div",{className:"border border-slate-700 rounded p-2 h-48 overflow-y-auto space-y-1 bg-slate-800/70",children:[b.length===0&&o.jsx("div",{className:"text-slate-400",children:"No debug entries yet."}),b.map((a,h)=>o.jsx("div",{className:"font-mono text-[11px] whitespace-pre-wrap break-all",children:a},h))]})]}),o.jsx("div",{className:"max-w-2xl mx-auto",children:o.jsx("div",{className:"mt-3",children:o.jsxs("div",{className:"inline-flex w-full rounded-xl border border-slate-200 bg-slate-50 p-1",children:[o.jsx("button",{className:`flex-1 rounded-lg px-3 py-2 text-sm font-semibold transition ${bt==="attendance"?"bg-violet-100 text-violet-900 shadow-sm ring-1 ring-violet-200":"text-slate-600"}`,onClick:()=>Mu("attendance"),children:"Attendance/Behavior"}),o.jsx("button",{className:`flex-1 rounded-lg px-3 py-2 text-sm font-semibold transition ${bt==="notes"?"bg-violet-100 text-violet-900 shadow-sm ring-1 ring-violet-200":"text-slate-600"}`,onClick:()=>Mu("notes"),children:"Student Notes"})]})})}),o.jsxs("section",{className:"max-w-2xl mx-auto bg-white/95 text-slate-900 rounded-3xl shadow-xl p-6 space-y-6",children:[F&&o.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 space-y-3 text-left",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsx("div",{children:o.jsx("p",{className:"text-sm font-semibold text-slate-800",children:bt==="attendance"?"Attendance & Behavior":"Student Notes"})}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[bt==="attendance"&&o.jsxs(o.Fragment,{children:[o.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Date:"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{className:"px-2 py-1 rounded border border-slate-300 bg-white text-slate-700 text-sm",onClick:()=>{const a=new Date(ue);a.setDate(a.getDate()-1),Ql(a.toISOString().slice(0,10))},children:""}),o.jsx("input",{type:"date",className:"rounded border border-slate-300 px-2 py-1 text-sm",value:ue,onChange:a=>Ql(a.target.value||Fi())}),o.jsx("button",{className:"px-2 py-1 rounded border border-slate-300 bg-white text-slate-700 text-sm",onClick:()=>{const a=new Date(ue);a.setDate(a.getDate()+1),Ql(a.toISOString().slice(0,10))},children:""}),o.jsx("button",{className:"px-2 py-1 rounded border border-emerald-200 bg-emerald-50 text-emerald-700 text-sm font-semibold",onClick:()=>Ql(Fi()),children:"Today"})]})]}),bt==="notes"&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Sort:"}),o.jsxs("select",{className:"rounded border border-slate-300 bg-white text-slate-900 px-3 py-2 text-sm shadow-sm",value:Kl,onChange:a=>am(a.target.value),children:[o.jsx("option",{value:"first-last",children:"First Last"}),o.jsx("option",{value:"last-first",children:"Last, First"})]})]}),bt==="attendance"&&o.jsxs(o.Fragment,{children:[o.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"View:"}),o.jsxs("select",{className:"rounded border border-slate-300 px-2 py-1 text-sm",value:Ui,onChange:a=>om(a.target.value),children:[o.jsx("option",{value:"table",children:"Table View"}),o.jsx("option",{value:"list-last-first",children:"List (Last, First)"}),o.jsx("option",{value:"list-first-last",children:"List (First Last)"})]})]}),F.periods.length>0&&o.jsx("select",{className:"rounded border border-slate-300 px-2 py-1 text-sm",value:kt||"",onChange:a=>Vl(a.target.value||null),children:F.periods.map(a=>o.jsx("option",{value:a.id,children:a.name},a.id))})]})]}),kt?(()=>{const a=F.periods.find(P=>P.id===kt);if(!a)return o.jsx("p",{className:"text-sm text-slate-500",children:"Period not found."});if(bt==="notes"){const P=F.students.filter(B=>{var q;return(q=B.periodIds)==null?void 0:q.includes(String(kt))}).slice().sort((B,q)=>{const[G,...ze]=B.fullName.split(" "),[te,...me]=q.fullName.split(" ");return Kl==="last-first"?ze.join(" ").localeCompare(me.join(" ")):G.localeCompare(te)});return o.jsx("div",{className:"space-y-3",children:P.length===0?o.jsx("p",{className:"text-sm text-slate-500",children:"No students found."}):P.map(B=>{var G;const q=(G=B.docs)==null?void 0:G.find(ze=>ze.pinned);return o.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 shadow-sm",children:o.jsx("div",{className:"flex flex-col gap-3",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsxs("p",{className:"text-sm font-semibold text-slate-800 truncate",children:[B.fullName,"  QuickNote"]}),B.quickNote&&o.jsxs("div",{className:"relative mt-1",children:[o.jsx("div",{className:"text-xs text-slate-600 whitespace-pre-wrap break-words max-h-28 overflow-hidden pr-2",children:B.quickNote}),B.quickNote.length>180&&o.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-10 bg-gradient-to-t from-white to-transparent"}),o.jsx("div",{className:"mt-1 text-[11px] text-slate-400",children:"Open Quick Note to view/edit more."})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("button",{className:"rounded-lg border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:()=>{Nu(B.quickNote||""),Ar({studentId:B.id,studentName:B.fullName})},children:"Quick Note"}),o.jsx("button",{className:"rounded-lg border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50",disabled:!q,onClick:ze=>{ze.preventDefault(),ze.stopPropagation(),q&&Qi(Gi(q.driveFileId))},children:"Pinned Note"}),o.jsx("button",{className:"rounded-lg border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:()=>$l({studentId:B.id,studentName:B.fullName}),children:"Docs"})]})]})})},B.id)})})}const h=a.layoutId?F.layouts[a.layoutId]:null,v=F.students.filter(P=>{var B;return(B=P.periodIds)==null?void 0:B.includes(String(a.id))}),N=v.reduce((P,B)=>(P[String(B.id)]=B,P),{}),S={};h==null||h.tables.forEach(P=>S[P.id]={id:P.id,name:P.name,students:[]});const D=[],L=a.tableAssignments||{};Array.isArray(a.activeGrouping)&&Object.keys(L||{}).length>0?(a.activeGrouping.forEach((P,B)=>{const q=L[String(B)]||L[B],G=q?S[q]:null;P==null||P.forEach(ze=>{const te=N[String(ze)];te&&(G?G.students.push(te):D.push(te))})}),v.forEach(P=>{(a.activeGrouping||[]).some(q=>q==null?void 0:q.some(G=>String(G)===String(P.id)))||D.push(P)})):v.forEach(P=>{const B=L[String(P.id)]||L[P.id];B&&S[B]?S[B].students.push(P):D.push(P)});const I=Object.values(S),_=pt[a.id]||{};Ke[a.id];const $=K[a.id]||{};em[a.id];const H=P=>{var ss;const B=_[P.id],q=typeof $[P.id]=="number"?$[P.id]:a.startingPoints??50,[G,...ze]=P.fullName.split(" "),te=ze.join(" "),me=!!((ss=Ke[a.id])!=null&&ss[P.id]),be=(()=>{switch(B){case"present":return"";case"absent":return"";case"tardy":return"";case"left_early":return"";default:return""}})(),Ht=Gu(B),on=Li[String(P.id)]||null,Yi=Qr=>{Eu(String(Qr))};return o.jsx("div",{className:`w-full rounded-2xl border px-4 py-3 shadow-sm ${dm(B)}`,children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(w0,{studentId:P.id,hasPhoto:!!on,src:on,onClick:Yi,widthPx:60,heightPx:80}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsxs("div",{className:"text-left min-w-0 flex-1",children:[o.jsx("div",{className:"text-base font-bold text-slate-900 leading-tight break-words",children:G}),o.jsx("div",{className:"text-base font-bold text-slate-900 leading-tight break-words",children:te||""})]}),o.jsx("button",{className:"text-xl text-slate-600 px-3 py-2 rounded-full hover:bg-slate-200 flex-shrink-0",onClick:Qr=>{Qr.stopPropagation(),Yn({id:P.id,name:P.fullName}),nm(a.id)},children:""})]}),o.jsxs("div",{className:"mt-1 flex items-center justify-between text-sm px-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:be}),o.jsx("span",{className:"text-slate-700",children:Ht})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[a.pointsEnabled&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-lg",children:es(q)}),o.jsx("span",{className:"text-emerald-700 font-semibold",children:q})]}),me&&o.jsx("span",{className:"text-indigo-600 text-lg",children:""})]})]})]})]})},P.id)};if(Ui!=="table"){const P=[...v].sort((B,q)=>{const[G,...ze]=B.fullName.split(" "),[te,...me]=q.fullName.split(" "),be=ze.join(" "),Ht=me.join(" ");return Ui==="list-last-first"?`${be} ${G}`.localeCompare(`${Ht} ${te}`):`${G} ${be}`.localeCompare(`${te} ${Ht}`)});return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{className:"rounded bg-emerald-500 text-white text-xs font-semibold px-3 py-2",onClick:()=>ns(a.id,v.map(B=>B.id)),children:"Mark Rest Present (All)"}),o.jsx("button",{className:"rounded bg-rose-100 text-rose-800 text-xs font-semibold px-3 py-2 border border-rose-200",onClick:()=>Ku(a.id),children:"Reset Today"})]}),o.jsx("div",{className:"space-y-2",children:P.length===0?o.jsx("p",{className:"text-xs text-slate-500",children:"No students found."}):P.map(H)})]})}return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{className:"rounded bg-emerald-500 text-white text-xs font-semibold px-3 py-2",onClick:()=>ns(a.id,v.map(P=>P.id)),children:"Mark Rest Present (All)"}),o.jsx("button",{className:"rounded bg-rose-100 text-rose-800 text-xs font-semibold px-3 py-2 border border-rose-200",onClick:()=>Ku(a.id),children:"Reset Today"})]}),I.map(P=>{const B=P.students.filter(G=>_[G.id]!=="absent").map(G=>G.id),q=P.name.replace("Table","").trim()||P.name;return o.jsxs("div",{className:"rounded-xl border border-slate-200",children:[o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-slate-50 border-b border-slate-200 gap-3",children:[o.jsxs("div",{className:"flex flex-col leading-tight text-center min-w-[54px]",children:[o.jsx("span",{className:"text-sm font-semibold text-slate-800",children:"Table"}),o.jsx("span",{className:"text-sm font-semibold text-slate-900",children:q})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"text-xs rounded bg-emerald-100 text-emerald-800 px-2 py-1",onClick:()=>ns(a.id,P.students.map(G=>G.id)),children:"Mark Rest Present"}),a.pointsEnabled&&o.jsx("button",{className:"text-[11px] rounded bg-amber-600 text-white px-3 py-2 font-semibold",onClick:()=>{Wl(null),Bl(0),Ai(""),Or({periodId:a.id,tableName:P.name,studentIds:B})},children:"Table Points"})]})]}),o.jsx("div",{className:"p-3 flex flex-wrap gap-2",children:P.students.length===0?o.jsx("p",{className:"text-xs text-slate-500",children:"No students assigned."}):P.students.map(H)})]},P.id)}),o.jsxs("div",{className:"rounded-xl border border-slate-200",children:[o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-slate-50 border-b border-slate-200",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Unassigned"}),o.jsx("button",{className:"text-xs rounded bg-emerald-100 text-emerald-800 px-2 py-1",onClick:()=>ns(a.id,D.map(P=>P.id)),children:"Mark Rest Present"})]}),o.jsx("div",{className:"p-3 flex flex-wrap gap-2",children:D.length===0?o.jsx("p",{className:"text-xs text-slate-500",children:"No unassigned students."}):D.map(H)})]})]})})():o.jsx("p",{className:"text-sm text-slate-500",children:"Load and select a period to begin."})]}),Ii&&o.jsx(E0,{open:!0,studentId:Ii,onClose:()=>Eu(null),onAccept:a=>{const h=Ii;if(!h)return;const v=URL.createObjectURL(a);qp(N=>{const S=N[h];return S&&URL.revokeObjectURL(S),{...N,[h]:v}})}}),zr&&o.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center px-4",onClick:()=>Yn(null),children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-4 w-full max-w-sm space-y-3",onClick:a=>a.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-slate-800",children:zr.name}),o.jsx("p",{className:"text-xs text-slate-500",children:"Actions"})]}),o.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>Yn(null),children:""})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:Gr.map(a=>o.jsx("button",{className:"rounded-lg border border-slate-200 px-2 py-2 text-xs text-left hover:bg-slate-50",onClick:()=>{Hl&&Ki(Hl,zr.id,a),Yn(null)},children:Gu(a)},a))}),o.jsx("div",{className:"space-y-2",children:o.jsx("button",{className:"w-full rounded-lg border border-slate-200 px-2 py-2 text-xs text-left hover:bg-slate-50",onClick:()=>{Hl&&gm(Hl,zr.id,zr.name),Yn(null)},children:" Notes and Points"})}),o.jsx("button",{className:"w-full rounded-lg bg-slate-900 text-white font-semibold py-2 text-sm",onClick:()=>Yn(null),children:"Close"})]})}),Ne&&o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>Oe(null)}),o.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg p-5 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:["Behavior for ",Ne.studentName]}),o.jsxs("p",{className:"text-xs text-slate-500",children:["Today  Points ",Dt.pointsEnabled?`${es(Dt.currentPoints)} ${Dt.currentPoints}`:"disabled"]})]}),o.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>Oe(null),children:""})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-semibold text-slate-700",children:"Note"}),o.jsx("textarea",{value:pe.note,onChange:a=>Ye(h=>({...h,note:a.target.value})),className:"w-full border-2 border-slate-200 rounded-lg px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",rows:4,placeholder:"Enter behavior note...",autoFocus:!0,onMouseDown:a=>a.stopPropagation(),onClick:a=>a.stopPropagation()}),o.jsx("div",{className:"flex flex-wrap gap-2",children:[" Excellent participation"," Needs redirection"," Academic progress"," Positive peer interactions"].map(a=>o.jsx("button",{onClick:()=>Ye(h=>({...h,note:h.note?h.note+" "+a:a})),className:"text-[11px] px-2.5 py-1 rounded-lg bg-slate-100 hover:bg-slate-200 border border-slate-200 text-slate-700",children:a},a))}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",className:"flex-1 border border-slate-300 rounded px-3 py-2 text-sm",placeholder:"Custom snippet",value:Kn,onChange:a=>Lr(a.target.value)}),o.jsx("button",{className:"text-xs rounded bg-indigo-600 text-white px-3 py-2",onClick:()=>{Kn.trim()&&(Ye(a=>({...a,note:a.note?`${a.note} ${Kn}`:Kn})),Lr(""))},children:"Insert"})]})]}),Dt.pointsEnabled&&o.jsxs("div",{className:"space-y-3 border border-slate-200 rounded-xl p-3 bg-slate-50",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Points"}),o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsxs("span",{children:[es(Dt.currentPoints)," ",Dt.currentPoints]}),o.jsx("span",{className:"text-slate-400",children:""}),o.jsxs("span",{children:[es(Math.max(0,Dt.currentPoints+pe.delta))," ",Math.max(0,Dt.currentPoints+pe.delta)]})]})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:[2,1,0,-1,-2].map(a=>o.jsx("button",{onClick:()=>Ye(h=>({...h,delta:a,reason:h.reason})),className:`px-3 py-1.5 rounded border text-sm font-semibold ${pe.delta===a?"bg-indigo-600 text-white border-indigo-600":"bg-white text-slate-700 border-slate-300 hover:bg-indigo-50"}`,children:a>0?`+${a}`:a},a))}),pe.delta!==0&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[11px] font-semibold text-slate-700",children:"Reason (required)"}),o.jsx("input",{value:pe.reason,onChange:a=>Ye(h=>({...h,reason:a.target.value})),className:"w-full border border-slate-300 rounded px-2 py-1 text-sm",placeholder:"Enter reason for point change"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"flex-1 rounded-lg bg-indigo-600 text-white font-semibold py-2",onClick:hm,children:"Save"}),o.jsx("button",{className:"flex-1 rounded-lg bg-slate-200 text-slate-800 font-semibold py-2",onClick:()=>Oe(null),children:"Cancel"})]})]})]}),bi&&F&&(()=>{const a=F.students.find(h=>h.id===bi.studentId);return a?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>Ar(null)}),o.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg p-5 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Quick Note"}),o.jsx("p",{className:"text-xs text-slate-500",children:a.fullName})]}),o.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>Ar(null),children:""})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-semibold text-slate-700",children:"Note"}),o.jsx("textarea",{value:ku,onChange:h=>Nu(h.target.value),className:"w-full border-2 border-slate-200 rounded-lg px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",rows:5,placeholder:"Add a quick note...",autoFocus:!0,onMouseDown:h=>h.stopPropagation(),onClick:h=>h.stopPropagation()})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"flex-1 rounded-lg bg-indigo-600 text-white font-semibold py-2",onClick:()=>{const h=bi.studentId,v=ku;Be(N=>N&&{...N,students:N.students.map(S=>S.id===h?{...S,quickNote:v,quickNoteUpdatedAt:new Date().toISOString()}:S)}),Tn.current+=1,Rn(!0),We(!0),Wr.current=Date.now(),Nt({silent:!0}),Ar(null)},children:"Save"}),o.jsx("button",{className:"flex-1 rounded-lg bg-slate-200 text-slate-800 font-semibold py-2",onClick:()=>Ar(null),children:"Cancel"})]})]})]}):null})(),ju&&F&&(()=>{const a=F.students.find(S=>S.id===ju.studentId);if(!a)return null;const h=F.periods.find(S=>S.id===kt),N=(a.docs||[]).slice().sort((S,D)=>{if(S.pinned&&!D.pinned)return-1;if(!S.pinned&&D.pinned)return 1;const L=S.createdAt?new Date(S.createdAt).getTime():0;return(D.createdAt?new Date(D.createdAt).getTime():0)-L});return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>$l(null)}),o.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg p-5 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Student Docs"}),o.jsx("p",{className:"text-xs text-slate-500",children:a.fullName})]}),o.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>$l(null),children:""})]}),o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs text-slate-500",children:"Tap a doc to open it in Google Docs."}),o.jsx("p",{className:"text-[11px] leading-snug text-slate-500",children:"To protect privacy, ClassSeats can only see the documents it helps create."}),o.jsx("p",{className:"text-[11px] leading-snug text-slate-500",children:"All documents are created in the ClassSeats/Student Docs folder in your Google Drive."})]}),o.jsx("button",{className:"rounded-lg bg-emerald-600 text-white text-xs font-semibold px-3 py-2 disabled:opacity-50",disabled:!t.canUseDriveSync,onClick:async()=>{if(t.canUseDriveSync)try{const S=await we(!0,"studentDocCreate");if(!S)return;const D=(h==null?void 0:h.name)||"Period",L=`Notes - ${a.fullName} - ${D} ${pm(new Date)}`,I=window.prompt("Name this Doc:",L);if(!I||!I.trim())return;const _=I.trim(),$=await p0(S.accessToken),H=await h0(S.accessToken,$,_),P=new Date().toISOString(),B={id:fm(),driveFileId:H.fileId,title:H.title||_,createdAt:P,lastOpenedAt:P};Be(q=>q&&{...q,students:q.students.map(G=>G.id===a.id?{...G,docs:[...G.docs||[],B]}:G)}),Tn.current+=1,Rn(!0),We(!0),Wr.current=Date.now(),Qi(Gi(H.fileId))}catch(S){De((S==null?void 0:S.message)||"Unable to create Google Doc.")}},children:"+ New Doc"})]}),o.jsx("div",{className:"max-h-72 overflow-y-auto space-y-2",children:N.length===0?o.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 text-sm text-slate-600",children:"No Docs yet."}):N.map(S=>o.jsx("button",{className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-50",onClick:D=>{D.preventDefault(),D.stopPropagation(),Qi(Gi(S.driveFileId))},children:o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"font-semibold text-slate-900",children:S.title}),S.pinned&&o.jsx("span",{className:"text-[10px] font-semibold text-emerald-700 bg-emerald-100 px-2 py-0.5 rounded-full",children:"PINNED"})]})},S.id))}),o.jsx("button",{className:"w-full rounded-lg bg-slate-200 text-slate-800 font-semibold py-2",onClick:()=>$l(null),children:"Close"})]})]})})(),!F&&o.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 space-y-3 text-left",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"No class file loaded yet."}),o.jsx("p",{className:"text-sm text-slate-600",children:"To take attendance or track points, open a class file from your Google Drive."}),o.jsx("button",{className:"w-full rounded-lg bg-emerald-600 text-white font-semibold py-2",onClick:()=>{if(r){k(l);return}return s?T(!0):void we(!0,"empty-state")},disabled:r,title:r?l:void 0,children:"Manage Files"})]}),nn&&o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>Or(null)}),o.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg p-5 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-slate-800",children:nn.tableName}),o.jsxs("p",{className:"text-xs text-slate-500",children:["Apply points to ",nn.studentIds.length," present student",nn.studentIds.length===1?"":"s"]})]}),o.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>Or(null),children:""})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-semibold text-slate-700",children:"Note (required)"}),o.jsx("textarea",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Describe why youre adjusting points",value:Ru,onChange:a=>Ai(a.target.value),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Choose points"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[[2,1,-1,-2].map(a=>{const h=Pu===a;return o.jsxs("button",{className:`px-3 py-2 rounded-lg text-sm font-semibold border ${h?"bg-amber-600 text-white border-amber-600":"bg-white text-amber-800 border-amber-300"}`,onClick:()=>{Wl(a),Bl(0)},children:[a>0?`+${a}`:a," pts"]},a)}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("input",{type:"number",className:"w-24 rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Custom",value:_u,onFocus:()=>Wl(null),onChange:a=>Bl(Number(a.target.value)||0)})})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{className:"flex-1 rounded-lg bg-amber-600 text-white font-semibold py-2",onClick:()=>{const a=Ru.trim(),h=Pu??_u;if(!a){De("Enter a note for the point change.");return}if(!h){De("Select a point value.");return}mm(nn.periodId,nn.studentIds,h,a),Wl(null),Bl(0),Ai(""),Or(null)},children:"Apply"}),o.jsx("button",{className:"flex-1 rounded-lg bg-slate-200 text-slate-800 font-semibold py-2",onClick:()=>Or(null),children:"Cancel"})]}),o.jsx("p",{className:"text-[11px] text-slate-500",children:"Only present students at this table receive the adjustment. Absent students are skipped."}),(()=>{const a=(fe[nn.periodId]||[]).filter(v=>{var N;return((N=v.date)==null?void 0:N.startsWith(ue))&&nn.studentIds.includes(String(v.studentId))});if(a.length===0)return null;const h=v=>{var N;return((N=F==null?void 0:F.students.find(S=>String(S.id)===String(v)))==null?void 0:N.fullName)||`Student ${v}`};return o.jsxs("div",{className:"border-t border-slate-200 pt-2 space-y-1",children:[o.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Todays table adjustments"}),o.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:a.map((v,N)=>o.jsxs("div",{className:"text-xs text-slate-700 flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:h(v.studentId)}),o.jsxs("span",{children:[v.delta>0?"+":"",v.delta,"  ",v.reason||"No note"]})]},`${v.studentId}-${N}`))})]})})()]})]})]}),ft&&o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>T(!1)}),o.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-5 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"Manage Files"}),o.jsx("p",{className:"text-xs text-slate-500",children:"Sign in, load, create, or import ClassSeats files."})]}),o.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>T(!1),children:""})]}),r?o.jsx("div",{className:"space-y-2 text-sm text-rose-700",children:o.jsx("p",{children:l})}):s?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-slate-600",children:[o.jsxs("div",{children:[o.jsxs("p",{children:["Signed in as ",o.jsx("span",{className:"font-semibold text-slate-900",children:((qu=s.profile)==null?void 0:qu.email)||"your account"})]}),o.jsxs("p",{children:["Active file: ",o.jsx("span",{className:"font-semibold text-slate-900",children:(U==null?void 0:U.name)||(Z==null?void 0:Z.name)||"None selected"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[U&&o.jsx("button",{className:"px-3 py-1 rounded bg-rose-600 text-white font-semibold",onClick:()=>void ym(),children:" Delete Active File"}),o.jsx("button",{className:"text-rose-600 underline",onClick:vm,children:"Sign out"})]})]}),xd,o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{className:"w-full rounded-2xl bg-slate-900 text-white font-semibold py-2",onClick:()=>void xm(!0),children:" Refresh Cloud Files"}),o.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-3 max-h-64 overflow-auto space-y-2",children:[f&&o.jsx("p",{className:"text-sm text-slate-500",children:"Loading Drive files"}),w&&o.jsx("p",{className:"text-sm text-rose-600",children:w}),!f&&!w&&u.length===0&&o.jsxs("div",{className:"text-sm text-slate-700 space-y-1",children:[o.jsx("p",{className:"font-semibold",children:"Youre signed into Google Drive, but no class file is loaded yet."}),o.jsx("p",{className:"text-slate-500",children:"Choose an existing class file or create a new one linked to your desktop setup."})]}),!f&&!w&&u.length>0&&u.map(a=>{const h=(Z==null?void 0:Z.id)===a.id,v=(U==null?void 0:U.id)===a.id;return o.jsxs("button",{className:`w-full text-left rounded-xl border px-3 py-2 transition ${h?"border-indigo-400 bg-indigo-50 text-indigo-900":v?"border-emerald-400 bg-emerald-50 text-emerald-900":"border-slate-200 bg-white hover:bg-slate-100"}`,onClick:()=>$t(a),children:[o.jsx("p",{className:"text-sm font-semibold",children:a.name}),o.jsxs("p",{className:"text-[11px] text-slate-500",children:["Updated ",a.modifiedTime?new Date(a.modifiedTime).toLocaleString():"",a.size?`  ${(Number(a.size)/1024).toFixed(1)} KB`:""]}),v&&o.jsx("p",{className:"text-[11px] text-emerald-700 font-semibold",children:"Active"})]},a.id)})]}),o.jsx("button",{className:"w-full rounded-2xl bg-emerald-600 text-white font-semibold py-2 disabled:opacity-50",onClick:wm,disabled:!Z||Ce,children:Ce?"Loading":Z?`Load "${Z.name}"`:"Load Selected File"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("button",{className:"w-full rounded-2xl bg-emerald-600 text-white font-semibold py-2 disabled:opacity-50",onClick:()=>void Nt(),disabled:!U,children:" Sync (pull latest, then save)"}),o.jsx("p",{className:"text-[11px] text-slate-500 text-center",children:"Uses the selected cloud file. Select or create one first."})]})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"space-y-2 border-b border-slate-200 pb-3",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Create a new cloud file"}),o.jsx("input",{type:"text",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm",placeholder:"e.g., Semester 2 24-25",value:O,onChange:a=>M(a.target.value)}),o.jsx("button",{className:"w-full rounded-2xl bg-slate-900 text-white font-semibold py-2 disabled:opacity-50",onClick:Sm,disabled:le,children:le?"Creating":"Create Cloud File"})]})})]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm text-slate-700",children:"Sign in with Google to access Drive."}),o.jsx("p",{className:"text-[11px] text-amber-700",children:"Use your school Google account. Files stay in your Drive (ClassSeats folder)."}),o.jsx("button",{className:"w-full rounded-2xl bg-indigo-600 text-white font-semibold py-2",onClick:()=>{T(!1),we(!0)},children:" Sign in with Google"})]})]})]})]})]}),o.jsx("div",{className:"fixed inset-x-0 bottom-0 px-4 pb-[env(safe-area-inset-bottom)]",children:o.jsxs("div",{className:"bg-white/95 border border-slate-200 rounded-2xl shadow-lg px-4 py-3 flex flex-wrap items-center gap-2 text-xs text-slate-700",children:[o.jsxs("div",{className:"flex-1 min-w-[180px]",children:[o.jsx("p",{className:"font-semibold text-slate-900",children:Mr?"Saving":Gl?`Synced ${new Date(Gl).toLocaleTimeString()}`:"Ready"}),o.jsxs("p",{className:"text-[11px] text-slate-500 truncate",children:[s?((ec=s.profile)==null?void 0:ec.email)||"Signed in":"Not signed in"," "," ",(U==null?void 0:U.name)||(Z==null?void 0:Z.name)||"No file selected",_e&&"  Offline"]}),Bt&&o.jsx("p",{className:"text-[11px] text-amber-700",children:"Pending sync"})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[o.jsx("button",{className:"rounded-full bg-emerald-600 text-white px-3 py-2 text-xs font-semibold disabled:opacity-50 flex-none",disabled:!s||!U,onClick:()=>void Nt(),children:"Sync Now"}),o.jsx("button",{className:"rounded-full bg-slate-900 text-white px-3 py-2 text-xs font-semibold flex-none",onClick:()=>s?T(!0):void we(!0,"cta"),children:"Manage Files"})]})]})}),o.jsx(Tv,{open:W,onClose:()=>Q(!1),buildRevision:wd})]}),_e&&o.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm flex items-center justify-center px-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-4 text-center space-y-2 text-slate-900",children:[o.jsx("p",{className:"text-base font-semibold",children:"Mobile paused while offline"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Edits are disabled while offline. Reconnect to resume."}),o.jsxs("p",{className:"text-xs text-slate-500",children:["Last sync: ",Gl?new Date(Gl).toLocaleTimeString():"No sync yet"]})]})})]})})}function _0({toasts:e}){return o.jsx("div",{className:"fixed right-4 top-4 z-[1000] flex w-[320px] max-w-[calc(100vw-2rem)] flex-col gap-2",children:e.map(t=>{const n=t.kind==="success"?"border-emerald-200 bg-emerald-50 text-emerald-900":t.kind==="error"?"border-rose-200 bg-rose-50 text-rose-900":t.kind==="warning"?"border-amber-200 bg-amber-50 text-amber-900":"border-slate-200 bg-slate-50 text-slate-800",r=t.kind==="success"?"":t.kind==="error"?"":t.kind==="warning"?"":"";return o.jsx("div",{className:`rounded-xl border px-3 py-2 shadow-sm ${n}`,children:o.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[o.jsx("span",{"aria-hidden":"true",children:r}),o.jsx("div",{className:"leading-snug",children:t.message})]})},t.id)})})}function P0({open:e,opts:t,onCancel:n,onConfirm:r}){if(!e||!t)return null;const l=t.tone??"default",s=t.confirmText??"Confirm",i=t.cancelText??"Cancel",u=l==="danger"?"bg-rose-600 hover:bg-rose-700 text-white":"bg-indigo-600 hover:bg-indigo-700 text-white";return o.jsx("div",{className:"fixed inset-0 z-[1100] flex items-center justify-center bg-black/40 p-4",children:o.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white shadow-2xl border border-slate-200",children:[o.jsxs("div",{className:"p-5 border-b border-slate-100",children:[o.jsx("h3",{className:"text-lg font-bold text-slate-900",children:t.title}),o.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.message})]}),o.jsxs("div",{className:"p-5 flex items-center justify-end gap-2",children:[o.jsx("button",{className:"rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50",onClick:n,children:i}),o.jsx("button",{className:`rounded-xl px-4 py-2 text-sm font-semibold ${u}`,onClick:r,children:s})]})]})})}function R0({open:e,opts:t,onCancel:n,onConfirm:r}){const[l,s]=m.useState("");if(m.useEffect(()=>{e&&t&&s(t.defaultValue??"")},[e,t]),!e||!t)return null;const i=t.confirmText??"OK",u=t.cancelText??"Cancel",c=t.inputType??"text";return o.jsx("div",{className:"fixed inset-0 z-[1100] flex items-center justify-center bg-black/40 p-4",children:o.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white shadow-2xl border border-slate-200",children:[o.jsxs("div",{className:"p-5 border-b border-slate-100",children:[o.jsx("h3",{className:"text-lg font-bold text-slate-900",children:t.title}),t.message&&o.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.message})]}),o.jsxs("div",{className:"p-5 space-y-3",children:[o.jsx("input",{autoFocus:!0,type:c,value:l,onChange:f=>s(f.target.value),placeholder:t.placeholder??"",className:"w-full rounded-xl border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-200"}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{className:"rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50",onClick:n,children:u}),o.jsx("button",{className:"rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700",onClick:()=>r(l),children:i})]})]})]})})}function T0(){return Math.random().toString(16).slice(2)+Date.now().toString(16)}function D0({children:e}){const[t,n]=m.useState([]),r=m.useRef(null),[l,s]=m.useState(!1),[i,u]=m.useState(null),c=m.useRef(null),[f,x]=m.useState(!1),[w,y]=m.useState(null),C=m.useCallback((p,d,g=2500)=>{const j=T0(),b={id:j,kind:p,message:d,durationMs:g};n(A=>[...A,b]),window.setTimeout(()=>{n(A=>A.filter(O=>O.id!==j))},g)},[]),k=m.useCallback(p=>(u(p),s(!0),new Promise(d=>{r.current=d})),[]),R=m.useCallback(p=>(y(p),x(!0),new Promise(d=>{c.current=d})),[]),J=m.useMemo(()=>({toast:C,confirm:k,prompt:R}),[C,k,R]);return o.jsxs(av.Provider,{value:J,children:[e,o.jsx(_0,{toasts:t}),o.jsx(P0,{open:l,opts:i,onCancel:()=>{s(!1);const p=r.current;r.current=null,p==null||p(!1)},onConfirm:()=>{s(!1);const p=r.current;r.current=null,p==null||p(!0)}}),o.jsx(R0,{open:f,opts:w,onCancel:()=>{x(!1);const p=c.current;c.current=null,p==null||p(null)},onConfirm:p=>{x(!1);const d=c.current;c.current=null,d==null||d(p)}})]})}const Nr={waiting:!1,registration:null},Sa=new Set;function Nd(){for(const e of Sa)e({...Nr})}function b0(e){return Sa.add(e),e({...Nr}),()=>{Sa.delete(e)}}async function I0(){if("serviceWorker"in navigator&&!window.__cs_sw_registered){window.__cs_sw_registered=!0;try{const t=await navigator.serviceWorker.register("/service-worker.js",{updateViaCache:"none"});Nr.registration=t,t.waiting&&navigator.serviceWorker.controller&&(Nr.waiting=!0),t.addEventListener("updatefound",()=>{const l=t.installing;l&&l.addEventListener("statechange",()=>{l.state==="installed"&&navigator.serviceWorker.controller&&(Nr.waiting=!0,Nd())})});const n=()=>t.update().catch(()=>{});window.addEventListener("focus",n),window.setInterval(n,6e4),Nd();let r=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{r||(r=!0,window.location.reload())})}catch(e){console.warn("[PWA] SW registration failed",e)}}}async function L0(){const e=Nr.registration;e!=null&&e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"})}function A0(){const[e,t]=m.useState({waiting:!1,registration:null});return m.useEffect(()=>b0(t),[]),e.waiting?o.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-[9999]",children:o.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-slate-900 text-white px-4 py-3 shadow-xl",children:[o.jsx("div",{className:"text-sm font-semibold",children:"Update available"}),o.jsx("button",{className:"rounded-xl bg-white/15 hover:bg-white/25 px-3 py-1 text-sm font-semibold",onClick:async()=>{await L0()},children:"Refresh"})]})}):null}const O0=document.getElementById("root");jo.createRoot(O0).render(o.jsx(Mm.StrictMode,{children:o.jsx(jv,{children:o.jsxs(D0,{children:[o.jsx(C0,{}),o.jsx(A0,{})]})})})),I0();
