(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Cg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cp={exports:{}},xi={},dp={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),Eg=Symbol.for("react.portal"),_g=Symbol.for("react.fragment"),Pg=Symbol.for("react.strict_mode"),Tg=Symbol.for("react.profiler"),Rg=Symbol.for("react.provider"),Dg=Symbol.for("react.context"),Ig=Symbol.for("react.forward_ref"),Ag=Symbol.for("react.suspense"),Lg=Symbol.for("react.memo"),Og=Symbol.for("react.lazy"),Nd=Symbol.iterator;function Mg(e){return e===null||typeof e!="object"?null:(e=Nd&&e[Nd]||e["@@iterator"],typeof e=="function"?e:null)}var fp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pp=Object.assign,mp={};function Es(e,t,n){this.props=e,this.context=t,this.refs=mp,this.updater=n||fp}Es.prototype.isReactComponent={};Es.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Es.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hp(){}hp.prototype=Es.prototype;function Ou(e,t,n){this.props=e,this.context=t,this.refs=mp,this.updater=n||fp}var Mu=Ou.prototype=new hp;Mu.constructor=Ou;pp(Mu,Es.prototype);Mu.isPureReactComponent=!0;var kd=Array.isArray,gp=Object.prototype.hasOwnProperty,Fu={current:null},yp={key:!0,ref:!0,__self:!0,__source:!0};function xp(e,t,n){var r,s={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)gp.call(t,r)&&!yp.hasOwnProperty(r)&&(s[r]=t[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{$$typeof:Ul,type:e,key:l,ref:o,props:s,_owner:Fu.current}}function Fg(e,t){return{$$typeof:Ul,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Uu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ul}function Ug(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jd=/\/+/g;function la(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ug(""+e.key):t.toString(36)}function Eo(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ul:case Eg:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+la(o,0):r,kd(s)?(n="",e!=null&&(n=e.replace(jd,"$&/")+"/"),Eo(s,t,n,"",function(d){return d})):s!=null&&(Uu(s)&&(s=Fg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(jd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",kd(e))for(var u=0;u<e.length;u++){l=e[u];var c=r+la(l,u);o+=Eo(l,t,n,c,s)}else if(c=Mg(e),typeof c=="function")for(e=c.call(e),u=0;!(l=e.next()).done;)l=l.value,c=r+la(l,u++),o+=Eo(l,t,n,c,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function oo(e,t,n){if(e==null)return e;var r=[],s=0;return Eo(e,r,"","",function(l){return t.call(n,l,s++)}),r}function zg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ft={current:null},_o={transition:null},$g={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:_o,ReactCurrentOwner:Fu};function vp(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:oo,forEach:function(e,t,n){oo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return oo(e,function(){t++}),t},toArray:function(e){return oo(e,function(t){return t})||[]},only:function(e){if(!Uu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Es;se.Fragment=_g;se.Profiler=Tg;se.PureComponent=Ou;se.StrictMode=Pg;se.Suspense=Ag;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$g;se.act=vp;se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pp({},e.props),s=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Fu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)gp.call(t,c)&&!yp.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:Ul,type:e.type,key:s,ref:l,props:r,_owner:o}};se.createContext=function(e){return e={$$typeof:Dg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Rg,_context:e},e.Consumer=e};se.createElement=xp;se.createFactory=function(e){var t=xp.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:Ig,render:e}};se.isValidElement=Uu;se.lazy=function(e){return{$$typeof:Og,_payload:{_status:-1,_result:e},_init:zg}};se.memo=function(e,t){return{$$typeof:Lg,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=_o.transition;_o.transition={};try{e()}finally{_o.transition=t}};se.unstable_act=vp;se.useCallback=function(e,t){return ft.current.useCallback(e,t)};se.useContext=function(e){return ft.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return ft.current.useDeferredValue(e)};se.useEffect=function(e,t){return ft.current.useEffect(e,t)};se.useId=function(){return ft.current.useId()};se.useImperativeHandle=function(e,t,n){return ft.current.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return ft.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return ft.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return ft.current.useMemo(e,t)};se.useReducer=function(e,t,n){return ft.current.useReducer(e,t,n)};se.useRef=function(e){return ft.current.useRef(e)};se.useState=function(e){return ft.current.useState(e)};se.useSyncExternalStore=function(e,t,n){return ft.current.useSyncExternalStore(e,t,n)};se.useTransition=function(){return ft.current.useTransition()};se.version="18.3.1";dp.exports=se;var f=dp.exports;const Bg=Cg(f);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=f,Hg=Symbol.for("react.element"),Vg=Symbol.for("react.fragment"),Kg=Object.prototype.hasOwnProperty,Gg=Wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qg={key:!0,ref:!0,__self:!0,__source:!0};function wp(e,t,n){var r,s={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Kg.call(t,r)&&!Qg.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Hg,type:e,key:l,ref:o,props:s,_owner:Gg.current}}xi.Fragment=Vg;xi.jsx=wp;xi.jsxs=wp;cp.exports=xi;var i=cp.exports,Ma={},Sp={exports:{}},Rt={},Np={exports:{}},kp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,K){var X=T.length;T.push(K);e:for(;0<X;){var me=X-1>>>1,he=T[me];if(0<s(he,K))T[me]=K,T[X]=he,X=me;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var K=T[0],X=T.pop();if(X!==K){T[0]=X;e:for(var me=0,he=T.length,Kt=he>>>1;me<Kt;){var L=2*(me+1)-1,Fe=T[L],$e=L+1,Be=T[$e];if(0>s(Fe,X))$e<he&&0>s(Be,Fe)?(T[me]=Be,T[$e]=X,me=$e):(T[me]=Fe,T[L]=X,me=L);else if($e<he&&0>s(Be,X))T[me]=Be,T[$e]=X,me=$e;else break e}}return K}function s(T,K){var X=T.sortIndex-K.sortIndex;return X!==0?X:T.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var c=[],d=[],x=1,N=null,v=3,j=!1,b=!1,k=!1,Y=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=T)r(d),K.sortIndex=K.expirationTime,t(c,K);else break;K=n(d)}}function E(T){if(k=!1,y(T),!b)if(n(c)!==null)b=!0,O(A);else{var K=n(d);K!==null&&ge(E,K.startTime-T)}}function A(T,K){b=!1,k&&(k=!1,h($),$=-1),j=!0;var X=v;try{for(y(K),N=n(c);N!==null&&(!(N.expirationTime>K)||T&&!Se());){var me=N.callback;if(typeof me=="function"){N.callback=null,v=N.priorityLevel;var he=me(N.expirationTime<=K);K=e.unstable_now(),typeof he=="function"?N.callback=he:N===n(c)&&r(c),y(K)}else r(c);N=n(c)}if(N!==null)var Kt=!0;else{var L=n(d);L!==null&&ge(E,L.startTime-K),Kt=!1}return Kt}finally{N=null,v=X,j=!1}}var M=!1,F=null,$=-1,de=5,q=-1;function Se(){return!(e.unstable_now()-q<de)}function qe(){if(F!==null){var T=e.unstable_now();q=T;var K=!0;try{K=F(!0,T)}finally{K?Ze():(M=!1,F=null)}}else M=!1}var Ze;if(typeof p=="function")Ze=function(){p(qe)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,Me=ne.port2;ne.port1.onmessage=qe,Ze=function(){Me.postMessage(null)}}else Ze=function(){Y(qe,0)};function O(T){F=T,M||(M=!0,Ze())}function ge(T,K){$=Y(function(){T(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){b||j||(b=!0,O(A))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var X=v;v=K;try{return T()}finally{v=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,K){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var X=v;v=T;try{return K()}finally{v=X}},e.unstable_scheduleCallback=function(T,K,X){var me=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?me+X:me):X=me,T){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=X+he,T={id:x++,callback:K,priorityLevel:T,startTime:X,expirationTime:he,sortIndex:-1},X>me?(T.sortIndex=X,t(d,T),n(c)===null&&T===n(d)&&(k?(h($),$=-1):k=!0,ge(E,X-me))):(T.sortIndex=he,t(c,T),b||j||(b=!0,O(A))),T},e.unstable_shouldYield=Se,e.unstable_wrapCallback=function(T){var K=v;return function(){var X=v;v=K;try{return T.apply(this,arguments)}finally{v=X}}}})(kp);Np.exports=kp;var Yg=Np.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg=f,Tt=Yg;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jp=new Set,Nl={};function Dr(e,t){ys(e,t),ys(e+"Capture",t)}function ys(e,t){for(Nl[e]=t,e=0;e<t.length;e++)jp.add(t[e])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=Object.prototype.hasOwnProperty,Xg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bd={},Cd={};function qg(e){return Fa.call(Cd,e)?!0:Fa.call(bd,e)?!1:Xg.test(e)?Cd[e]=!0:(bd[e]=!0,!1)}function Zg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function e0(e,t,n,r){if(t===null||typeof t>"u"||Zg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pt(e,t,n,r,s,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xe[e]=new pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xe[t]=new pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xe[e]=new pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xe[e]=new pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xe[e]=new pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xe[e]=new pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xe[e]=new pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xe[e]=new pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xe[e]=new pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var zu=/[\-:]([a-z])/g;function $u(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zu,$u);Xe[t]=new pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zu,$u);Xe[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zu,$u);Xe[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xe[e]=new pt(e,1,!1,e.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xe[e]=new pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bu(e,t,n,r){var s=Xe.hasOwnProperty(t)?Xe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(e0(t,n,s,r)&&(n=null),r||s===null?qg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _n=Jg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,io=Symbol.for("react.element"),Jr=Symbol.for("react.portal"),Xr=Symbol.for("react.fragment"),Wu=Symbol.for("react.strict_mode"),Ua=Symbol.for("react.profiler"),bp=Symbol.for("react.provider"),Cp=Symbol.for("react.context"),Hu=Symbol.for("react.forward_ref"),za=Symbol.for("react.suspense"),$a=Symbol.for("react.suspense_list"),Vu=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),Ep=Symbol.for("react.offscreen"),Ed=Symbol.iterator;function Qs(e){return e===null||typeof e!="object"?null:(e=Ed&&e[Ed]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,oa;function ll(e){if(oa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);oa=t&&t[1]||""}return`
`+oa+e}var ia=!1;function aa(e,t){if(!e||ia)return"";ia=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),l=r.stack.split(`
`),o=s.length-1,u=l.length-1;1<=o&&0<=u&&s[o]!==l[u];)u--;for(;1<=o&&0<=u;o--,u--)if(s[o]!==l[u]){if(o!==1||u!==1)do if(o--,u--,0>u||s[o]!==l[u]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=u);break}}}finally{ia=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ll(e):""}function t0(e){switch(e.tag){case 5:return ll(e.type);case 16:return ll("Lazy");case 13:return ll("Suspense");case 19:return ll("SuspenseList");case 0:case 2:case 15:return e=aa(e.type,!1),e;case 11:return e=aa(e.type.render,!1),e;case 1:return e=aa(e.type,!0),e;default:return""}}function Ba(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xr:return"Fragment";case Jr:return"Portal";case Ua:return"Profiler";case Wu:return"StrictMode";case za:return"Suspense";case $a:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cp:return(e.displayName||"Context")+".Consumer";case bp:return(e._context.displayName||"Context")+".Provider";case Hu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vu:return t=e.displayName||null,t!==null?t:Ba(e.type)||"Memo";case Un:t=e._payload,e=e._init;try{return Ba(e(t))}catch{}}return null}function n0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ba(t);case 8:return t===Wu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _p(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function r0(e){var t=_p(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ao(e){e._valueTracker||(e._valueTracker=r0(e))}function Pp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_p(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wa(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _d(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=tr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tp(e,t){t=t.checked,t!=null&&Bu(e,"checked",t,!1)}function Ha(e,t){Tp(e,t);var n=tr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Va(e,t.type,n):t.hasOwnProperty("defaultValue")&&Va(e,t.type,tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Va(e,t,n){(t!=="number"||Wo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ol=Array.isArray;function as(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+tr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ka(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Td(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(ol(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tr(n)}}function Rp(e,t){var n=tr(t.value),r=tr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Rd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ga(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uo,Ip=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uo=uo||document.createElement("div"),uo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},s0=["Webkit","ms","Moz","O"];Object.keys(fl).forEach(function(e){s0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fl[t]=fl[e]})});function Ap(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||fl.hasOwnProperty(e)&&fl[e]?(""+t).trim():t+"px"}function Lp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ap(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var l0=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qa(e,t){if(t){if(l0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Ya(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ja=null;function Ku(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xa=null,us=null,cs=null;function Dd(e){if(e=Bl(e)){if(typeof Xa!="function")throw Error(R(280));var t=e.stateNode;t&&(t=ki(t),Xa(e.stateNode,e.type,t))}}function Op(e){us?cs?cs.push(e):cs=[e]:us=e}function Mp(){if(us){var e=us,t=cs;if(cs=us=null,Dd(e),t)for(e=0;e<t.length;e++)Dd(t[e])}}function Fp(e,t){return e(t)}function Up(){}var ua=!1;function zp(e,t,n){if(ua)return e(t,n);ua=!0;try{return Fp(e,t,n)}finally{ua=!1,(us!==null||cs!==null)&&(Up(),Mp())}}function jl(e,t){var n=e.stateNode;if(n===null)return null;var r=ki(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var qa=!1;if(jn)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){qa=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{qa=!1}function o0(e,t,n,r,s,l,o,u,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(x){this.onError(x)}}var pl=!1,Ho=null,Vo=!1,Za=null,i0={onError:function(e){pl=!0,Ho=e}};function a0(e,t,n,r,s,l,o,u,c){pl=!1,Ho=null,o0.apply(i0,arguments)}function u0(e,t,n,r,s,l,o,u,c){if(a0.apply(this,arguments),pl){if(pl){var d=Ho;pl=!1,Ho=null}else throw Error(R(198));Vo||(Vo=!0,Za=d)}}function Ir(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Id(e){if(Ir(e)!==e)throw Error(R(188))}function c0(e){var t=e.alternate;if(!t){if(t=Ir(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return Id(s),e;if(l===r)return Id(s),t;l=l.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=l;else{for(var o=!1,u=s.child;u;){if(u===n){o=!0,n=s,r=l;break}if(u===r){o=!0,r=s,n=l;break}u=u.sibling}if(!o){for(u=l.child;u;){if(u===n){o=!0,n=l,r=s;break}if(u===r){o=!0,r=l,n=s;break}u=u.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function Bp(e){return e=c0(e),e!==null?Wp(e):null}function Wp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wp(e);if(t!==null)return t;e=e.sibling}return null}var Hp=Tt.unstable_scheduleCallback,Ad=Tt.unstable_cancelCallback,d0=Tt.unstable_shouldYield,f0=Tt.unstable_requestPaint,Ie=Tt.unstable_now,p0=Tt.unstable_getCurrentPriorityLevel,Gu=Tt.unstable_ImmediatePriority,Vp=Tt.unstable_UserBlockingPriority,Ko=Tt.unstable_NormalPriority,m0=Tt.unstable_LowPriority,Kp=Tt.unstable_IdlePriority,vi=null,cn=null;function h0(e){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(vi,e,void 0,(e.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:x0,g0=Math.log,y0=Math.LN2;function x0(e){return e>>>=0,e===0?32:31-(g0(e)/y0|0)|0}var co=64,fo=4194304;function il(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Go(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var u=o&~s;u!==0?r=il(u):(l&=o,l!==0&&(r=il(l)))}else o=n&~s,o!==0?r=il(o):l!==0&&(r=il(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Zt(t),s=1<<n,r|=e[n],t&=~s;return r}function v0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Zt(l),u=1<<o,c=s[o];c===-1?(!(u&n)||u&r)&&(s[o]=v0(u,t)):c<=t&&(e.expiredLanes|=u),l&=~u}}function eu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gp(){var e=co;return co<<=1,!(co&4194240)&&(co=64),e}function ca(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zt(t),e[t]=n}function S0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Zt(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function Qu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Zt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var pe=0;function Qp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yp,Yu,Jp,Xp,qp,tu=!1,po=[],Vn=null,Kn=null,Gn=null,bl=new Map,Cl=new Map,$n=[],N0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ld(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":bl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(t.pointerId)}}function Js(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=Bl(t),t!==null&&Yu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function k0(e,t,n,r,s){switch(t){case"focusin":return Vn=Js(Vn,e,t,n,r,s),!0;case"dragenter":return Kn=Js(Kn,e,t,n,r,s),!0;case"mouseover":return Gn=Js(Gn,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return bl.set(l,Js(bl.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,Cl.set(l,Js(Cl.get(l)||null,e,t,n,r,s)),!0}return!1}function Zp(e){var t=vr(e.target);if(t!==null){var n=Ir(t);if(n!==null){if(t=n.tag,t===13){if(t=$p(n),t!==null){e.blockedOn=t,qp(e.priority,function(){Jp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Po(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=nu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ja=r,n.target.dispatchEvent(r),Ja=null}else return t=Bl(n),t!==null&&Yu(t),e.blockedOn=n,!1;t.shift()}return!0}function Od(e,t,n){Po(e)&&n.delete(t)}function j0(){tu=!1,Vn!==null&&Po(Vn)&&(Vn=null),Kn!==null&&Po(Kn)&&(Kn=null),Gn!==null&&Po(Gn)&&(Gn=null),bl.forEach(Od),Cl.forEach(Od)}function Xs(e,t){e.blockedOn===t&&(e.blockedOn=null,tu||(tu=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,j0)))}function El(e){function t(s){return Xs(s,e)}if(0<po.length){Xs(po[0],e);for(var n=1;n<po.length;n++){var r=po[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vn!==null&&Xs(Vn,e),Kn!==null&&Xs(Kn,e),Gn!==null&&Xs(Gn,e),bl.forEach(t),Cl.forEach(t),n=0;n<$n.length;n++)r=$n[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<$n.length&&(n=$n[0],n.blockedOn===null);)Zp(n),n.blockedOn===null&&$n.shift()}var ds=_n.ReactCurrentBatchConfig,Qo=!0;function b0(e,t,n,r){var s=pe,l=ds.transition;ds.transition=null;try{pe=1,Ju(e,t,n,r)}finally{pe=s,ds.transition=l}}function C0(e,t,n,r){var s=pe,l=ds.transition;ds.transition=null;try{pe=4,Ju(e,t,n,r)}finally{pe=s,ds.transition=l}}function Ju(e,t,n,r){if(Qo){var s=nu(e,t,n,r);if(s===null)wa(e,t,r,Yo,n),Ld(e,r);else if(k0(s,e,t,n,r))r.stopPropagation();else if(Ld(e,r),t&4&&-1<N0.indexOf(e)){for(;s!==null;){var l=Bl(s);if(l!==null&&Yp(l),l=nu(e,t,n,r),l===null&&wa(e,t,r,Yo,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else wa(e,t,r,null,n)}}var Yo=null;function nu(e,t,n,r){if(Yo=null,e=Ku(r),e=vr(e),e!==null)if(t=Ir(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yo=e,null}function em(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(p0()){case Gu:return 1;case Vp:return 4;case Ko:case m0:return 16;case Kp:return 536870912;default:return 16}default:return 16}}var Wn=null,Xu=null,To=null;function tm(){if(To)return To;var e,t=Xu,n=t.length,r,s="value"in Wn?Wn.value:Wn.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[l-r];r++);return To=s.slice(e,1<r?1-r:void 0)}function Ro(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mo(){return!0}function Md(){return!1}function Dt(e){function t(n,r,s,l,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(l):l[u]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?mo:Md,this.isPropagationStopped=Md,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),t}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qu=Dt(_s),$l=Pe({},_s,{view:0,detail:0}),E0=Dt($l),da,fa,qs,wi=Pe({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qs&&(qs&&e.type==="mousemove"?(da=e.screenX-qs.screenX,fa=e.screenY-qs.screenY):fa=da=0,qs=e),da)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),Fd=Dt(wi),_0=Pe({},wi,{dataTransfer:0}),P0=Dt(_0),T0=Pe({},$l,{relatedTarget:0}),pa=Dt(T0),R0=Pe({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),D0=Dt(R0),I0=Pe({},_s,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),A0=Dt(I0),L0=Pe({},_s,{data:0}),Ud=Dt(L0),O0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=F0[e])?!!t[e]:!1}function Zu(){return U0}var z0=Pe({},$l,{key:function(e){if(e.key){var t=O0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ro(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?M0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zu,charCode:function(e){return e.type==="keypress"?Ro(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ro(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$0=Dt(z0),B0=Pe({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zd=Dt(B0),W0=Pe({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zu}),H0=Dt(W0),V0=Pe({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),K0=Dt(V0),G0=Pe({},wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q0=Dt(G0),Y0=[9,13,27,32],ec=jn&&"CompositionEvent"in window,ml=null;jn&&"documentMode"in document&&(ml=document.documentMode);var J0=jn&&"TextEvent"in window&&!ml,nm=jn&&(!ec||ml&&8<ml&&11>=ml),$d=" ",Bd=!1;function rm(e,t){switch(e){case"keyup":return Y0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qr=!1;function X0(e,t){switch(e){case"compositionend":return sm(t);case"keypress":return t.which!==32?null:(Bd=!0,$d);case"textInput":return e=t.data,e===$d&&Bd?null:e;default:return null}}function q0(e,t){if(qr)return e==="compositionend"||!ec&&rm(e,t)?(e=tm(),To=Xu=Wn=null,qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nm&&t.locale!=="ko"?null:t.data;default:return null}}var Z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Z0[e.type]:t==="textarea"}function lm(e,t,n,r){Op(r),t=Jo(t,"onChange"),0<t.length&&(n=new qu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var hl=null,_l=null;function ey(e){gm(e,0)}function Si(e){var t=ts(e);if(Pp(t))return e}function ty(e,t){if(e==="change")return t}var om=!1;if(jn){var ma;if(jn){var ha="oninput"in document;if(!ha){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),ha=typeof Hd.oninput=="function"}ma=ha}else ma=!1;om=ma&&(!document.documentMode||9<document.documentMode)}function Vd(){hl&&(hl.detachEvent("onpropertychange",im),_l=hl=null)}function im(e){if(e.propertyName==="value"&&Si(_l)){var t=[];lm(t,_l,e,Ku(e)),zp(ey,t)}}function ny(e,t,n){e==="focusin"?(Vd(),hl=t,_l=n,hl.attachEvent("onpropertychange",im)):e==="focusout"&&Vd()}function ry(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Si(_l)}function sy(e,t){if(e==="click")return Si(t)}function ly(e,t){if(e==="input"||e==="change")return Si(t)}function oy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:oy;function Pl(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Fa.call(t,s)||!tn(e[s],t[s]))return!1}return!0}function Kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gd(e,t){var n=Kd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kd(n)}}function am(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?am(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function um(){for(var e=window,t=Wo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wo(e.document)}return t}function tc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iy(e){var t=um(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&am(n.ownerDocument.documentElement,n)){if(r!==null&&tc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=Gd(n,l);var o=Gd(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ay=jn&&"documentMode"in document&&11>=document.documentMode,Zr=null,ru=null,gl=null,su=!1;function Qd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;su||Zr==null||Zr!==Wo(r)||(r=Zr,"selectionStart"in r&&tc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gl&&Pl(gl,r)||(gl=r,r=Jo(ru,"onSelect"),0<r.length&&(t=new qu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zr)))}function ho(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var es={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionend:ho("Transition","TransitionEnd")},ga={},cm={};jn&&(cm=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function Ni(e){if(ga[e])return ga[e];if(!es[e])return e;var t=es[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cm)return ga[e]=t[n];return e}var dm=Ni("animationend"),fm=Ni("animationiteration"),pm=Ni("animationstart"),mm=Ni("transitionend"),hm=new Map,Yd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(e,t){hm.set(e,t),Dr(t,[e])}for(var ya=0;ya<Yd.length;ya++){var xa=Yd[ya],uy=xa.toLowerCase(),cy=xa[0].toUpperCase()+xa.slice(1);sr(uy,"on"+cy)}sr(dm,"onAnimationEnd");sr(fm,"onAnimationIteration");sr(pm,"onAnimationStart");sr("dblclick","onDoubleClick");sr("focusin","onFocus");sr("focusout","onBlur");sr(mm,"onTransitionEnd");ys("onMouseEnter",["mouseout","mouseover"]);ys("onMouseLeave",["mouseout","mouseover"]);ys("onPointerEnter",["pointerout","pointerover"]);ys("onPointerLeave",["pointerout","pointerover"]);Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dy=new Set("cancel close invalid load scroll toggle".split(" ").concat(al));function Jd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,u0(r,t,void 0,e),e.currentTarget=null}function gm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==l&&s.isPropagationStopped())break e;Jd(s,u,d),l=c}else for(o=0;o<r.length;o++){if(u=r[o],c=u.instance,d=u.currentTarget,u=u.listener,c!==l&&s.isPropagationStopped())break e;Jd(s,u,d),l=c}}}if(Vo)throw e=Za,Vo=!1,Za=null,e}function ve(e,t){var n=t[uu];n===void 0&&(n=t[uu]=new Set);var r=e+"__bubble";n.has(r)||(ym(t,e,2,!1),n.add(r))}function va(e,t,n){var r=0;t&&(r|=4),ym(n,e,r,t)}var go="_reactListening"+Math.random().toString(36).slice(2);function Tl(e){if(!e[go]){e[go]=!0,jp.forEach(function(n){n!=="selectionchange"&&(dy.has(n)||va(n,!1,e),va(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[go]||(t[go]=!0,va("selectionchange",!1,t))}}function ym(e,t,n,r){switch(em(t)){case 1:var s=b0;break;case 4:s=C0;break;default:s=Ju}n=s.bind(null,t,n,e),s=void 0,!qa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function wa(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;u!==null;){if(o=vr(u),o===null)return;if(c=o.tag,c===5||c===6){r=l=o;continue e}u=u.parentNode}}r=r.return}zp(function(){var d=l,x=Ku(n),N=[];e:{var v=hm.get(e);if(v!==void 0){var j=qu,b=e;switch(e){case"keypress":if(Ro(n)===0)break e;case"keydown":case"keyup":j=$0;break;case"focusin":b="focus",j=pa;break;case"focusout":b="blur",j=pa;break;case"beforeblur":case"afterblur":j=pa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=P0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=H0;break;case dm:case fm:case pm:j=D0;break;case mm:j=K0;break;case"scroll":j=E0;break;case"wheel":j=Q0;break;case"copy":case"cut":case"paste":j=A0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=zd}var k=(t&4)!==0,Y=!k&&e==="scroll",h=k?v!==null?v+"Capture":null:v;k=[];for(var p=d,y;p!==null;){y=p;var E=y.stateNode;if(y.tag===5&&E!==null&&(y=E,h!==null&&(E=jl(p,h),E!=null&&k.push(Rl(p,E,y)))),Y)break;p=p.return}0<k.length&&(v=new j(v,b,null,n,x),N.push({event:v,listeners:k}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",v&&n!==Ja&&(b=n.relatedTarget||n.fromElement)&&(vr(b)||b[bn]))break e;if((j||v)&&(v=x.window===x?x:(v=x.ownerDocument)?v.defaultView||v.parentWindow:window,j?(b=n.relatedTarget||n.toElement,j=d,b=b?vr(b):null,b!==null&&(Y=Ir(b),b!==Y||b.tag!==5&&b.tag!==6)&&(b=null)):(j=null,b=d),j!==b)){if(k=Fd,E="onMouseLeave",h="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(k=zd,E="onPointerLeave",h="onPointerEnter",p="pointer"),Y=j==null?v:ts(j),y=b==null?v:ts(b),v=new k(E,p+"leave",j,n,x),v.target=Y,v.relatedTarget=y,E=null,vr(x)===d&&(k=new k(h,p+"enter",b,n,x),k.target=y,k.relatedTarget=Y,E=k),Y=E,j&&b)t:{for(k=j,h=b,p=0,y=k;y;y=Qr(y))p++;for(y=0,E=h;E;E=Qr(E))y++;for(;0<p-y;)k=Qr(k),p--;for(;0<y-p;)h=Qr(h),y--;for(;p--;){if(k===h||h!==null&&k===h.alternate)break t;k=Qr(k),h=Qr(h)}k=null}else k=null;j!==null&&Xd(N,v,j,k,!1),b!==null&&Y!==null&&Xd(N,Y,b,k,!0)}}e:{if(v=d?ts(d):window,j=v.nodeName&&v.nodeName.toLowerCase(),j==="select"||j==="input"&&v.type==="file")var A=ty;else if(Wd(v))if(om)A=ly;else{A=ry;var M=ny}else(j=v.nodeName)&&j.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(A=sy);if(A&&(A=A(e,d))){lm(N,A,n,x);break e}M&&M(e,v,d),e==="focusout"&&(M=v._wrapperState)&&M.controlled&&v.type==="number"&&Va(v,"number",v.value)}switch(M=d?ts(d):window,e){case"focusin":(Wd(M)||M.contentEditable==="true")&&(Zr=M,ru=d,gl=null);break;case"focusout":gl=ru=Zr=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,Qd(N,n,x);break;case"selectionchange":if(ay)break;case"keydown":case"keyup":Qd(N,n,x)}var F;if(ec)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else qr?rm(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(nm&&n.locale!=="ko"&&(qr||$!=="onCompositionStart"?$==="onCompositionEnd"&&qr&&(F=tm()):(Wn=x,Xu="value"in Wn?Wn.value:Wn.textContent,qr=!0)),M=Jo(d,$),0<M.length&&($=new Ud($,e,null,n,x),N.push({event:$,listeners:M}),F?$.data=F:(F=sm(n),F!==null&&($.data=F)))),(F=J0?X0(e,n):q0(e,n))&&(d=Jo(d,"onBeforeInput"),0<d.length&&(x=new Ud("onBeforeInput","beforeinput",null,n,x),N.push({event:x,listeners:d}),x.data=F))}gm(N,t)})}function Rl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=jl(e,n),l!=null&&r.unshift(Rl(e,l,s)),l=jl(e,t),l!=null&&r.push(Rl(e,l,s))),e=e.return}return r}function Qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xd(e,t,n,r,s){for(var l=t._reactName,o=[];n!==null&&n!==r;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&d!==null&&(u=d,s?(c=jl(n,l),c!=null&&o.unshift(Rl(n,c,u))):s||(c=jl(n,l),c!=null&&o.push(Rl(n,c,u)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var fy=/\r\n?/g,py=/\u0000|\uFFFD/g;function qd(e){return(typeof e=="string"?e:""+e).replace(fy,`
`).replace(py,"")}function yo(e,t,n){if(t=qd(t),qd(e)!==t&&n)throw Error(R(425))}function Xo(){}var lu=null,ou=null;function iu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var au=typeof setTimeout=="function"?setTimeout:void 0,my=typeof clearTimeout=="function"?clearTimeout:void 0,Zd=typeof Promise=="function"?Promise:void 0,hy=typeof queueMicrotask=="function"?queueMicrotask:typeof Zd<"u"?function(e){return Zd.resolve(null).then(e).catch(gy)}:au;function gy(e){setTimeout(function(){throw e})}function Sa(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),El(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);El(t)}function Qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ef(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),un="__reactFiber$"+Ps,Dl="__reactProps$"+Ps,bn="__reactContainer$"+Ps,uu="__reactEvents$"+Ps,yy="__reactListeners$"+Ps,xy="__reactHandles$"+Ps;function vr(e){var t=e[un];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bn]||n[un]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ef(e);e!==null;){if(n=e[un])return n;e=ef(e)}return t}e=n,n=e.parentNode}return null}function Bl(e){return e=e[un]||e[bn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ts(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function ki(e){return e[Dl]||null}var cu=[],ns=-1;function lr(e){return{current:e}}function we(e){0>ns||(e.current=cu[ns],cu[ns]=null,ns--)}function xe(e,t){ns++,cu[ns]=e.current,e.current=t}var nr={},it=lr(nr),vt=lr(!1),br=nr;function xs(e,t){var n=e.type.contextTypes;if(!n)return nr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function wt(e){return e=e.childContextTypes,e!=null}function qo(){we(vt),we(it)}function tf(e,t,n){if(it.current!==nr)throw Error(R(168));xe(it,t),xe(vt,n)}function xm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(R(108,n0(e)||"Unknown",s));return Pe({},n,r)}function Zo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nr,br=it.current,xe(it,e),xe(vt,vt.current),!0}function nf(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=xm(e,t,br),r.__reactInternalMemoizedMergedChildContext=e,we(vt),we(it),xe(it,e)):we(vt),xe(vt,n)}var vn=null,ji=!1,Na=!1;function vm(e){vn===null?vn=[e]:vn.push(e)}function vy(e){ji=!0,vm(e)}function or(){if(!Na&&vn!==null){Na=!0;var e=0,t=pe;try{var n=vn;for(pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vn=null,ji=!1}catch(s){throw vn!==null&&(vn=vn.slice(e+1)),Hp(Gu,or),s}finally{pe=t,Na=!1}}return null}var rs=[],ss=0,ei=null,ti=0,zt=[],$t=0,Cr=null,wn=1,Sn="";function gr(e,t){rs[ss++]=ti,rs[ss++]=ei,ei=e,ti=t}function wm(e,t,n){zt[$t++]=wn,zt[$t++]=Sn,zt[$t++]=Cr,Cr=e;var r=wn;e=Sn;var s=32-Zt(r)-1;r&=~(1<<s),n+=1;var l=32-Zt(t)+s;if(30<l){var o=s-s%5;l=(r&(1<<o)-1).toString(32),r>>=o,s-=o,wn=1<<32-Zt(t)+s|n<<s|r,Sn=l+e}else wn=1<<l|n<<s|r,Sn=e}function nc(e){e.return!==null&&(gr(e,1),wm(e,1,0))}function rc(e){for(;e===ei;)ei=rs[--ss],rs[ss]=null,ti=rs[--ss],rs[ss]=null;for(;e===Cr;)Cr=zt[--$t],zt[$t]=null,Sn=zt[--$t],zt[$t]=null,wn=zt[--$t],zt[$t]=null}var Pt=null,_t=null,ke=!1,qt=null;function Sm(e,t){var n=Bt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,_t=Qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,_t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Cr!==null?{id:wn,overflow:Sn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Bt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pt=e,_t=null,!0):!1;default:return!1}}function du(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fu(e){if(ke){var t=_t;if(t){var n=t;if(!rf(e,t)){if(du(e))throw Error(R(418));t=Qn(n.nextSibling);var r=Pt;t&&rf(e,t)?Sm(r,n):(e.flags=e.flags&-4097|2,ke=!1,Pt=e)}}else{if(du(e))throw Error(R(418));e.flags=e.flags&-4097|2,ke=!1,Pt=e}}}function sf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function xo(e){if(e!==Pt)return!1;if(!ke)return sf(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!iu(e.type,e.memoizedProps)),t&&(t=_t)){if(du(e))throw Nm(),Error(R(418));for(;t;)Sm(e,t),t=Qn(t.nextSibling)}if(sf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_t=Qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_t=null}}else _t=Pt?Qn(e.stateNode.nextSibling):null;return!0}function Nm(){for(var e=_t;e;)e=Qn(e.nextSibling)}function vs(){_t=Pt=null,ke=!1}function sc(e){qt===null?qt=[e]:qt.push(e)}var wy=_n.ReactCurrentBatchConfig;function Zs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var u=s.refs;o===null?delete u[l]:u[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lf(e){var t=e._init;return t(e._payload)}function km(e){function t(h,p){if(e){var y=h.deletions;y===null?(h.deletions=[p],h.flags|=16):y.push(p)}}function n(h,p){if(!e)return null;for(;p!==null;)t(h,p),p=p.sibling;return null}function r(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function s(h,p){return h=qn(h,p),h.index=0,h.sibling=null,h}function l(h,p,y){return h.index=y,e?(y=h.alternate,y!==null?(y=y.index,y<p?(h.flags|=2,p):y):(h.flags|=2,p)):(h.flags|=1048576,p)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function u(h,p,y,E){return p===null||p.tag!==6?(p=Pa(y,h.mode,E),p.return=h,p):(p=s(p,y),p.return=h,p)}function c(h,p,y,E){var A=y.type;return A===Xr?x(h,p,y.props.children,E,y.key):p!==null&&(p.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Un&&lf(A)===p.type)?(E=s(p,y.props),E.ref=Zs(h,p,y),E.return=h,E):(E=Fo(y.type,y.key,y.props,null,h.mode,E),E.ref=Zs(h,p,y),E.return=h,E)}function d(h,p,y,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Ta(y,h.mode,E),p.return=h,p):(p=s(p,y.children||[]),p.return=h,p)}function x(h,p,y,E,A){return p===null||p.tag!==7?(p=jr(y,h.mode,E,A),p.return=h,p):(p=s(p,y),p.return=h,p)}function N(h,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Pa(""+p,h.mode,y),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case io:return y=Fo(p.type,p.key,p.props,null,h.mode,y),y.ref=Zs(h,null,p),y.return=h,y;case Jr:return p=Ta(p,h.mode,y),p.return=h,p;case Un:var E=p._init;return N(h,E(p._payload),y)}if(ol(p)||Qs(p))return p=jr(p,h.mode,y,null),p.return=h,p;vo(h,p)}return null}function v(h,p,y,E){var A=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return A!==null?null:u(h,p,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case io:return y.key===A?c(h,p,y,E):null;case Jr:return y.key===A?d(h,p,y,E):null;case Un:return A=y._init,v(h,p,A(y._payload),E)}if(ol(y)||Qs(y))return A!==null?null:x(h,p,y,E,null);vo(h,y)}return null}function j(h,p,y,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return h=h.get(y)||null,u(p,h,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case io:return h=h.get(E.key===null?y:E.key)||null,c(p,h,E,A);case Jr:return h=h.get(E.key===null?y:E.key)||null,d(p,h,E,A);case Un:var M=E._init;return j(h,p,y,M(E._payload),A)}if(ol(E)||Qs(E))return h=h.get(y)||null,x(p,h,E,A,null);vo(p,E)}return null}function b(h,p,y,E){for(var A=null,M=null,F=p,$=p=0,de=null;F!==null&&$<y.length;$++){F.index>$?(de=F,F=null):de=F.sibling;var q=v(h,F,y[$],E);if(q===null){F===null&&(F=de);break}e&&F&&q.alternate===null&&t(h,F),p=l(q,p,$),M===null?A=q:M.sibling=q,M=q,F=de}if($===y.length)return n(h,F),ke&&gr(h,$),A;if(F===null){for(;$<y.length;$++)F=N(h,y[$],E),F!==null&&(p=l(F,p,$),M===null?A=F:M.sibling=F,M=F);return ke&&gr(h,$),A}for(F=r(h,F);$<y.length;$++)de=j(F,h,$,y[$],E),de!==null&&(e&&de.alternate!==null&&F.delete(de.key===null?$:de.key),p=l(de,p,$),M===null?A=de:M.sibling=de,M=de);return e&&F.forEach(function(Se){return t(h,Se)}),ke&&gr(h,$),A}function k(h,p,y,E){var A=Qs(y);if(typeof A!="function")throw Error(R(150));if(y=A.call(y),y==null)throw Error(R(151));for(var M=A=null,F=p,$=p=0,de=null,q=y.next();F!==null&&!q.done;$++,q=y.next()){F.index>$?(de=F,F=null):de=F.sibling;var Se=v(h,F,q.value,E);if(Se===null){F===null&&(F=de);break}e&&F&&Se.alternate===null&&t(h,F),p=l(Se,p,$),M===null?A=Se:M.sibling=Se,M=Se,F=de}if(q.done)return n(h,F),ke&&gr(h,$),A;if(F===null){for(;!q.done;$++,q=y.next())q=N(h,q.value,E),q!==null&&(p=l(q,p,$),M===null?A=q:M.sibling=q,M=q);return ke&&gr(h,$),A}for(F=r(h,F);!q.done;$++,q=y.next())q=j(F,h,$,q.value,E),q!==null&&(e&&q.alternate!==null&&F.delete(q.key===null?$:q.key),p=l(q,p,$),M===null?A=q:M.sibling=q,M=q);return e&&F.forEach(function(qe){return t(h,qe)}),ke&&gr(h,$),A}function Y(h,p,y,E){if(typeof y=="object"&&y!==null&&y.type===Xr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case io:e:{for(var A=y.key,M=p;M!==null;){if(M.key===A){if(A=y.type,A===Xr){if(M.tag===7){n(h,M.sibling),p=s(M,y.props.children),p.return=h,h=p;break e}}else if(M.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Un&&lf(A)===M.type){n(h,M.sibling),p=s(M,y.props),p.ref=Zs(h,M,y),p.return=h,h=p;break e}n(h,M);break}else t(h,M);M=M.sibling}y.type===Xr?(p=jr(y.props.children,h.mode,E,y.key),p.return=h,h=p):(E=Fo(y.type,y.key,y.props,null,h.mode,E),E.ref=Zs(h,p,y),E.return=h,h=E)}return o(h);case Jr:e:{for(M=y.key;p!==null;){if(p.key===M)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(h,p.sibling),p=s(p,y.children||[]),p.return=h,h=p;break e}else{n(h,p);break}else t(h,p);p=p.sibling}p=Ta(y,h.mode,E),p.return=h,h=p}return o(h);case Un:return M=y._init,Y(h,p,M(y._payload),E)}if(ol(y))return b(h,p,y,E);if(Qs(y))return k(h,p,y,E);vo(h,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(h,p.sibling),p=s(p,y),p.return=h,h=p):(n(h,p),p=Pa(y,h.mode,E),p.return=h,h=p),o(h)):n(h,p)}return Y}var ws=km(!0),jm=km(!1),ni=lr(null),ri=null,ls=null,lc=null;function oc(){lc=ls=ri=null}function ic(e){var t=ni.current;we(ni),e._currentValue=t}function pu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fs(e,t){ri=e,lc=ls=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xt=!0),e.firstContext=null)}function Ht(e){var t=e._currentValue;if(lc!==e)if(e={context:e,memoizedValue:t,next:null},ls===null){if(ri===null)throw Error(R(308));ls=e,ri.dependencies={lanes:0,firstContext:e}}else ls=ls.next=e;return t}var wr=null;function ac(e){wr===null?wr=[e]:wr.push(e)}function bm(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ac(t)):(n.next=s.next,s.next=n),t.interleaved=n,Cn(e,r)}function Cn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var zn=!1;function uc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Cn(e,n)}return s=r.interleaved,s===null?(t.next=t,ac(r)):(t.next=s.next,s.next=t),r.interleaved=t,Cn(e,n)}function Do(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qu(e,n)}}function of(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function si(e,t,n,r){var s=e.updateQueue;zn=!1;var l=s.firstBaseUpdate,o=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var c=u,d=c.next;c.next=null,o===null?l=d:o.next=d,o=c;var x=e.alternate;x!==null&&(x=x.updateQueue,u=x.lastBaseUpdate,u!==o&&(u===null?x.firstBaseUpdate=d:u.next=d,x.lastBaseUpdate=c))}if(l!==null){var N=s.baseState;o=0,x=d=c=null,u=l;do{var v=u.lane,j=u.eventTime;if((r&v)===v){x!==null&&(x=x.next={eventTime:j,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var b=e,k=u;switch(v=t,j=n,k.tag){case 1:if(b=k.payload,typeof b=="function"){N=b.call(j,N,v);break e}N=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=k.payload,v=typeof b=="function"?b.call(j,N,v):b,v==null)break e;N=Pe({},N,v);break e;case 2:zn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,v=s.effects,v===null?s.effects=[u]:v.push(u))}else j={eventTime:j,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},x===null?(d=x=j,c=N):x=x.next=j,o|=v;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;v=u,u=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(x===null&&(c=N),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=x,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);_r|=o,e.lanes=o,e.memoizedState=N}}function af(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var Wl={},dn=lr(Wl),Il=lr(Wl),Al=lr(Wl);function Sr(e){if(e===Wl)throw Error(R(174));return e}function cc(e,t){switch(xe(Al,t),xe(Il,e),xe(dn,Wl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ga(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ga(t,e)}we(dn),xe(dn,t)}function Ss(){we(dn),we(Il),we(Al)}function Em(e){Sr(Al.current);var t=Sr(dn.current),n=Ga(t,e.type);t!==n&&(xe(Il,e),xe(dn,n))}function dc(e){Il.current===e&&(we(dn),we(Il))}var Ee=lr(0);function li(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ka=[];function fc(){for(var e=0;e<ka.length;e++)ka[e]._workInProgressVersionPrimary=null;ka.length=0}var Io=_n.ReactCurrentDispatcher,ja=_n.ReactCurrentBatchConfig,Er=0,_e=null,Ue=null,Ve=null,oi=!1,yl=!1,Ll=0,Sy=0;function st(){throw Error(R(321))}function pc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function mc(e,t,n,r,s,l){if(Er=l,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Io.current=e===null||e.memoizedState===null?by:Cy,e=n(r,s),yl){l=0;do{if(yl=!1,Ll=0,25<=l)throw Error(R(301));l+=1,Ve=Ue=null,t.updateQueue=null,Io.current=Ey,e=n(r,s)}while(yl)}if(Io.current=ii,t=Ue!==null&&Ue.next!==null,Er=0,Ve=Ue=_e=null,oi=!1,t)throw Error(R(300));return e}function hc(){var e=Ll!==0;return Ll=0,e}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?_e.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Vt(){if(Ue===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Ve===null?_e.memoizedState:Ve.next;if(t!==null)Ve=t,Ue=e;else{if(e===null)throw Error(R(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ve===null?_e.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Ol(e,t){return typeof t=="function"?t(e):t}function ba(e){var t=Vt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=Ue,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var o=s.next;s.next=l.next,l.next=o}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var u=o=null,c=null,d=l;do{var x=d.lane;if((Er&x)===x)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var N={lane:x,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=N,o=r):c=c.next=N,_e.lanes|=x,_r|=x}d=d.next}while(d!==null&&d!==l);c===null?o=r:c.next=u,tn(r,t.memoizedState)||(xt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,_e.lanes|=l,_r|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ca(e){var t=Vt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do l=e(l,o.action),o=o.next;while(o!==s);tn(l,t.memoizedState)||(xt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function _m(){}function Pm(e,t){var n=_e,r=Vt(),s=t(),l=!tn(r.memoizedState,s);if(l&&(r.memoizedState=s,xt=!0),r=r.queue,gc(Dm.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,Ml(9,Rm.bind(null,n,r,s,t),void 0,null),Ke===null)throw Error(R(349));Er&30||Tm(n,t,s)}return s}function Tm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Rm(e,t,n,r){t.value=n,t.getSnapshot=r,Im(t)&&Am(e)}function Dm(e,t,n){return n(function(){Im(t)&&Am(e)})}function Im(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tn(e,n)}catch{return!0}}function Am(e){var t=Cn(e,1);t!==null&&en(t,e,1,-1)}function uf(e){var t=on();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:e},t.queue=e,e=e.dispatch=jy.bind(null,_e,e),[t.memoizedState,e]}function Ml(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Lm(){return Vt().memoizedState}function Ao(e,t,n,r){var s=on();_e.flags|=e,s.memoizedState=Ml(1|t,n,void 0,r===void 0?null:r)}function bi(e,t,n,r){var s=Vt();r=r===void 0?null:r;var l=void 0;if(Ue!==null){var o=Ue.memoizedState;if(l=o.destroy,r!==null&&pc(r,o.deps)){s.memoizedState=Ml(t,n,l,r);return}}_e.flags|=e,s.memoizedState=Ml(1|t,n,l,r)}function cf(e,t){return Ao(8390656,8,e,t)}function gc(e,t){return bi(2048,8,e,t)}function Om(e,t){return bi(4,2,e,t)}function Mm(e,t){return bi(4,4,e,t)}function Fm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Um(e,t,n){return n=n!=null?n.concat([e]):null,bi(4,4,Fm.bind(null,t,e),n)}function yc(){}function zm(e,t){var n=Vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $m(e,t){var n=Vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Bm(e,t,n){return Er&21?(tn(n,t)||(n=Gp(),_e.lanes|=n,_r|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=n)}function Ny(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var r=ja.transition;ja.transition={};try{e(!1),t()}finally{pe=n,ja.transition=r}}function Wm(){return Vt().memoizedState}function ky(e,t,n){var r=Xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hm(e))Vm(t,n);else if(n=bm(e,t,n,r),n!==null){var s=dt();en(n,e,r,s),Km(n,t,r)}}function jy(e,t,n){var r=Xn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hm(e))Vm(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,u=l(o,n);if(s.hasEagerState=!0,s.eagerState=u,tn(u,o)){var c=t.interleaved;c===null?(s.next=s,ac(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=bm(e,t,s,r),n!==null&&(s=dt(),en(n,e,r,s),Km(n,t,r))}}function Hm(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function Vm(e,t){yl=oi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Km(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qu(e,n)}}var ii={readContext:Ht,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},by={readContext:Ht,useCallback:function(e,t){return on().memoizedState=[e,t===void 0?null:t],e},useContext:Ht,useEffect:cf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ao(4194308,4,Fm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ao(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ao(4,2,e,t)},useMemo:function(e,t){var n=on();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=on();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ky.bind(null,_e,e),[r.memoizedState,e]},useRef:function(e){var t=on();return e={current:e},t.memoizedState=e},useState:uf,useDebugValue:yc,useDeferredValue:function(e){return on().memoizedState=e},useTransition:function(){var e=uf(!1),t=e[0];return e=Ny.bind(null,e[1]),on().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_e,s=on();if(ke){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),Ke===null)throw Error(R(349));Er&30||Tm(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,cf(Dm.bind(null,r,l,e),[e]),r.flags|=2048,Ml(9,Rm.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=on(),t=Ke.identifierPrefix;if(ke){var n=Sn,r=wn;n=(r&~(1<<32-Zt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ll++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Sy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cy={readContext:Ht,useCallback:zm,useContext:Ht,useEffect:gc,useImperativeHandle:Um,useInsertionEffect:Om,useLayoutEffect:Mm,useMemo:$m,useReducer:ba,useRef:Lm,useState:function(){return ba(Ol)},useDebugValue:yc,useDeferredValue:function(e){var t=Vt();return Bm(t,Ue.memoizedState,e)},useTransition:function(){var e=ba(Ol)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:_m,useSyncExternalStore:Pm,useId:Wm,unstable_isNewReconciler:!1},Ey={readContext:Ht,useCallback:zm,useContext:Ht,useEffect:gc,useImperativeHandle:Um,useInsertionEffect:Om,useLayoutEffect:Mm,useMemo:$m,useReducer:Ca,useRef:Lm,useState:function(){return Ca(Ol)},useDebugValue:yc,useDeferredValue:function(e){var t=Vt();return Ue===null?t.memoizedState=e:Bm(t,Ue.memoizedState,e)},useTransition:function(){var e=Ca(Ol)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:_m,useSyncExternalStore:Pm,useId:Wm,unstable_isNewReconciler:!1};function Jt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function mu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ci={isMounted:function(e){return(e=e._reactInternals)?Ir(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dt(),s=Xn(e),l=Nn(r,s);l.payload=t,n!=null&&(l.callback=n),t=Yn(e,l,s),t!==null&&(en(t,e,s,r),Do(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dt(),s=Xn(e),l=Nn(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Yn(e,l,s),t!==null&&(en(t,e,s,r),Do(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),r=Xn(e),s=Nn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Yn(e,s,r),t!==null&&(en(t,e,r,n),Do(t,e,r))}};function df(e,t,n,r,s,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!Pl(n,r)||!Pl(s,l):!0}function Gm(e,t,n){var r=!1,s=nr,l=t.contextType;return typeof l=="object"&&l!==null?l=Ht(l):(s=wt(t)?br:it.current,r=t.contextTypes,l=(r=r!=null)?xs(e,s):nr),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ci,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function ff(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ci.enqueueReplaceState(t,t.state,null)}function hu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},uc(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Ht(l):(l=wt(t)?br:it.current,s.context=xs(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(mu(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ci.enqueueReplaceState(s,s.state,null),si(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ns(e,t){try{var n="",r=t;do n+=t0(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function Ea(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _y=typeof WeakMap=="function"?WeakMap:Map;function Qm(e,t,n){n=Nn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ui||(ui=!0,Cu=r),gu(e,t)},n}function Ym(e,t,n){n=Nn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){gu(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){gu(e,t),typeof r!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function pf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _y;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=By.bind(null,e,t,n),t.then(e,e))}function mf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hf(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Nn(-1,1),t.tag=2,Yn(n,t,1))),n.lanes|=1),e)}var Py=_n.ReactCurrentOwner,xt=!1;function ct(e,t,n,r){t.child=e===null?jm(t,null,n,r):ws(t,e.child,n,r)}function gf(e,t,n,r,s){n=n.render;var l=t.ref;return fs(t,s),r=mc(e,t,n,r,l,s),n=hc(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,En(e,t,s)):(ke&&n&&nc(t),t.flags|=1,ct(e,t,r,s),t.child)}function yf(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!bc(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Jm(e,t,l,r,s)):(e=Fo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:Pl,n(o,r)&&e.ref===t.ref)return En(e,t,s)}return t.flags|=1,e=qn(l,r),e.ref=t.ref,e.return=t,t.child=e}function Jm(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(Pl(l,r)&&e.ref===t.ref)if(xt=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(xt=!0);else return t.lanes=e.lanes,En(e,t,s)}return yu(e,t,n,r,s)}function Xm(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(is,Et),Et|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(is,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,xe(is,Et),Et|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,xe(is,Et),Et|=r;return ct(e,t,s,n),t.child}function qm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yu(e,t,n,r,s){var l=wt(n)?br:it.current;return l=xs(t,l),fs(t,s),n=mc(e,t,n,r,l,s),r=hc(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,En(e,t,s)):(ke&&r&&nc(t),t.flags|=1,ct(e,t,n,s),t.child)}function xf(e,t,n,r,s){if(wt(n)){var l=!0;Zo(t)}else l=!1;if(fs(t,s),t.stateNode===null)Lo(e,t),Gm(t,n,r),hu(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,u=t.memoizedProps;o.props=u;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ht(d):(d=wt(n)?br:it.current,d=xs(t,d));var x=n.getDerivedStateFromProps,N=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function";N||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||c!==d)&&ff(t,o,r,d),zn=!1;var v=t.memoizedState;o.state=v,si(t,r,o,s),c=t.memoizedState,u!==r||v!==c||vt.current||zn?(typeof x=="function"&&(mu(t,n,x,r),c=t.memoizedState),(u=zn||df(t,n,u,r,v,c,d))?(N||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=u):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Cm(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:Jt(t.type,u),o.props=d,N=t.pendingProps,v=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ht(c):(c=wt(n)?br:it.current,c=xs(t,c));var j=n.getDerivedStateFromProps;(x=typeof j=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==N||v!==c)&&ff(t,o,r,c),zn=!1,v=t.memoizedState,o.state=v,si(t,r,o,s);var b=t.memoizedState;u!==N||v!==b||vt.current||zn?(typeof j=="function"&&(mu(t,n,j,r),b=t.memoizedState),(d=zn||df(t,n,d,r,v,b,c)||!1)?(x||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return xu(e,t,n,r,l,s)}function xu(e,t,n,r,s,l){qm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&nf(t,n,!1),En(e,t,l);r=t.stateNode,Py.current=t;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ws(t,e.child,null,l),t.child=ws(t,null,u,l)):ct(e,t,u,l),t.memoizedState=r.state,s&&nf(t,n,!0),t.child}function Zm(e){var t=e.stateNode;t.pendingContext?tf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tf(e,t.context,!1),cc(e,t.containerInfo)}function vf(e,t,n,r,s){return vs(),sc(s),t.flags|=256,ct(e,t,n,r),t.child}var vu={dehydrated:null,treeContext:null,retryLane:0};function wu(e){return{baseLanes:e,cachePool:null,transitions:null}}function eh(e,t,n){var r=t.pendingProps,s=Ee.current,l=!1,o=(t.flags&128)!==0,u;if((u=o)||(u=e!==null&&e.memoizedState===null?!1:(s&2)!==0),u?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),xe(Ee,s&1),e===null)return fu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Pi(o,r,0,null),e=jr(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=wu(n),t.memoizedState=vu,e):xc(t,o));if(s=e.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return Ty(e,t,o,r,u,s,n);if(l){l=r.fallback,o=t.mode,s=e.child,u=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=qn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?l=qn(u,l):(l=jr(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?wu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=vu,r}return l=e.child,e=l.sibling,r=qn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xc(e,t){return t=Pi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wo(e,t,n,r){return r!==null&&sc(r),ws(t,e.child,null,n),e=xc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ty(e,t,n,r,s,l,o){if(n)return t.flags&256?(t.flags&=-257,r=Ea(Error(R(422))),wo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=Pi({mode:"visible",children:r.children},s,0,null),l=jr(l,s,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&ws(t,e.child,null,o),t.child.memoizedState=wu(o),t.memoizedState=vu,l);if(!(t.mode&1))return wo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,l=Error(R(419)),r=Ea(l,r,void 0),wo(e,t,o,r)}if(u=(o&e.childLanes)!==0,xt||u){if(r=Ke,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,Cn(e,s),en(r,e,s,-1))}return jc(),r=Ea(Error(R(421))),wo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Wy.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,_t=Qn(s.nextSibling),Pt=t,ke=!0,qt=null,e!==null&&(zt[$t++]=wn,zt[$t++]=Sn,zt[$t++]=Cr,wn=e.id,Sn=e.overflow,Cr=t),t=xc(t,r.children),t.flags|=4096,t)}function wf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),pu(e.return,t,n)}function _a(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function th(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(ct(e,t,r.children,n),r=Ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wf(e,n,t);else if(e.tag===19)wf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe(Ee,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&li(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),_a(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&li(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}_a(t,!0,n,null,l);break;case"together":_a(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function En(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_r|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ry(e,t,n){switch(t.tag){case 3:Zm(t),vs();break;case 5:Em(t);break;case 1:wt(t.type)&&Zo(t);break;case 4:cc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;xe(ni,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xe(Ee,Ee.current&1),t.flags|=128,null):n&t.child.childLanes?eh(e,t,n):(xe(Ee,Ee.current&1),e=En(e,t,n),e!==null?e.sibling:null);xe(Ee,Ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return th(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xe(Ee,Ee.current),r)break;return null;case 22:case 23:return t.lanes=0,Xm(e,t,n)}return En(e,t,n)}var nh,Su,rh,sh;nh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Su=function(){};rh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Sr(dn.current);var l=null;switch(n){case"input":s=Wa(e,s),r=Wa(e,r),l=[];break;case"select":s=Pe({},s,{value:void 0}),r=Pe({},r,{value:void 0}),l=[];break;case"textarea":s=Ka(e,s),r=Ka(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xo)}Qa(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var u=s[d];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Nl.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(u=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(l||(l=[]),l.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Nl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ve("scroll",e),l||u===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};sh=function(e,t,n,r){n!==r&&(t.flags|=4)};function el(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Dy(e,t,n){var r=t.pendingProps;switch(rc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return wt(t.type)&&qo(),lt(t),null;case 3:return r=t.stateNode,Ss(),we(vt),we(it),fc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qt!==null&&(Pu(qt),qt=null))),Su(e,t),lt(t),null;case 5:dc(t);var s=Sr(Al.current);if(n=t.type,e!==null&&t.stateNode!=null)rh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return lt(t),null}if(e=Sr(dn.current),xo(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[un]=t,r[Dl]=l,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<al.length;s++)ve(al[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":_d(r,l),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},ve("invalid",r);break;case"textarea":Td(r,l),ve("invalid",r)}Qa(n,l),s=null;for(var o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="children"?typeof u=="string"?r.textContent!==u&&(l.suppressHydrationWarning!==!0&&yo(r.textContent,u,e),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(l.suppressHydrationWarning!==!0&&yo(r.textContent,u,e),s=["children",""+u]):Nl.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":ao(r),Pd(r,l,!0);break;case"textarea":ao(r),Rd(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Xo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[un]=t,e[Dl]=r,nh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ya(n,r),n){case"dialog":ve("cancel",e),ve("close",e),s=r;break;case"iframe":case"object":case"embed":ve("load",e),s=r;break;case"video":case"audio":for(s=0;s<al.length;s++)ve(al[s],e);s=r;break;case"source":ve("error",e),s=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),s=r;break;case"details":ve("toggle",e),s=r;break;case"input":_d(e,r),s=Wa(e,r),ve("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Pe({},r,{value:void 0}),ve("invalid",e);break;case"textarea":Td(e,r),s=Ka(e,r),ve("invalid",e);break;default:s=r}Qa(n,s),u=s;for(l in u)if(u.hasOwnProperty(l)){var c=u[l];l==="style"?Lp(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ip(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&kl(e,c):typeof c=="number"&&kl(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Nl.hasOwnProperty(l)?c!=null&&l==="onScroll"&&ve("scroll",e):c!=null&&Bu(e,l,c,o))}switch(n){case"input":ao(e),Pd(e,r,!1);break;case"textarea":ao(e),Rd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+tr(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?as(e,!!r.multiple,l,!1):r.defaultValue!=null&&as(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Xo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)sh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=Sr(Al.current),Sr(dn.current),xo(t)){if(r=t.stateNode,n=t.memoizedProps,r[un]=t,(l=r.nodeValue!==n)&&(e=Pt,e!==null))switch(e.tag){case 3:yo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yo(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[un]=t,t.stateNode=r}return lt(t),null;case 13:if(we(Ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&_t!==null&&t.mode&1&&!(t.flags&128))Nm(),vs(),t.flags|=98560,l=!1;else if(l=xo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(R(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(R(317));l[un]=t}else vs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),l=!1}else qt!==null&&(Pu(qt),qt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?ze===0&&(ze=3):jc())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return Ss(),Su(e,t),e===null&&Tl(t.stateNode.containerInfo),lt(t),null;case 10:return ic(t.type._context),lt(t),null;case 17:return wt(t.type)&&qo(),lt(t),null;case 19:if(we(Ee),l=t.memoizedState,l===null)return lt(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)el(l,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=li(e),o!==null){for(t.flags|=128,el(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe(Ee,Ee.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ie()>ks&&(t.flags|=128,r=!0,el(l,!1),t.lanes=4194304)}else{if(!r)if(e=li(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),el(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!ke)return lt(t),null}else 2*Ie()-l.renderingStartTime>ks&&n!==1073741824&&(t.flags|=128,r=!0,el(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ie(),t.sibling=null,n=Ee.current,xe(Ee,r?n&1|2:n&1),t):(lt(t),null);case 22:case 23:return kc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Et&1073741824&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function Iy(e,t){switch(rc(t),t.tag){case 1:return wt(t.type)&&qo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ss(),we(vt),we(it),fc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dc(t),null;case 13:if(we(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));vs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Ee),null;case 4:return Ss(),null;case 10:return ic(t.type._context),null;case 22:case 23:return kc(),null;case 24:return null;default:return null}}var So=!1,ot=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,B=null;function os(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function Nu(e,t,n){try{n()}catch(r){Re(e,t,r)}}var Sf=!1;function Ly(e,t){if(lu=Qo,e=um(),tc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,u=-1,c=-1,d=0,x=0,N=e,v=null;t:for(;;){for(var j;N!==n||s!==0&&N.nodeType!==3||(u=o+s),N!==l||r!==0&&N.nodeType!==3||(c=o+r),N.nodeType===3&&(o+=N.nodeValue.length),(j=N.firstChild)!==null;)v=N,N=j;for(;;){if(N===e)break t;if(v===n&&++d===s&&(u=o),v===l&&++x===r&&(c=o),(j=N.nextSibling)!==null)break;N=v,v=N.parentNode}N=j}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ou={focusedElem:e,selectionRange:n},Qo=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var k=b.memoizedProps,Y=b.memoizedState,h=t.stateNode,p=h.getSnapshotBeforeUpdate(t.elementType===t.type?k:Jt(t.type,k),Y);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(E){Re(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return b=Sf,Sf=!1,b}function xl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&Nu(t,n,l)}s=s.next}while(s!==r)}}function Ei(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ku(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function lh(e){var t=e.alternate;t!==null&&(e.alternate=null,lh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[un],delete t[Dl],delete t[uu],delete t[yy],delete t[xy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oh(e){return e.tag===5||e.tag===3||e.tag===4}function Nf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ju(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xo));else if(r!==4&&(e=e.child,e!==null))for(ju(e,t,n),e=e.sibling;e!==null;)ju(e,t,n),e=e.sibling}function bu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(bu(e,t,n),e=e.sibling;e!==null;)bu(e,t,n),e=e.sibling}var Ye=null,Xt=!1;function Fn(e,t,n){for(n=n.child;n!==null;)ih(e,t,n),n=n.sibling}function ih(e,t,n){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(vi,n)}catch{}switch(n.tag){case 5:ot||os(n,t);case 6:var r=Ye,s=Xt;Ye=null,Fn(e,t,n),Ye=r,Xt=s,Ye!==null&&(Xt?(e=Ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(Xt?(e=Ye,n=n.stateNode,e.nodeType===8?Sa(e.parentNode,n):e.nodeType===1&&Sa(e,n),El(e)):Sa(Ye,n.stateNode));break;case 4:r=Ye,s=Xt,Ye=n.stateNode.containerInfo,Xt=!0,Fn(e,t,n),Ye=r,Xt=s;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&Nu(n,t,o),s=s.next}while(s!==r)}Fn(e,t,n);break;case 1:if(!ot&&(os(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Re(n,t,u)}Fn(e,t,n);break;case 21:Fn(e,t,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,Fn(e,t,n),ot=r):Fn(e,t,n);break;default:Fn(e,t,n)}}function kf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ay),t.forEach(function(r){var s=Hy.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,o=t,u=o;e:for(;u!==null;){switch(u.tag){case 5:Ye=u.stateNode,Xt=!1;break e;case 3:Ye=u.stateNode.containerInfo,Xt=!0;break e;case 4:Ye=u.stateNode.containerInfo,Xt=!0;break e}u=u.return}if(Ye===null)throw Error(R(160));ih(l,o,s),Ye=null,Xt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Re(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ah(t,e),t=t.sibling}function ah(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yt(t,e),ln(e),r&4){try{xl(3,e,e.return),Ei(3,e)}catch(k){Re(e,e.return,k)}try{xl(5,e,e.return)}catch(k){Re(e,e.return,k)}}break;case 1:Yt(t,e),ln(e),r&512&&n!==null&&os(n,n.return);break;case 5:if(Yt(t,e),ln(e),r&512&&n!==null&&os(n,n.return),e.flags&32){var s=e.stateNode;try{kl(s,"")}catch(k){Re(e,e.return,k)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&l.type==="radio"&&l.name!=null&&Tp(s,l),Ya(u,o);var d=Ya(u,l);for(o=0;o<c.length;o+=2){var x=c[o],N=c[o+1];x==="style"?Lp(s,N):x==="dangerouslySetInnerHTML"?Ip(s,N):x==="children"?kl(s,N):Bu(s,x,N,d)}switch(u){case"input":Ha(s,l);break;case"textarea":Rp(s,l);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var j=l.value;j!=null?as(s,!!l.multiple,j,!1):v!==!!l.multiple&&(l.defaultValue!=null?as(s,!!l.multiple,l.defaultValue,!0):as(s,!!l.multiple,l.multiple?[]:"",!1))}s[Dl]=l}catch(k){Re(e,e.return,k)}}break;case 6:if(Yt(t,e),ln(e),r&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(k){Re(e,e.return,k)}}break;case 3:if(Yt(t,e),ln(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{El(t.containerInfo)}catch(k){Re(e,e.return,k)}break;case 4:Yt(t,e),ln(e);break;case 13:Yt(t,e),ln(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Sc=Ie())),r&4&&kf(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(d=ot)||x,Yt(t,e),ot=d):Yt(t,e),ln(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!x&&e.mode&1)for(B=e,x=e.child;x!==null;){for(N=B=x;B!==null;){switch(v=B,j=v.child,v.tag){case 0:case 11:case 14:case 15:xl(4,v,v.return);break;case 1:os(v,v.return);var b=v.stateNode;if(typeof b.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(k){Re(r,n,k)}}break;case 5:os(v,v.return);break;case 22:if(v.memoizedState!==null){bf(N);continue}}j!==null?(j.return=v,B=j):bf(N)}x=x.sibling}e:for(x=null,N=e;;){if(N.tag===5){if(x===null){x=N;try{s=N.stateNode,d?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(u=N.stateNode,c=N.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Ap("display",o))}catch(k){Re(e,e.return,k)}}}else if(N.tag===6){if(x===null)try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(k){Re(e,e.return,k)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===e)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===e)break e;for(;N.sibling===null;){if(N.return===null||N.return===e)break e;x===N&&(x=null),N=N.return}x===N&&(x=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:Yt(t,e),ln(e),r&4&&kf(e);break;case 21:break;default:Yt(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(oh(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kl(s,""),r.flags&=-33);var l=Nf(e);bu(e,l,s);break;case 3:case 4:var o=r.stateNode.containerInfo,u=Nf(e);ju(e,u,o);break;default:throw Error(R(161))}}catch(c){Re(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Oy(e,t,n){B=e,uh(e)}function uh(e,t,n){for(var r=(e.mode&1)!==0;B!==null;){var s=B,l=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||So;if(!o){var u=s.alternate,c=u!==null&&u.memoizedState!==null||ot;u=So;var d=ot;if(So=o,(ot=c)&&!d)for(B=s;B!==null;)o=B,c=o.child,o.tag===22&&o.memoizedState!==null?Cf(s):c!==null?(c.return=o,B=c):Cf(s);for(;l!==null;)B=l,uh(l),l=l.sibling;B=s,So=u,ot=d}jf(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,B=l):jf(e)}}function jf(e){for(;B!==null;){var t=B;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||Ei(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ot)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Jt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&af(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}af(t,o,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var x=d.memoizedState;if(x!==null){var N=x.dehydrated;N!==null&&El(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}ot||t.flags&512&&ku(t)}catch(v){Re(t,t.return,v)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function bf(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function Cf(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ei(4,t)}catch(c){Re(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Re(t,s,c)}}var l=t.return;try{ku(t)}catch(c){Re(t,l,c)}break;case 5:var o=t.return;try{ku(t)}catch(c){Re(t,o,c)}}}catch(c){Re(t,t.return,c)}if(t===e){B=null;break}var u=t.sibling;if(u!==null){u.return=t.return,B=u;break}B=t.return}}var My=Math.ceil,ai=_n.ReactCurrentDispatcher,vc=_n.ReactCurrentOwner,Wt=_n.ReactCurrentBatchConfig,ue=0,Ke=null,Oe=null,Je=0,Et=0,is=lr(0),ze=0,Fl=null,_r=0,_i=0,wc=0,vl=null,yt=null,Sc=0,ks=1/0,xn=null,ui=!1,Cu=null,Jn=null,No=!1,Hn=null,ci=0,wl=0,Eu=null,Oo=-1,Mo=0;function dt(){return ue&6?Ie():Oo!==-1?Oo:Oo=Ie()}function Xn(e){return e.mode&1?ue&2&&Je!==0?Je&-Je:wy.transition!==null?(Mo===0&&(Mo=Gp()),Mo):(e=pe,e!==0||(e=window.event,e=e===void 0?16:em(e.type)),e):1}function en(e,t,n,r){if(50<wl)throw wl=0,Eu=null,Error(R(185));zl(e,n,r),(!(ue&2)||e!==Ke)&&(e===Ke&&(!(ue&2)&&(_i|=n),ze===4&&Bn(e,Je)),St(e,r),n===1&&ue===0&&!(t.mode&1)&&(ks=Ie()+500,ji&&or()))}function St(e,t){var n=e.callbackNode;w0(e,t);var r=Go(e,e===Ke?Je:0);if(r===0)n!==null&&Ad(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ad(n),t===1)e.tag===0?vy(Ef.bind(null,e)):vm(Ef.bind(null,e)),hy(function(){!(ue&6)&&or()}),n=null;else{switch(Qp(r)){case 1:n=Gu;break;case 4:n=Vp;break;case 16:n=Ko;break;case 536870912:n=Kp;break;default:n=Ko}n=yh(n,ch.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ch(e,t){if(Oo=-1,Mo=0,ue&6)throw Error(R(327));var n=e.callbackNode;if(ps()&&e.callbackNode!==n)return null;var r=Go(e,e===Ke?Je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=di(e,r);else{t=r;var s=ue;ue|=2;var l=fh();(Ke!==e||Je!==t)&&(xn=null,ks=Ie()+500,kr(e,t));do try{zy();break}catch(u){dh(e,u)}while(!0);oc(),ai.current=l,ue=s,Oe!==null?t=0:(Ke=null,Je=0,t=ze)}if(t!==0){if(t===2&&(s=eu(e),s!==0&&(r=s,t=_u(e,s))),t===1)throw n=Fl,kr(e,0),Bn(e,r),St(e,Ie()),n;if(t===6)Bn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Fy(s)&&(t=di(e,r),t===2&&(l=eu(e),l!==0&&(r=l,t=_u(e,l))),t===1))throw n=Fl,kr(e,0),Bn(e,r),St(e,Ie()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:yr(e,yt,xn);break;case 3:if(Bn(e,r),(r&130023424)===r&&(t=Sc+500-Ie(),10<t)){if(Go(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){dt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=au(yr.bind(null,e,yt,xn),t);break}yr(e,yt,xn);break;case 4:if(Bn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Zt(r);l=1<<o,o=t[o],o>s&&(s=o),r&=~l}if(r=s,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*My(r/1960))-r,10<r){e.timeoutHandle=au(yr.bind(null,e,yt,xn),r);break}yr(e,yt,xn);break;case 5:yr(e,yt,xn);break;default:throw Error(R(329))}}}return St(e,Ie()),e.callbackNode===n?ch.bind(null,e):null}function _u(e,t){var n=vl;return e.current.memoizedState.isDehydrated&&(kr(e,t).flags|=256),e=di(e,t),e!==2&&(t=yt,yt=n,t!==null&&Pu(t)),e}function Pu(e){yt===null?yt=e:yt.push.apply(yt,e)}function Fy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!tn(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bn(e,t){for(t&=~wc,t&=~_i,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Zt(t),r=1<<n;e[n]=-1,t&=~r}}function Ef(e){if(ue&6)throw Error(R(327));ps();var t=Go(e,0);if(!(t&1))return St(e,Ie()),null;var n=di(e,t);if(e.tag!==0&&n===2){var r=eu(e);r!==0&&(t=r,n=_u(e,r))}if(n===1)throw n=Fl,kr(e,0),Bn(e,t),St(e,Ie()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yr(e,yt,xn),St(e,Ie()),null}function Nc(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(ks=Ie()+500,ji&&or())}}function Pr(e){Hn!==null&&Hn.tag===0&&!(ue&6)&&ps();var t=ue;ue|=1;var n=Wt.transition,r=pe;try{if(Wt.transition=null,pe=1,e)return e()}finally{pe=r,Wt.transition=n,ue=t,!(ue&6)&&or()}}function kc(){Et=is.current,we(is)}function kr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,my(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(rc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qo();break;case 3:Ss(),we(vt),we(it),fc();break;case 5:dc(r);break;case 4:Ss();break;case 13:we(Ee);break;case 19:we(Ee);break;case 10:ic(r.type._context);break;case 22:case 23:kc()}n=n.return}if(Ke=e,Oe=e=qn(e.current,null),Je=Et=t,ze=0,Fl=null,wc=_i=_r=0,yt=vl=null,wr!==null){for(t=0;t<wr.length;t++)if(n=wr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=s,r.next=o}n.pending=r}wr=null}return e}function dh(e,t){do{var n=Oe;try{if(oc(),Io.current=ii,oi){for(var r=_e.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}oi=!1}if(Er=0,Ve=Ue=_e=null,yl=!1,Ll=0,vc.current=null,n===null||n.return===null){ze=1,Fl=t,Oe=null;break}e:{var l=e,o=n.return,u=n,c=t;if(t=Je,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,x=u,N=x.tag;if(!(x.mode&1)&&(N===0||N===11||N===15)){var v=x.alternate;v?(x.updateQueue=v.updateQueue,x.memoizedState=v.memoizedState,x.lanes=v.lanes):(x.updateQueue=null,x.memoizedState=null)}var j=mf(o);if(j!==null){j.flags&=-257,hf(j,o,u,l,t),j.mode&1&&pf(l,d,t),t=j,c=d;var b=t.updateQueue;if(b===null){var k=new Set;k.add(c),t.updateQueue=k}else b.add(c);break e}else{if(!(t&1)){pf(l,d,t),jc();break e}c=Error(R(426))}}else if(ke&&u.mode&1){var Y=mf(o);if(Y!==null){!(Y.flags&65536)&&(Y.flags|=256),hf(Y,o,u,l,t),sc(Ns(c,u));break e}}l=c=Ns(c,u),ze!==4&&(ze=2),vl===null?vl=[l]:vl.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=Qm(l,c,t);of(l,h);break e;case 1:u=c;var p=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Jn===null||!Jn.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t;var E=Ym(l,u,t);of(l,E);break e}}l=l.return}while(l!==null)}mh(n)}catch(A){t=A,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function fh(){var e=ai.current;return ai.current=ii,e===null?ii:e}function jc(){(ze===0||ze===3||ze===2)&&(ze=4),Ke===null||!(_r&268435455)&&!(_i&268435455)||Bn(Ke,Je)}function di(e,t){var n=ue;ue|=2;var r=fh();(Ke!==e||Je!==t)&&(xn=null,kr(e,t));do try{Uy();break}catch(s){dh(e,s)}while(!0);if(oc(),ue=n,ai.current=r,Oe!==null)throw Error(R(261));return Ke=null,Je=0,ze}function Uy(){for(;Oe!==null;)ph(Oe)}function zy(){for(;Oe!==null&&!d0();)ph(Oe)}function ph(e){var t=gh(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?mh(e):Oe=t,vc.current=null}function mh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Iy(n,t),n!==null){n.flags&=32767,Oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Oe=null;return}}else if(n=Dy(n,t,Et),n!==null){Oe=n;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);ze===0&&(ze=5)}function yr(e,t,n){var r=pe,s=Wt.transition;try{Wt.transition=null,pe=1,$y(e,t,n,r)}finally{Wt.transition=s,pe=r}return null}function $y(e,t,n,r){do ps();while(Hn!==null);if(ue&6)throw Error(R(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(S0(e,l),e===Ke&&(Oe=Ke=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||No||(No=!0,yh(Ko,function(){return ps(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Wt.transition,Wt.transition=null;var o=pe;pe=1;var u=ue;ue|=4,vc.current=null,Ly(e,n),ah(n,e),iy(ou),Qo=!!lu,ou=lu=null,e.current=n,Oy(n),f0(),ue=u,pe=o,Wt.transition=l}else e.current=n;if(No&&(No=!1,Hn=e,ci=s),l=e.pendingLanes,l===0&&(Jn=null),h0(n.stateNode),St(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ui)throw ui=!1,e=Cu,Cu=null,e;return ci&1&&e.tag!==0&&ps(),l=e.pendingLanes,l&1?e===Eu?wl++:(wl=0,Eu=e):wl=0,or(),null}function ps(){if(Hn!==null){var e=Qp(ci),t=Wt.transition,n=pe;try{if(Wt.transition=null,pe=16>e?16:e,Hn===null)var r=!1;else{if(e=Hn,Hn=null,ci=0,ue&6)throw Error(R(331));var s=ue;for(ue|=4,B=e.current;B!==null;){var l=B,o=l.child;if(B.flags&16){var u=l.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(B=d;B!==null;){var x=B;switch(x.tag){case 0:case 11:case 15:xl(8,x,l)}var N=x.child;if(N!==null)N.return=x,B=N;else for(;B!==null;){x=B;var v=x.sibling,j=x.return;if(lh(x),x===d){B=null;break}if(v!==null){v.return=j,B=v;break}B=j}}}var b=l.alternate;if(b!==null){var k=b.child;if(k!==null){b.child=null;do{var Y=k.sibling;k.sibling=null,k=Y}while(k!==null)}}B=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,B=o;else e:for(;B!==null;){if(l=B,l.flags&2048)switch(l.tag){case 0:case 11:case 15:xl(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,B=h;break e}B=l.return}}var p=e.current;for(B=p;B!==null;){o=B;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,B=y;else e:for(o=p;B!==null;){if(u=B,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ei(9,u)}}catch(A){Re(u,u.return,A)}if(u===o){B=null;break e}var E=u.sibling;if(E!==null){E.return=u.return,B=E;break e}B=u.return}}if(ue=s,or(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(vi,e)}catch{}r=!0}return r}finally{pe=n,Wt.transition=t}}return!1}function _f(e,t,n){t=Ns(n,t),t=Qm(e,t,1),e=Yn(e,t,1),t=dt(),e!==null&&(zl(e,1,t),St(e,t))}function Re(e,t,n){if(e.tag===3)_f(e,e,n);else for(;t!==null;){if(t.tag===3){_f(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jn===null||!Jn.has(r))){e=Ns(n,e),e=Ym(t,e,1),t=Yn(t,e,1),e=dt(),t!==null&&(zl(t,1,e),St(t,e));break}}t=t.return}}function By(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(Je&n)===n&&(ze===4||ze===3&&(Je&130023424)===Je&&500>Ie()-Sc?kr(e,0):wc|=n),St(e,t)}function hh(e,t){t===0&&(e.mode&1?(t=fo,fo<<=1,!(fo&130023424)&&(fo=4194304)):t=1);var n=dt();e=Cn(e,t),e!==null&&(zl(e,t,n),St(e,n))}function Wy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hh(e,n)}function Hy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),hh(e,n)}var gh;gh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vt.current)xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xt=!1,Ry(e,t,n);xt=!!(e.flags&131072)}else xt=!1,ke&&t.flags&1048576&&wm(t,ti,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Lo(e,t),e=t.pendingProps;var s=xs(t,it.current);fs(t,n),s=mc(null,t,r,e,s,n);var l=hc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(r)?(l=!0,Zo(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,uc(t),s.updater=Ci,t.stateNode=s,s._reactInternals=t,hu(t,r,e,n),t=xu(null,t,r,!0,l,n)):(t.tag=0,ke&&l&&nc(t),ct(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Lo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Ky(r),e=Jt(r,e),s){case 0:t=yu(null,t,r,e,n);break e;case 1:t=xf(null,t,r,e,n);break e;case 11:t=gf(null,t,r,e,n);break e;case 14:t=yf(null,t,r,Jt(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jt(r,s),yu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jt(r,s),xf(e,t,r,s,n);case 3:e:{if(Zm(t),e===null)throw Error(R(387));r=t.pendingProps,l=t.memoizedState,s=l.element,Cm(e,t),si(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Ns(Error(R(423)),t),t=vf(e,t,r,n,s);break e}else if(r!==s){s=Ns(Error(R(424)),t),t=vf(e,t,r,n,s);break e}else for(_t=Qn(t.stateNode.containerInfo.firstChild),Pt=t,ke=!0,qt=null,n=jm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vs(),r===s){t=En(e,t,n);break e}ct(e,t,r,n)}t=t.child}return t;case 5:return Em(t),e===null&&fu(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,o=s.children,iu(r,s)?o=null:l!==null&&iu(r,l)&&(t.flags|=32),qm(e,t),ct(e,t,o,n),t.child;case 6:return e===null&&fu(t),null;case 13:return eh(e,t,n);case 4:return cc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ws(t,null,r,n):ct(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jt(r,s),gf(e,t,r,s,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,o=s.value,xe(ni,r._currentValue),r._currentValue=o,l!==null)if(tn(l.value,o)){if(l.children===s.children&&!vt.current){t=En(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var u=l.dependencies;if(u!==null){o=l.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=Nn(-1,n&-n),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var x=d.pending;x===null?c.next=c:(c.next=x.next,x.next=c),d.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),pu(l.return,n,t),u.lanes|=n;break}c=c.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(R(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),pu(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}ct(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,fs(t,n),s=Ht(s),r=r(s),t.flags|=1,ct(e,t,r,n),t.child;case 14:return r=t.type,s=Jt(r,t.pendingProps),s=Jt(r.type,s),yf(e,t,r,s,n);case 15:return Jm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jt(r,s),Lo(e,t),t.tag=1,wt(r)?(e=!0,Zo(t)):e=!1,fs(t,n),Gm(t,r,s),hu(t,r,s,n),xu(null,t,r,!0,e,n);case 19:return th(e,t,n);case 22:return Xm(e,t,n)}throw Error(R(156,t.tag))};function yh(e,t){return Hp(e,t)}function Vy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,t,n,r){return new Vy(e,t,n,r)}function bc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ky(e){if(typeof e=="function")return bc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hu)return 11;if(e===Vu)return 14}return 2}function qn(e,t){var n=e.alternate;return n===null?(n=Bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fo(e,t,n,r,s,l){var o=2;if(r=e,typeof e=="function")bc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Xr:return jr(n.children,s,l,t);case Wu:o=8,s|=8;break;case Ua:return e=Bt(12,n,t,s|2),e.elementType=Ua,e.lanes=l,e;case za:return e=Bt(13,n,t,s),e.elementType=za,e.lanes=l,e;case $a:return e=Bt(19,n,t,s),e.elementType=$a,e.lanes=l,e;case Ep:return Pi(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bp:o=10;break e;case Cp:o=9;break e;case Hu:o=11;break e;case Vu:o=14;break e;case Un:o=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Bt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function jr(e,t,n,r){return e=Bt(7,e,r,t),e.lanes=n,e}function Pi(e,t,n,r){return e=Bt(22,e,r,t),e.elementType=Ep,e.lanes=n,e.stateNode={isHidden:!1},e}function Pa(e,t,n){return e=Bt(6,e,null,t),e.lanes=n,e}function Ta(e,t,n){return t=Bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gy(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ca(0),this.expirationTimes=ca(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ca(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cc(e,t,n,r,s,l,o,u,c){return e=new Gy(e,t,n,u,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Bt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uc(l),e}function Qy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xh(e){if(!e)return nr;e=e._reactInternals;e:{if(Ir(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(wt(n))return xm(e,n,t)}return t}function vh(e,t,n,r,s,l,o,u,c){return e=Cc(n,r,!0,e,s,l,o,u,c),e.context=xh(null),n=e.current,r=dt(),s=Xn(n),l=Nn(r,s),l.callback=t??null,Yn(n,l,s),e.current.lanes=s,zl(e,s,r),St(e,r),e}function Ti(e,t,n,r){var s=t.current,l=dt(),o=Xn(s);return n=xh(n),t.context===null?t.context=n:t.pendingContext=n,t=Nn(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yn(s,t,o),e!==null&&(en(e,s,o,l),Do(e,s,o)),o}function fi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ec(e,t){Pf(e,t),(e=e.alternate)&&Pf(e,t)}function Yy(){return null}var wh=typeof reportError=="function"?reportError:function(e){console.error(e)};function _c(e){this._internalRoot=e}Ri.prototype.render=_c.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Ti(e,t,null,null)};Ri.prototype.unmount=_c.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pr(function(){Ti(null,e,null,null)}),t[bn]=null}};function Ri(e){this._internalRoot=e}Ri.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$n.length&&t!==0&&t<$n[n].priority;n++);$n.splice(n,0,e),n===0&&Zp(e)}};function Pc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Di(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tf(){}function Jy(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var d=fi(o);l.call(d)}}var o=vh(t,r,e,0,null,!1,!1,"",Tf);return e._reactRootContainer=o,e[bn]=o.current,Tl(e.nodeType===8?e.parentNode:e),Pr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var d=fi(c);u.call(d)}}var c=Cc(e,0,!1,null,null,!1,!1,"",Tf);return e._reactRootContainer=c,e[bn]=c.current,Tl(e.nodeType===8?e.parentNode:e),Pr(function(){Ti(t,c,n,r)}),c}function Ii(e,t,n,r,s){var l=n._reactRootContainer;if(l){var o=l;if(typeof s=="function"){var u=s;s=function(){var c=fi(o);u.call(c)}}Ti(t,o,e,s)}else o=Jy(n,t,e,s,r);return fi(o)}Yp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=il(t.pendingLanes);n!==0&&(Qu(t,n|1),St(t,Ie()),!(ue&6)&&(ks=Ie()+500,or()))}break;case 13:Pr(function(){var r=Cn(e,1);if(r!==null){var s=dt();en(r,e,1,s)}}),Ec(e,1)}};Yu=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var n=dt();en(t,e,134217728,n)}Ec(e,134217728)}};Jp=function(e){if(e.tag===13){var t=Xn(e),n=Cn(e,t);if(n!==null){var r=dt();en(n,e,t,r)}Ec(e,t)}};Xp=function(){return pe};qp=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}};Xa=function(e,t,n){switch(t){case"input":if(Ha(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ki(r);if(!s)throw Error(R(90));Pp(r),Ha(r,s)}}}break;case"textarea":Rp(e,n);break;case"select":t=n.value,t!=null&&as(e,!!n.multiple,t,!1)}};Fp=Nc;Up=Pr;var Xy={usingClientEntryPoint:!1,Events:[Bl,ts,ki,Op,Mp,Nc]},tl={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qy={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bp(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||Yy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{vi=ko.inject(qy),cn=ko}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xy;Rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pc(t))throw Error(R(200));return Qy(e,t,null,n)};Rt.createRoot=function(e,t){if(!Pc(e))throw Error(R(299));var n=!1,r="",s=wh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Cc(e,1,!1,null,null,n,!1,r,s),e[bn]=t.current,Tl(e.nodeType===8?e.parentNode:e),new _c(t)};Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Bp(t),e=e===null?null:e.stateNode,e};Rt.flushSync=function(e){return Pr(e)};Rt.hydrate=function(e,t,n){if(!Di(t))throw Error(R(200));return Ii(null,e,t,!0,n)};Rt.hydrateRoot=function(e,t,n){if(!Pc(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",o=wh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=vh(t,null,e,1,n??null,s,!1,l,o),e[bn]=t.current,Tl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ri(t)};Rt.render=function(e,t,n){if(!Di(t))throw Error(R(200));return Ii(null,e,t,!1,n)};Rt.unmountComponentAtNode=function(e){if(!Di(e))throw Error(R(40));return e._reactRootContainer?(Pr(function(){Ii(null,null,e,!1,function(){e._reactRootContainer=null,e[bn]=null})}),!0):!1};Rt.unstable_batchedUpdates=Nc;Rt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Di(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Ii(e,t,n,!1,r)};Rt.version="18.3.1-next-f1338f8080-20240426";function Sh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sh)}catch(e){console.error(e)}}Sh(),Sp.exports=Rt;var Zy=Sp.exports,Rf=Zy;Ma.createRoot=Rf.createRoot,Ma.hydrateRoot=Rf.hydrateRoot;const ex={1:[{rows:1,cols:1}],2:[{rows:1,cols:2},{rows:2,cols:1}],3:[{rows:2,cols:2},{rows:1,cols:3},{rows:3,cols:1}],4:[{rows:2,cols:2},{rows:1,cols:4},{rows:4,cols:1}],5:[{rows:2,cols:3},{rows:3,cols:2},{rows:1,cols:5},{rows:5,cols:1}],6:[{rows:2,cols:3},{rows:3,cols:2},{rows:1,cols:6},{rows:6,cols:1}],7:[{rows:2,cols:4},{rows:4,cols:2}],8:[{rows:2,cols:4},{rows:4,cols:2},{rows:3,cols:3}],9:[{rows:3,cols:3},{rows:2,cols:5},{rows:5,cols:2}],10:[{rows:2,cols:5},{rows:5,cols:2}]},ms=(e,t)=>{if(!Number.isFinite(e))return t;const n=Math.floor(e);return n>0?n:t};function tx(e){const t=ms(e,1);return(ex[t]||[]).map(r=>({...r}))}function Tu(e,t){if(!e)return null;const n=ms(t,1),r=ms(e.rows,1),s=ms(e.cols,1),l=r*s;if(l<n)return null;let o=e.emptySeatIndex??null;return l>n?(o==null||o<0||o>=l)&&(o=l-1):o=null,{rows:r,cols:s,emptySeatIndex:o}}const Df=(e,t)=>{const n=ms(e,1),r=(t||0)===90,s=Math.ceil(Math.sqrt(n)),l=r?s:Math.ceil(n/s),o=Math.ceil(n/l);return Tu({rows:l,cols:o},n)||{rows:1,cols:n}};function Nh(e,t,n){const r=ms(e,1),s=Tu(n,r);if(s)return s;const l=tx(r);if(!l.length)return Df(r,t);const o=(t||0)===90,c=l.filter(d=>o?d.rows>=d.cols:d.cols>=d.rows)[0]||l[0];return Tu(c,r)||Df(r,t)}const nx="newui_app_state",Ru=1;function rx(e){const t=Math.max(0,e.capacity||0),n=Array.isArray(e.preferredSeatIndexes)?e.preferredSeatIndexes:[],r=[];for(const s of n){const l=typeof s=="number"?s:parseInt(String(s),10);!Number.isFinite(l)||!Number.isInteger(l)||l<0||l>=t||r.push(l)}return Array.from(new Set(r)).sort((s,l)=>s-l)}function sx(e){const t=(e.seatIds??[]).slice(),n=Math.max(0,e.capacity||0);if(t.length<n)for(let l=t.length;l<n;l++)t[l]=String(e.id)+"_s"+l;else t.length>n&&(t.length=n);const r=rx(e),s=Nh(n,e.rotation||0,e.seatLayout);return{...e,seatIds:t,preferredSeatIndexes:r,seatLayout:s}}function lx(e){return{...e,tables:e.tables.map(sx)}}function ox(e){const n=((e||{layouts:[]}).layouts||[]).map(lx);return{version:Ru,layouts:n}}function ix(){try{const e=localStorage.getItem(nx);if(!e)return{version:Ru,layouts:[]};const t=JSON.parse(e);return ox(t)}catch{return{version:Ru,layouts:[]}}}function ax(){return ix().layouts}const ux="newui_periods_state";function cx(){try{const e=localStorage.getItem(ux);if(!e)return{periods:[],currentId:null};const t=JSON.parse(e);return{periods:t.periods??[],currentId:t.currentId??null}}catch{return{periods:[],currentId:null}}}function Du(){return cx()}const dx="newui_tags_state_v1";function fx(){try{const e=localStorage.getItem(dx);return e?{version:1,tags:JSON.parse(e).tags??[]}:{version:1,tags:[]}}catch{return{version:1,tags:[]}}}function px(){return fx().tags}const mx=f.createContext(null),hx="newui_students_state_v1";function gx(){try{const e=localStorage.getItem(hx);return e?{version:1,students:JSON.parse(e).students??[]}:{version:1,students:[]}}catch{return{version:1,students:[]}}}function yx(){return gx().students}function xx(){return"pro"}function vx(e=xx()){return{tier:e,canUseDriveSync:e!=="free",canUseLocalSave:!0,canExportPDF:e!=="free",canUseAdvancedReports:e==="school"||e==="pro",canUseImports:!0,canUseMobile:!0}}function wx({studentId:e,hasPhoto:t=!1,src:n=null,onClick:r,widthPx:s,heightPx:l,sizePx:o=44}){const d={width:s??o,height:l??o};return i.jsx("button",{type:"button","aria-label":t?"Update student photo":"Add student photo",className:"flex-shrink-0 rounded-xl border border-slate-200 bg-white/60 overflow-hidden active:scale-[0.98]",style:d,onClick:x=>{x.stopPropagation(),r==null||r(e)},children:t&&n?i.jsx("img",{src:n,alt:"Student photo",className:"w-full h-full object-cover",draggable:!1}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":"true",className:"text-slate-500",children:i.jsx("path",{fill:"currentColor",d:"M9.5 4.5h5l1.2 1.8H19a2.5 2.5 0 0 1 2.5 2.5v8.7A2.5 2.5 0 0 1 19 20H5a2.5 2.5 0 0 1-2.5-2.5V8.8A2.5 2.5 0 0 1 5 6.3h3.3l1.2-1.8ZM12 9a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm0 1.7a2.3 2.3 0 1 1 0 4.6 2.3 2.3 0 0 1 0-4.6Z"})})})})}function Sx(e){const t=(e||"").trim();if(!t)return{first:"Unknown",last:"Unknown"};if(t.includes(",")){const[l,o]=t.split(",",2),u=(l||"").trim()||"Unknown";return{first:(o||"").trim().split(/\s+/).filter(Boolean)[0]||"Unknown",last:u}}const n=t.split(/\s+/).filter(Boolean);if(n.length===1)return{first:n[0],last:"Unknown"};const r=n[0]||"Unknown",s=n[n.length-1]||"Unknown";return{first:r,last:s}}function If(e){return(e||"").trim().replace(/\s+/g,"_").replace(/[^A-Za-z0-9_-]/g,"").replace(/_+/g,"_")||"Unknown"}function Tc(e,t){const n=Sx(t),r=If(n.first);return`${If(n.last)}_${r}__id_${e}.jpg`}var ap,up;const Iu=((up=(ap=import.meta)==null?void 0:ap.env)==null?void 0:up.VITE_GOOGLE_CLIENT_ID)??"403722152172-rm3rvd6kba8s10a8svv60jbj2s93kv1e.apps.googleusercontent.com",Nx="https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/userinfo.email",Af="ClassSeats",kh="classseats_mobile_drive_session_v2",Rc="classseats_mobile_drive_folder_v1",Dc="classseats_student_docs_folder_v1",kx={classseats:"data_v1"},Lf="Student Docs",Of="studentPhotos",jh="https://us-east1-classseats-sync.cloudfunctions.net/exchangecode",Uo="classseats_mobile_drive_pkce_verifier",Sl="classseats_mobile_drive_return_to",zo="classseats_mobile_drive_redirect_uri",bh="https://app.classseats.app/ClassSeatsMobile";function jx(){if(typeof window>"u")return bh;const e=window.location.origin;return e==="https://app.classseats.app"?"https://app.classseats.app/ClassSeatsMobile":e==="https://mifish3474.github.io"?"https://mifish3474.github.io/ClassSeats-Mobile-Testing/ClassSeatsMobile":`${e}/ClassSeatsMobile`}const bx=45*60*1e3,Cx="classseats_auth",Ex=1,rr="driveSession",pi="singleton";let xr=null,an=null,ul=!1,$o="none";function _x(e){const{sessionLoaded:t}=e,n=(e.lastWriteReason||"").trim();return t?"ok":n?n==="explicit-disconnect"?"user-logged-out":n==="fatal-oauth-error"?"oauth-failure":n==="login-success"?"device-storage-wipe":"unknown":"no-session-yet"}function Ic(){return new Promise((e,t)=>{const n=indexedDB.open(Cx,Ex);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(rr)||r.createObjectStore(rr,{keyPath:"id"})},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error||new Error("IndexedDB open failed"))})}async function Px(){const e=await Ic();return new Promise((t,n)=>{const l=e.transaction(rr,"readonly").objectStore(rr).get(pi);l.onsuccess=()=>{const o=l.result;if(o){an={lastWriteAt:o.lastWriteAt,lastWriteReason:o.lastWriteReason};const{id:u,lastWriteAt:c,lastWriteReason:d,...x}=o;t(x)}else t(null)},l.onerror=()=>n(l.error||new Error("IDB get failed"))})}async function Ch(e,t){const n=await Ic();return new Promise((r,s)=>{const l=n.transaction(rr,"readwrite"),o=l.objectStore(rr);if(!e)console.info("[Drive][IDB] CLEAR session",{reason:t}),o.delete(pi),an={lastWriteAt:Date.now(),lastWriteReason:t};else{const u={id:pi,...e,lastWriteAt:Date.now(),lastWriteReason:t};console.info("[Drive][IDB] WRITE session",{reason:t,hasRefresh:!!e.refreshToken,expiresAt:e.expiresAt}),o.put(u),an={lastWriteAt:u.lastWriteAt,lastWriteReason:u.lastWriteReason}}l.oncomplete=()=>r(),l.onerror=()=>s(l.error||new Error("IDB put/delete failed"))})}async function Tx(){try{const e=await Ic();return await new Promise((t,n)=>{const l=e.transaction(rr,"readonly").objectStore(rr).get(pi);l.onsuccess=()=>{const o=l.result;o?(an={lastWriteAt:o.lastWriteAt,lastWriteReason:o.lastWriteReason},t(o)):t(null)},l.onerror=()=>n(l.error||new Error("IDB get failed"))})}catch(e){return console.warn("[Drive][IDB] getDriveSessionRecord failed",e),null}}async function Rx(){const e=await Tx(),t=!!e,n=!!(e!=null&&e.refreshToken),r=(e==null?void 0:e.expiresAt)??null,s=(e==null?void 0:e.lastWriteAt)??(an==null?void 0:an.lastWriteAt)??null,l=(e==null?void 0:e.lastWriteReason)??(an==null?void 0:an.lastWriteReason)??null,o=e?"idb":"none",u=e==null?void 0:e.profile,c=_x({sessionLoaded:t,lastWriteReason:l}),d={sessionLoaded:t,hasRefresh:n,expiresAt:r,source:o,lastWriteAt:s,lastWriteReason:l,state:c,profile:u};return console.info("startup:",d),console.info("[Drive] startupSessionState",{state:c,lastWriteReason:l}),d}function Dx(){if(typeof window>"u")return null;try{const e=window.localStorage.getItem(kh);return e?JSON.parse(e):null}catch{return null}}function Ix(){typeof window>"u"||window.localStorage.removeItem(kh)}async function Ai(){if(ul)return xr;try{const t=await Px();if(t)return xr=t,$o="idb",ul=!0,xr}catch{}const e=Dx();if(e){xr=e,$o="legacy",ul=!0;try{await Ch(e,"startup-migration")}catch{}return xr}return xr=null,$o="none",ul=!0,null}async function Ac(e,t){xr=e,ul=!0,$o=e?"idb":"none";try{await Ch(e,t)}catch(n){console.warn("[Drive][IDB] persistSession failed",n)}}async function Eh(e){await Ac(null,e),Ix()}async function Ax(){return Ai()}function Lx(e,t=5*60*1e3){return!e||e.expiresAt<=Date.now()+t}function Ox(e){return e.replace(/^#/,"").split("&").map(t=>t.split("=")).reduce((t,[n,r])=>(n&&(t[decodeURIComponent(n)]=decodeURIComponent(r||"")),t),{})}function _h(e,t,n,r){const s=t?t*1e3:bx;return{accessToken:e,expiresAt:Date.now()+s-60*1e3,refreshToken:n,profile:r}}async function Ph(e){try{const t=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)return;const n=await t.json();return{email:n.email,name:n.name,picture:n.picture}}catch{return}}async function Mx(){const e=new Uint8Array(32);return crypto.getRandomValues(e),btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fx(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=Array.from(new Uint8Array(r));return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ux(e,t){const n=await Mx(),r=await Fx(n),s=btoa(JSON.stringify({v:n,r:t||null}));return window.localStorage.setItem(Uo,n),t?window.localStorage.setItem(Sl,t):window.localStorage.removeItem(Sl),window.localStorage.setItem(zo,e),`https://accounts.google.com/o/oauth2/v2/auth?${new URLSearchParams({client_id:Iu,redirect_uri:e,response_type:"code",scope:Nx,include_granted_scopes:"true",state:s,prompt:"consent",access_type:"offline",code_challenge:r,code_challenge_method:"S256"}).toString()}`}async function zx(e,t,n){const r={grant_type:"authorization_code",code:e,code_verifier:t,redirect_uri:n,client_id:Iu};console.info("[Drive] Exchanging code",{redirect_uri:n,client_id:Iu,code_preview:e?`${e.slice(0,4)}...${e.slice(-4)}`:"none"});const s=await fetch(jh,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok){const l=await s.text().catch(()=>"");throw new Error(l||"Failed to exchange code for tokens.")}return s.json()}async function $x(){if(typeof window>"u")return null;const e=window.location.search||"",t=new URLSearchParams(e);let n=t.get("code"),r=t.get("state");if(!n&&window.location.hash){const u=Ox(window.location.hash);n=u.code||n,r=u.state||r}if(!n)return null;let s=null,l=null,o=null;if(r)try{const u=JSON.parse(atob(r));u!=null&&u.v&&typeof u.v=="string"&&(s=u.v),u!=null&&u.r&&typeof u.r=="string"&&(l=u.r),u!=null&&u.d&&typeof u.d=="string"&&(o=u.d)}catch{}if(s||(s=window.localStorage.getItem(Uo)),l||(l=window.localStorage.getItem(Sl)),o||(o=window.localStorage.getItem(zo)||bh),!s)return null;try{const u=await zx(n,s,o),c=await Ph(u.access_token),d=_h(u.access_token,u.expires_in,u.refresh_token,c||void 0);return await Ac(d,"login-success"),window.localStorage.removeItem(Uo),window.localStorage.removeItem(Sl),window.localStorage.removeItem(zo),l&&l!==o?window.location.replace(l):window.history.replaceState(null,document.title,o),d}catch{return window.localStorage.removeItem(Uo),window.localStorage.removeItem(Sl),window.localStorage.removeItem(zo),null}}async function Bx(e,t){if(typeof window>"u")throw new Error("Browser required.");const n=jx(),r=await Ux(n,window.location.href);return window.location.href=r,new Promise(()=>{})}async function Th(){const e=await Ai();if(!e)return console.warn("[Drive] refreshDriveSession: no stored session"),null;if(e.expiresAt>Date.now()+60*1e3)return console.debug("[Drive] refreshDriveSession: not expiring soon; skipping refresh",{expiresAt:e.expiresAt}),e;if(!e.refreshToken)return console.warn("[Drive] refreshDriveSession: missing refresh token; cannot refresh; keeping existing session",{expiresAt:e.expiresAt}),e;try{const t=await fetch(jh,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({grant_type:"refresh_token",refresh_token:e.refreshToken})});if(!t.ok){const l=await t.text().catch(()=>"");throw console.warn("[Drive] refreshDriveSession: HTTP error from token endpoint",{status:t.status,statusText:t.statusText,bodySnippet:l.slice(0,200)}),new Error("Refresh failed: "+t.status)}const n=await t.json(),r=await Ph(n.access_token),s=_h(n.access_token,n.expires_in,e.refreshToken,r||e.profile);return await Ac(s,"refresh-success"),s}catch(t){const n=String((t==null?void 0:t.message)||"");return console.warn("[Drive] refreshDriveSession: caught error",{message:n}),/invalid_grant|invalid_client/i.test(n)?(console.warn("[Drive] refreshDriveSession: treating as fatal OAuth error; clearing session"),await Eh("fatal-oauth-error")):console.warn("[Drive] refreshDriveSession: non-fatal error; keeping stored session in IDB"),null}}async function hs(e){let t=e??await Ai();return t?Lx(t)?await Th():t:null}async function Wx(){const e=await $x();if(e)return e;const t=await Ai();return t&&t.expiresAt>Date.now()+60*1e3?t:Th()}async function Hx(){await Eh("explicit-disconnect")}async function Nt(e,t,n){const r=await fetch(t,{...n,headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",...(n==null?void 0:n.headers)||{}}});if(!r.ok){const s=await r.text().catch(()=>"");throw new Error(s||"Google Drive request failed.")}return r}function mi(e){return e.replace(/'/g,"\\'")}async function Li(e){const t=Vx();if(t){if(await Rh(e,t))return t;Kx()}const n=new URLSearchParams({q:`name='${Af}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,fields:"files(id)",spaces:"drive"}),s=await(await Nt(e,`https://www.googleapis.com/drive/v3/files?${n.toString()}`)).json();if(Array.isArray(s.files)&&s.files.length>0)return Mf(s.files[0].id),s.files[0].id;const o=await(await Nt(e,"https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:Af,mimeType:"application/vnd.google-apps.folder"})})).json();return Mf(o.id),o.id}function Mf(e){typeof window>"u"||window.localStorage.setItem(Rc,e)}function Vx(){return typeof window>"u"?null:window.localStorage.getItem(Rc)}function Kx(){typeof window>"u"||window.localStorage.removeItem(Rc)}function Ff(e){typeof window>"u"||window.localStorage.setItem(Dc,e)}function Gx(){return typeof window>"u"?null:window.localStorage.getItem(Dc)}function Qx(){typeof window>"u"||window.localStorage.removeItem(Dc)}async function Rh(e,t){try{return(await Nt(e,`https://www.googleapis.com/drive/v3/files/${t}?fields=id`)).ok}catch{return!1}}async function Yx(e){const t=Gx();if(t){if(await Rh(e,t))return t;Qx()}const n=await Li(e),r=new URLSearchParams({q:`'${n}' in parents and name='${mi(Lf)}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,fields:"files(id)",spaces:"drive"}),l=await(await Nt(e,`https://www.googleapis.com/drive/v3/files?${r.toString()}`)).json();if(Array.isArray(l.files)&&l.files.length>0)return Ff(l.files[0].id),l.files[0].id;const u=await(await Nt(e,"https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:Lf,mimeType:"application/vnd.google-apps.folder",parents:[n]})})).json();if(!(u!=null&&u.id))throw new Error("Unable to create Student Docs folder.");return Ff(u.id),u.id}async function Jx(e){const t=await Li(e),n=new URLSearchParams({q:`'${t}' in parents and name='${mi(Of)}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,fields:"files(id)",spaces:"drive"}),s=await(await Nt(e,`https://www.googleapis.com/drive/v3/files?${n.toString()}`)).json();if(Array.isArray(s.files)&&s.files.length>0)return s.files[0].id;const o=await(await Nt(e,"https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:Of,mimeType:"application/vnd.google-apps.folder",parents:[t]})})).json();if(!(o!=null&&o.id))throw new Error("Unable to create student photos folder.");return o.id}async function Xx(e,t,n){const r=(n||"").trim();if(!r)throw new Error("Document title is required.");const l=await(await Nt(e,"https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:r,mimeType:"application/vnd.google-apps.document",parents:[t]})})).json();if(!(l!=null&&l.id))throw new Error("Unable to create Google Doc.");return{fileId:l.id,title:l.name||r}}async function qx(e){const t=await hs();if(!(t!=null&&t.accessToken))throw new Error("Sign in with Google Drive first.");const n=t.accessToken,r=await Jx(n),s=Tc(e.studentId,e.studentFullName);let l=e.fileId?String(e.fileId):null;if(!l){const N=`name='${mi(s)}' and '${r}' in parents and trashed=false`,v=new URLSearchParams({q:N,fields:"files(id)",spaces:"drive"}),b=await(await Nt(n,`https://www.googleapis.com/drive/v3/files?${v.toString()}`)).json();l=Array.isArray(b.files)&&b.files.length>0?b.files[0].id:null}if(!l){const N=`student_${e.studentId}.jpg`,v=`name='${mi(N)}' and '${r}' in parents and trashed=false`,j=new URLSearchParams({q:v,fields:"files(id)",spaces:"drive"}),k=await(await Nt(n,`https://www.googleapis.com/drive/v3/files?${j.toString()}`)).json();l=Array.isArray(k.files)&&k.files.length>0?k.files[0].id:null}const o=l?{name:s,mimeType:"image/jpeg"}:{name:s,parents:[r],mimeType:"image/jpeg"},u=new FormData;u.append("metadata",new Blob([JSON.stringify(o)],{type:"application/json"})),u.append("file",e.jpegBlob,s);const c=l?`https://www.googleapis.com/upload/drive/v3/files/${l}?uploadType=multipart&fields=id,name,modifiedTime`:"https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id,name,modifiedTime",d=await fetch(c,{method:l?"PATCH":"POST",headers:{Authorization:`Bearer ${n}`},body:u,signal:e.signal});if(!d.ok){const N=await d.text().catch(()=>"");throw new Error(N||"Failed to upload student photo.")}const x=await d.json();if(!(x!=null&&x.id))throw new Error("Unable to upload student photo.");return{fileId:x.id,folderId:r,fileName:x.name||s,modifiedTime:x.modifiedTime}}async function Uf(e){const t=await Li(e),n=new URLSearchParams({q:`'${t}' in parents and trashed=false`,fields:"files(id,name,modifiedTime,size,headRevisionId)",orderBy:"modifiedTime desc",spaces:"drive"});return((await(await Nt(e,`https://www.googleapis.com/drive/v3/files?${n.toString()}`)).json()).files||[]).map(Oi)}async function Zx(e,t,n){const r=await Li(e),s="classseats_drive_boundary",l={name:t,mimeType:"application/json",parents:[r],appProperties:kx},o=[`--${s}`,"Content-Type: application/json; charset=UTF-8","",JSON.stringify(l),`--${s}`,"Content-Type: application/json","",n,`--${s}--`,""].join(`\r
`),u=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id,name,modifiedTime,size,headRevisionId",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":`multipart/related; boundary=${s}`},body:o});if(!u.ok){const d=await u.text().catch(()=>"");throw new Error(d||"Failed to create Google Drive file.")}const c=await u.json();return Oi(c)}async function Ra(e,t){return(await Nt(e,`https://www.googleapis.com/drive/v3/files/${t}?alt=media`,{method:"GET"})).text()}async function ev(e,t,n){const r=await fetch(`https://www.googleapis.com/upload/drive/v3/files/${t}?uploadType=media`,{method:"PATCH",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:n});if(!r.ok){const o=await r.text().catch(()=>"");throw new Error(o||"Failed to upload file to Google Drive.")}const l=await(await Nt(e,`https://www.googleapis.com/drive/v3/files/${t}?fields=id,name,modifiedTime,size,headRevisionId`,{method:"GET"})).json();return Oi(l)}function Oi(e){var t;return e?{id:e.id,name:e.name,modifiedTime:e.modifiedTime,size:e.size,revisionId:e.headRevisionId||e.revisionId||((t=e==null?void 0:e.appProperties)==null?void 0:t.revisionId)}:{id:"",name:""}}async function tv(e){const t=new URLSearchParams({q:"mimeType='application/json' and trashed=false",fields:"files(id,name,modifiedTime,size,headRevisionId)",orderBy:"modifiedTime desc",spaces:"drive"});return((await(await Nt(e,`https://www.googleapis.com/drive/v3/files?${t.toString()}`)).json()).files||[]).map(Oi)}const Nr=new Map;function Dh(e,t){const n=Nr.get(e);if((n==null?void 0:n.value)!==void 0)return Promise.resolve(n.value);if(n!=null&&n.promise)return n.promise;const r=t().then(s=>(Nr.set(e,{value:s}),s)).catch(s=>{throw Nr.delete(e),s});return Nr.set(e,{promise:r}),r}function js(e){if(!e){Nr.clear();return}for(const t of Nr.keys())t.startsWith(e)&&Nr.delete(t)}const nv="classseats-cache",rv=1,kn="driveFolders",Zn="studentPhotoMap",er="photoBlobs";function Mi(){return typeof indexedDB>"u"?Promise.resolve(null):new Promise((e,t)=>{const n=indexedDB.open(nv,rv);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(kn)||r.createObjectStore(kn,{keyPath:"key"}),r.objectStoreNames.contains(Zn)||r.createObjectStore(Zn,{keyPath:"studentId"}),r.objectStoreNames.contains(er)||r.createObjectStore(er,{keyPath:"fileId"})},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error||new Error("IndexedDB open failed"))})}function Lc(e,t){return t?Date.now()-e>t:!1}async function Ts(e,t){const n=await Mi();return n?new Promise((r,s)=>{const u=n.transaction(e,"readonly").objectStore(e).get(t);u.onsuccess=()=>r(u.result||null),u.onerror=()=>s(u.error||new Error("IDB get failed"))}):null}async function Fi(e,t){const n=await Mi();if(n)return new Promise((r,s)=>{const l=n.transaction(e,"readwrite");l.objectStore(e).put(t),l.oncomplete=()=>r(),l.onerror=()=>s(l.error||new Error("IDB put failed"))})}async function bs(e,t){const n=await Mi();if(n)return new Promise((r,s)=>{const l=n.transaction(e,"readwrite");l.objectStore(e).delete(t),l.oncomplete=()=>r(),l.onerror=()=>s(l.error||new Error("IDB delete failed"))})}async function Da(e){const t=await Mi();if(t)return new Promise((n,r)=>{const s=t.transaction(e,"readwrite");s.objectStore(e).clear(),s.oncomplete=()=>n(),s.onerror=()=>r(s.error||new Error("IDB clear failed"))})}async function Ih(e,t,n){const r=await Ts(kn,e);return r?n&&r.accountKey&&r.accountKey!==n?(await bs(kn,e),null):Lc(r.updatedAt,t)?(await bs(kn,e),null):r:null}async function Ah(e){await Fi(kn,e)}async function sv(e,t,n){const r=await Ts(Zn,e);return r?n&&r.accountKey&&r.accountKey!==n?(await bs(Zn,e),null):Lc(r.fetchedAt,t)?(await bs(Zn,e),null):r:null}async function lv(e,t){const n=await Ts(Zn,e);return!n||t&&n.accountKey&&n.accountKey!==t?null:n}async function ov(e){await Fi(Zn,e)}async function iv(e,t,n){const r=await Ts(er,e);return r?n&&r.accountKey&&r.accountKey!==n?(await bs(er,e),null):Lc(r.fetchedAt,t)?(await bs(er,e),null):r:null}async function av(e,t){const n=await Ts(er,e);return!n||t&&n.accountKey&&n.accountKey!==t?null:n}async function Lh(e){await Fi(er,e)}async function uv(){await Promise.all([Da(kn),Da(Zn),Da(er)])}const Oh="driveAccountKey";async function cv(){const e=await Ts(kn,Oh);return(e==null?void 0:e.value)||null}async function dv(e){const t={key:Oh,value:e,updatedAt:Date.now(),accountKey:e};await Fi(kn,t)}const zf="ClassSeats",$f="studentPhotos",Mh=30*24*60*60*1e3,fv=7*24*60*60*1e3,pv=7*24*60*60*1e3,mv=5*60*1e3,hv="classseats_studentPhotoRefs_v1",gv=()=>{if(typeof window>"u")return!1;try{return window.localStorage.getItem("classseats_debug_drive")==="1"}catch{return!1}},Fh=(e,t)=>{gv()&&console.debug(`[PhotoService] ${e}`,t)},Ia={folderLookups:0,photoMetaLookups:0,mediaDownloads:0};function Cs(e){Ia[e]+=1,Fh(`${e}=${Ia[e]}`,{count:Ia[e]})}const hi=new Map,gi=new Map,Tr=new Map;let Bo=null;const Uh=(e,t)=>`${e}:${t||0}`;function zh(e){return e.replace(/'/g,"\\'")}function yv(e){if(typeof window>"u")return null;try{const t=window.localStorage.getItem(hv);if(!t)return null;const n=JSON.parse(t);if(!n||typeof n!="object")return null;const r=n[e];return!r||typeof r.fileId!="string"?null:r.fileId}catch{return null}}function $h(e){let t=0;const n=[],r=()=>{if(t>=e)return;const s=n.shift();s&&s()};return async function(l){t>=e&&await new Promise(o=>n.push(o)),t+=1;try{return await l()}finally{t-=1,r()}}}const Oc=$h(4),Bf=$h(3);async function Rr(e,t,n){const r={Authorization:`Bearer ${e}`},s=(n==null?void 0:n.body)instanceof FormData;n!=null&&n.body&&!s&&(r["Content-Type"]="application/json");const l=await fetch(t,{...n,headers:{...r,...(n==null?void 0:n.headers)||{}}});if(!l.ok){const o=await l.text().catch(()=>"");throw new Error(o||"Google Drive request failed.")}return l}async function xv(e){var n,r,s,l,o;if((r=(n=e.driveSession)==null?void 0:n.profile)!=null&&r.email)return e.driveSession.profile.email;if((s=e.driveClient)!=null&&s.getStatus)try{const u=await e.driveClient.getStatus();if(u.connected)return((l=u.profile)==null?void 0:l.email)||null}catch{}const t=await hs(e.driveSession);return((o=t==null?void 0:t.profile)==null?void 0:o.email)||null}async function Hl(e){const t=await xv(e);if(!t)return null;Bo&&Bo!==t&&await yi("account-change");const n=await cv();return n&&n!==t&&await yi("account-change"),Bo=t,n!==t&&await dv(t),t}async function Ui(e){var n,r;if((n=e.driveSession)!=null&&n.accessToken)return e.driveSession.accessToken;if(((r=e.driveClient)==null?void 0:r.kind)==="desktop")return null;const t=await hs(e.driveSession);return(t==null?void 0:t.accessToken)||null}async function Mc(e,t){const n=await Dh(e,t);return n==null&&js(e),n}function cl(e,t){const n=Tr.get(e);n!=null&&n.url&&URL.revokeObjectURL(n.url);const r=URL.createObjectURL(t);return Tr.set(e,{url:r}),r}function vv(e){const t=Tr.get(e);return(t==null?void 0:t.url)||null}function Bh(e,t){const n=`${e}:`;for(const[r,s]of Tr.entries())r!==e&&!r.startsWith(n)||t&&r===t||(s!=null&&s.url&&URL.revokeObjectURL(s.url),Tr.delete(r))}function wv(e){const t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),t}function Sv(e){const t=e.replace(/\s+/g,"");return t.length<32||t.length%4!==0?!1:/^[A-Za-z0-9+/=]+$/.test(t)}function Wf(e,t){try{const n=e.replace(/\s+/g,""),r=atob(n),s=new Uint8Array(r.length);for(let l=0;l<r.length;l+=1)s[l]=r.charCodeAt(l);return new Blob([s],{type:t||"image/jpeg"})}catch{return null}}function Nv(e){if(!e)return null;if(e instanceof Blob)return e;if(e instanceof ArrayBuffer)return new Blob([e]);if(ArrayBuffer.isView(e))return new Blob([wv(e)]);if(typeof e=="string"){if(e.startsWith("data:")){const t=e.split(",",2);if(t.length===2){const n=t[0].match(/data:([^;]+)/),r=Wf(t[1],n==null?void 0:n[1]);if(r)return r}}if(Sv(e)){const t=Wf(e);if(t)return t}return new Blob([e])}return null}async function Hf(e,t,n,r){const s=`name='${zh(n)}' and '${t}' in parents and trashed=false`,l=new URLSearchParams({q:s,fields:"files(id,name,modifiedTime)",spaces:"drive"});return Cs("photoMetaLookups"),Oc(async()=>{const u=await(await Rr(e,`https://www.googleapis.com/drive/v3/files?${l.toString()}`,{method:"GET",signal:r})).json();return!Array.isArray(u.files)||u.files.length===0?null:u.files[0]})}async function kv(e,t,n){return Cs("photoMetaLookups"),Oc(async()=>{const s=await(await Rr(e,`https://www.googleapis.com/drive/v3/files/${t}?fields=id,name,modifiedTime`,{method:"GET",signal:n})).json();return s!=null&&s.id?{id:s.id,name:s.name,modifiedTime:s.modifiedTime}:null})}async function jv(e,t,n,r){return Oc(async()=>{const l=await(await Rr(e,`https://www.googleapis.com/drive/v3/files/${t}?fields=id,name,modifiedTime`,{method:"PATCH",body:JSON.stringify({name:n}),signal:r})).json();return l!=null&&l.id?{id:l.id,name:l.name,modifiedTime:l.modifiedTime}:null})}async function bv(e){return Mc("driveFolder:classSeats",async()=>{const t=await Hl(e),n=await Ih("classSeatsFolderId",Mh,t||void 0);if(n!=null&&n.value)return n.value;const r=await Ui(e);if(!r)return null;Cs("folderLookups");const s=new URLSearchParams({q:`name='${zf}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,fields:"files(id)",spaces:"drive"}),o=await(await Rr(r,`https://www.googleapis.com/drive/v3/files?${s.toString()}`,{method:"GET"})).json();let u=null;if(Array.isArray(o.files)&&o.files.length>0&&(u=o.files[0].id),!u){const d=await(await Rr(r,"https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:zf,mimeType:"application/vnd.google-apps.folder"})})).json();u=(d==null?void 0:d.id)||null}return u?(await Ah({key:"classSeatsFolderId",value:u,updatedAt:Date.now(),accountKey:t||void 0}),u):null})}async function Cv(e){return Mc("driveFolder:studentPhotos",async()=>{const t=await Hl(e),n=await Ih("studentPhotosFolderId",Mh,t||void 0);if(n!=null&&n.value)return n.value;const r=await Ui(e);if(!r)return null;const s=await bv(e);if(!s)return null;Cs("folderLookups");const l=new URLSearchParams({q:`'${s}' in parents and name='${zh($f)}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,fields:"files(id)",spaces:"drive"}),u=await(await Rr(r,`https://www.googleapis.com/drive/v3/files?${l.toString()}`,{method:"GET"})).json();let c=null;if(Array.isArray(u.files)&&u.files.length>0&&(c=u.files[0].id),!c){const x=await(await Rr(r,"https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:$f,mimeType:"application/vnd.google-apps.folder",parents:[s]})})).json();c=(x==null?void 0:x.id)||null}return c?(await Ah({key:"studentPhotosFolderId",value:c,updatedAt:Date.now(),accountKey:t||void 0}),c):null})}async function dl(e){hi.set(e.studentId,e),gi.delete(e.studentId),js(`studentPhoto:${e.studentId}`),await ov(e)}async function Ev(e,t,n,r){const s=String(e),l=await Hl(n),o=hi.get(s);if(o&&(!l||o.accountKey===l))return o;const u=await sv(s,fv,l||void 0);if(u)return hi.set(s,u),u;const c=await lv(s,l||void 0),d=gi.get(s);if(d&&Date.now()-d<mv)return c||null;const x=await Ui(n);if(!x)return c||null;if(c!=null&&c.fileId)try{const b=await kv(x,c.fileId,r);if(b){const k={studentId:s,fileId:b.id,fileName:b.name,updatedTime:b.modifiedTime,fetchedAt:Date.now(),accountKey:l||void 0};return await dl(k),k}}catch{}const N=await Cv(n);if(!N)return c||null;const v=t?Tc(e,t):c==null?void 0:c.fileName;if(v)try{const b=await Hf(x,N,v,r);if(b){const k={studentId:s,fileId:b.id,fileName:b.name,updatedTime:b.modifiedTime,fetchedAt:Date.now(),accountKey:l||void 0};return await dl(k),k}}catch{return c||null}try{const b=`student_${e}.jpg`,k=await Hf(x,N,b,r);if(k){let Y=k.name,h=k.modifiedTime;if(v&&k.name!==v){const y=await jv(x,k.id,v,r);y!=null&&y.name&&(Y=y.name,h=y.modifiedTime)}const p={studentId:s,fileId:k.id,fileName:Y,updatedTime:h,fetchedAt:Date.now(),accountKey:l||void 0};return await dl(p),p}}catch{return c||null}const j=yv(s);if(j){const b={studentId:s,fileId:j,fileName:v||void 0,fetchedAt:Date.now(),accountKey:l||void 0};return await dl(b),b}return gi.set(s,Date.now()),c||null}async function _v(e,t,n){var s;if(((s=t.driveClient)==null?void 0:s.kind)==="desktop"&&t.driveClient.downloadFile)return Cs("mediaDownloads"),Bf(async()=>{var o,u;const l=await((u=(o=t.driveClient)==null?void 0:o.downloadFile)==null?void 0:u.call(o,e));return Nv(l==null?void 0:l.data)});const r=await Ui(t);return r?(Cs("mediaDownloads"),Bf(async()=>{const l=await fetch(`https://www.googleapis.com/drive/v3/files/${e}?alt=media`,{method:"GET",headers:{Authorization:`Bearer ${r}`},signal:n});return l.ok?l.blob():null})):null}async function Pv(e,t,n,r){const s=Uh(e,t);Bh(e,s);const l=vv(s);if(l)return l;const o=await Hl(n),u=await iv(s,pv,o||void 0);if(u)return cl(s,u.blob);const c=await av(s,o||void 0);try{const d=await Dh(`photoBlob:${s}`,async()=>_v(e,n,r));if(!d)return js(`photoBlob:${s}`),c?cl(s,c.blob):null;const x={fileId:s,blob:d,fetchedAt:Date.now(),accountKey:o||void 0};return await Lh(x),cl(s,d)}catch{return js(`photoBlob:${s}`),c?cl(s,c.blob):null}}async function Tv(e){const t=e.photoFileId?String(e.photoFileId):"";if(!t)return{fileId:null,url:null};const n=await Pv(t,e.photoUpdatedAt,{driveClient:e.driveClient,driveSession:e.driveSession},e.signal);return{fileId:t,url:n}}async function Rv(e){const t=`studentPhoto:${String(e.studentId)}`;return Mc(t,async()=>Ev(e.studentId,e.fullName,{driveClient:e.driveClient,driveSession:e.driveSession},e.signal))}async function Dv(e){const t=Uh(e.fileId,e.photoUpdatedAt);js(`photoBlob:${t}`);const n=String(e.studentId),r=await Hl({driveClient:e.driveClient,driveSession:e.driveSession}),s=Tc(e.studentId,e.fullName),l={studentId:n,fileId:e.fileId,fileName:s,updatedTime:e.updatedTime,fetchedAt:Date.now(),accountKey:r||void 0};await dl(l);const o={fileId:t,blob:e.blob,updatedTime:e.updatedTime,fetchedAt:Date.now(),accountKey:r||void 0};await Lh(o),Bh(e.fileId,t),cl(t,e.blob)}async function yi(e){e&&Fh("cache clear",{reason:e});for(const t of Tr.values())URL.revokeObjectURL(t.url);Tr.clear(),hi.clear(),gi.clear(),Bo=null,js(),await uv()}function Wh({studentId:e,fullName:t,photoFileId:n,photoUpdatedAt:r,driveClient:s,driveSession:l,driveAccountKey:o}){const[u,c]=f.useState(null),[d,x]=f.useState(null),[N,v]=f.useState(!1),j=f.useMemo(()=>String(e),[e]),b=f.useMemo(()=>n?String(n):"",[n]),k=(l==null?void 0:l.accessToken)||"",Y=o||"";return f.useEffect(()=>{let h=!0;const p=new AbortController;return b?(v(!0),c(null),Tv({photoFileId:b,photoUpdatedAt:r,driveClient:s,driveSession:l,signal:p.signal}).then(y=>{h&&(c(y.url),x(y.fileId))}).catch(()=>{h&&(c(null),x(null))}).finally(()=>{h&&v(!1)}),()=>{h=!1,p.abort()}):(c(null),x(null),v(!1),()=>{h=!1,p.abort()})},[j,b,r,s,l,k,Y,t]),{photoUrl:u,fileId:d,loading:N}}const Vf=72,Iv=64,Av={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","6xl":"max-w-6xl","7xl":"max-w-7xl"};function Lv({isOpen:e,onRequestClose:t,title:n,subtitle:r,headerRight:s,footer:l,children:o,maxWidth:u="6xl",bodyClassName:c,bodyPadding:d=!0,showCloseX:x=!1}){if(f.useEffect(()=>{if(!e)return;const j=b=>{b.key==="Escape"&&t()};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[e,t]),!e)return null;const N=l?`max-h-[calc(90vh-${Vf}px-${Iv}px)]`:`max-h-[calc(90vh-${Vf}px)]`,v=d?"px-5 py-4":"";return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-50 bg-black/40",style:{width:"100dvw",height:"100dvh"},onMouseDown:t}),i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{width:"100dvw",height:"100dvh"},children:i.jsxs("div",{role:"dialog","aria-modal":"true",className:`relative w-full rounded-xl bg-white shadow-xl border border-slate-200 max-h-[90vh] overflow-hidden ${Av[u]}`,onMouseDown:j=>j.stopPropagation(),children:[i.jsx("div",{className:"border-b border-slate-200 px-5 py-4 bg-white",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"min-w-0",children:[n&&i.jsx("div",{className:"text-lg font-semibold text-slate-900",children:n}),r&&i.jsx("div",{className:"text-sm text-slate-500",children:r})]}),(s||x)&&i.jsxs("div",{className:"flex items-center gap-2",children:[s,x&&i.jsx("button",{type:"button","aria-label":"Close",onClick:t,className:"rounded-md p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:i.jsx("span",{"aria-hidden":"true",className:"text-lg leading-none",children:""})})]})]})}),i.jsx("div",{className:`overflow-y-auto overscroll-contain ${N} ${v} ${c??""}`,children:o}),l&&i.jsx("div",{className:"border-t border-slate-200 px-5 py-4 bg-slate-50",children:l})]})})]})}const Ov="newui_constraints_v1";function Mv(){try{const e=localStorage.getItem(Ov);return e?{byPeriod:JSON.parse(e).byPeriod||{}}:{byPeriod:{}}}catch{return{byPeriod:{}}}}function Fv(){return Mv()}const Hh=f.createContext(null);function Uv({children:e}){const[t,n]=f.useState([]),r=f.useCallback(o=>{n(u=>u.filter(c=>c.id!==o))},[]),s=f.useCallback(o=>{const u=`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,c=o.tone||"info",d=o.duration??4e3;n(x=>[...x,{...o,id:u,tone:c}]),d>0&&typeof window<"u"&&window.setTimeout(()=>r(u),d)},[r]),l=f.useMemo(()=>s,[s]);return i.jsxs(Hh.Provider,{value:l,children:[e,i.jsx("div",{className:"pointer-events-none fixed top-6 left-1/2 -translate-x-1/2 z-[1000] flex flex-col gap-4 w-full max-w-lg items-center",children:t.map(o=>{const u=o.tone==="success"?"bg-emerald-600 text-white shadow-emerald-500/40":o.tone==="error"?"bg-rose-600 text-white shadow-rose-500/40":o.tone==="warning"?"bg-amber-500 text-slate-900 shadow-amber-400/40":"bg-slate-800 text-white shadow-slate-900/40";return i.jsxs("div",{className:`pointer-events-auto rounded-3xl px-5 py-4 shadow-2xl flex items-start gap-4 text-base font-semibold w-full ${u}`,children:[i.jsx("div",{className:"flex-1 text-sm font-semibold",children:o.message}),i.jsx("button",{className:"text-base font-bold opacity-80 hover:opacity-100",onClick:()=>r(o.id),"aria-label":"Dismiss notification",children:""})]},o.id)})})]})}function Vh(){const e=f.useContext(Hh);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const zv="newui_history_v1";function $v(){try{const e=localStorage.getItem(zv);return e?{byPeriod:JSON.parse(e).byPeriod||{}}:{byPeriod:{}}}catch{return{byPeriod:{}}}}function Bv(){return $v()}console.log(" GroupingAlgorithm.js (FIXED v2) file loaded!");console.log(" GroupingAlgorithm v2 loaded successfully!");const Wv="newui_groupings_v1";function Hv(){try{const e=localStorage.getItem(Wv);return e?{byPeriod:JSON.parse(e).byPeriod||{}}:{byPeriod:{}}}catch{return{byPeriod:{}}}}function Vv(){return Hv()}const Kv="newui_print_settings_v1",Gv={seatingChartEditor:{lastUpdated:new Date(0).toISOString()}};function Qv(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function nl(e,t,n,r){const s=typeof e=="number"?e:parseFloat(String(e));return Number.isFinite(s)?Math.min(r,Math.max(n,s)):t}function Yv(e){return e==="a4"||e==="legal"||e==="tabloid"?e:"letter"}function Jv(e){return Array.isArray(e)?e.filter(t=>typeof t=="string"||typeof t=="number"):null}function Xv(){const e=Qv(localStorage.getItem(Kv)),t=(e==null?void 0:e.seatingChartEditor)??{};return{seatingChartEditor:{paper:Yv(t.paper),orientation:t.orientation==="portrait"?"portrait":"landscape",marginMode:t.marginMode==="max"?"max":"safe",showPhotos:t.showPhotos!==!1,showTags:t.showTags!==!1,showSeatNumbers:t.showSeatNumbers===!0,selectedTagIds:Jv(t.selectedTagIds),textScale:nl(t.textScale,1,.5,2.5),photoScale:nl(t.photoScale,1,.5,2),zoom:nl(t.zoom,1,.1,4),offsetX:nl(t.offsetX,0,-5e3,5e3),offsetY:nl(t.offsetY,0,-5e3,5e3),lastUpdated:typeof t.lastUpdated=="string"?t.lastUpdated:Gv.seatingChartEditor.lastUpdated}}}function Kh(e,t=50){const n=t>0?t:50,r=Math.ceil(n*.9),s=Math.ceil(n*.7),l=Math.ceil(n*.5);return e>=r?{label:"Good Standing",color:"green",emoji:"",min:r}:e>=s?{label:"Caution",color:"yellow",emoji:"",min:s,max:r-1}:e>=l?{label:"Warning",color:"orange",emoji:"",min:l,max:s-1}:{label:"Alert",color:"red",emoji:"",min:0,max:l-1}}function qv(){return{periods:Du().periods.map(t=>({id:t.id,behaviorNotes:t.behaviorNotes||{},pointsByStudent:t.pointsByStudent||{},pointsHistory:t.pointsHistory||[],pointsEnabled:t.pointsEnabled,startingPoints:t.startingPoints}))}}const Zv=e=>{const[t,n,r]=e.split("-").map(s=>Number(s));return!Number.isFinite(t)||!Number.isFinite(n)||!Number.isFinite(r)?null:new Date(Date.UTC(t,n-1,r))},ew=e=>{const t=e.getUTCFullYear(),n=String(e.getUTCMonth()+1).padStart(2,"0"),r=String(e.getUTCDate()).padStart(2,"0");return`${t}-${n}-${r}`},tw=e=>{const t=Zv(e);return t?(t.setUTCDate(t.getUTCDate()-1),ew(t)):e},Gh=(e,t,n)=>{if(!e)return null;const r=e[String(t)];return r&&r[n]||null},nw=e=>{if(!e)return null;const t=Object.keys(e);return t.length===0?null:t.reduce((n,r)=>r<n?r:n,t[0])};function rl(e){var x;const{attendance:t,studentId:n,date:r,status:s,resets:l}=e;if(!t)return 0;const o=String(n),c=Gh(l,n,s==="left_early"?"leftEarly":s==="tardy"?"tardy":"absent");let d=0;for(const N of Object.keys(t))N>r||c&&N<c||((x=t[N])==null?void 0:x[o])===s&&(d+=1);return d}function rw(e){var N,v;const{attendance:t,studentId:n,date:r,resets:s}=e;if(!t)return 0;const l=String(n);if((((N=t[r])==null?void 0:N[l])||"unmarked")!=="absent")return 0;const u=Gh(s,n,"absent");if(u&&r<u)return 0;const c=nw(t);let d=r,x=0;for(;!(u&&d<u);){const j=((v=t[d])==null?void 0:v[l])||"unmarked";if(j==="absent")x+=1;else if(j!=="unmarked")break;if(!c||d<=c)break;d=tw(d)}return x}const Qh="https://www.classseats.com/updates",Fc="https://classseats.com",sw=`${Fc}/privacy.html`,lw=`${Fc}/terms.html`;function ow({variant:e="floating",className:t}){const n=new Date().getFullYear(),r=i.jsxs("div",{className:"w-full max-w-[420px] rounded-xl border border-indigo-100 bg-white/95 px-3 py-3 text-left text-slate-800 shadow-lg backdrop-blur",children:[i.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-indigo-700 flex flex-wrap items-center gap-1",children:["Early Access   ",n," ClassSeats "," ",i.jsx("a",{href:Qh,target:"_blank",rel:"noreferrer",className:"text-indigo-700 underline decoration-indigo-300 decoration-2 underline-offset-4 hover:text-indigo-800",children:"Get updates"})]}),i.jsx("p",{className:"mt-1 text-[11px] leading-snug text-slate-700",children:"ClassSeats is in active development. Features and pricing may change."})]});return e==="floating"?i.jsx("div",{className:`pointer-events-none fixed bottom-3 left-3 right-3 z-40 flex justify-end md:left-auto md:right-4 md:max-w-[420px] ${t??""}`,children:i.jsx("div",{className:"pointer-events-auto w-full md:w-auto",children:r})}):i.jsx("div",{className:t,children:r})}const iw="0.1.0",aw=new Date().toLocaleDateString();function uw({open:e,onClose:t,buildRevision:n}){const r=new Date().getFullYear();return e?i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),i.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl bg-white p-6 shadow-2xl",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-indigo-700",children:"ClassSeats (Early Access)"}),i.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"About"})]}),i.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:t,"aria-label":"Close about",children:""})]}),i.jsx("p",{className:"mt-2 text-sm leading-relaxed text-slate-700",children:"ClassSeats is in active development. Features and pricing may change. Data is stored in your Google Drive or locally on your device  ClassSeats does not store student data on its servers."}),i.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-3 text-sm text-slate-800 space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-semibold",children:"App version"}),i.jsx("span",{children:iw})]}),n&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-semibold",children:"Build revision"}),i.jsxs("span",{children:["Rev ",n]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-semibold",children:"Build date"}),i.jsx("span",{children:aw})]})]}),i.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[i.jsx(jo,{href:Fc,label:"Home"}),i.jsx(jo,{href:sw,label:"Privacy"}),i.jsx(jo,{href:lw,label:"Terms"}),i.jsx(jo,{href:Qh,label:"Get updates"})]}),i.jsxs("p",{className:"mt-4 text-[11px] text-slate-500",children:[" ",r," ClassSeats. All rights reserved."]}),i.jsx("p",{className:"mt-1 text-[10px] text-slate-400",children:"Google Drive is a trademark of Google LLC"})]})]}):null}function jo({href:e,label:t}){return i.jsxs("a",{href:e,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-800 shadow-sm hover:border-indigo-200 hover:text-indigo-700",children:[t,i.jsx("span",{"aria-hidden":"true",children:""})]})}function cw({current:e,onGoDesktop:t,onGoMobile:n}){const r="px-3 py-1.5 text-xs font-semibold rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",s="bg-slate-900 text-white",l="bg-white text-slate-700 border border-slate-200 hover:bg-slate-50";return i.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-white/80 p-1 shadow-sm",children:[i.jsx("button",{type:"button","aria-pressed":e==="desktop",className:`${r} ${e==="desktop"?s:l}`,onClick:t,children:"Desktop"}),i.jsx("button",{type:"button","aria-pressed":e==="mobile",className:`${r} ${e==="mobile"?s:l}`,onClick:n,children:"Mobile"})]})}function dw(){var n;if(typeof navigator>"u")return!1;const e=(n=navigator.userAgentData)==null?void 0:n.mobile;if(typeof e=="boolean")return e;const t=navigator.userAgent||"";return/iPhone|Android.+Mobile|Windows Phone|iPod/i.test(t)}function fw(e,t,n){const r=Du().currentId,s=r!=null?String(r):null,l=new Date().toISOString();return{schemaVersion:1,version:1,exportedAt:l,updatedAt:l,lastWriter:"unknown",layouts:ax(),periodsState:Du(),lastEditedPeriodId:s,lastEditedDate:null,students:n||yx(),tags:px(),behaviorState:qv(),constraintsState:Fv(),historyState:Bv(),groupingsState:Vv(),printSettings:Xv()}}const Yr=e=>!!e&&typeof e=="object",pw=e=>e===!0||e==="true"||e===1||e==="1",Yh=e=>{const t=typeof e=="number"?e:parseInt(String(e),10);return Number.isFinite(t)&&Number.isInteger(t)?t:null};function mw(e,t){if(!Array.isArray(e))return[];const n=[];for(const r of e){const s=Yh(r);s!=null&&(s<0||s>=t||n.push(s))}return Array.from(new Set(n)).sort((r,s)=>r-s)}function hw(e){var u;if(!e||typeof e!="object"||(e.schemaVersion??(e.version===1?1:void 0))!==1)return null;const n=typeof e.exportedAt=="string"?e.exportedAt:new Date().toISOString(),r=typeof e.updatedAt=="string"?e.updatedAt:n,s=e.lastWriter==="desktop"||e.lastWriter==="mobile"||e.lastWriter==="unknown"?e.lastWriter:"unknown",l={...e,schemaVersion:1,version:e.version??1,exportedAt:n,updatedAt:r,lastWriter:s};if(l.behaviorState=Yr(e.behaviorState)?e.behaviorState:{},!Yr(l.periodsState)||!Array.isArray((u=l.periodsState)==null?void 0:u.periods)||!Array.isArray(l.students)||!Array.isArray(l.layouts)||!Yr(l.behaviorState)||!Yr(l.constraintsState)||!Yr(l.historyState)||!Yr(l.groupingsState))return null;switch((e.schemaVersion!==l.schemaVersion||e.updatedAt!==l.updatedAt||e.exportedAt!==l.exportedAt||e.lastWriter!==l.lastWriter)&&console.log("[Payload] migrated to schema v1",{hadSchemaVersion:e.schemaVersion,hadVersion:e.version,addedUpdatedAt:e.updatedAt!==l.updatedAt,addedLastWriter:e.lastWriter!==l.lastWriter}),l.schemaVersion){case 1:return l.students=(l.students||[]).map(c=>({...c,needsPreferredSeating:pw(c.needsPreferredSeating),quickNote:(typeof c.quickNote=="string",c.quickNote),quickNoteUpdatedAt:(typeof c.quickNoteUpdatedAt=="string",c.quickNoteUpdatedAt),photoFileId:typeof c.photoFileId=="string"?c.photoFileId:c.photoFileId==null?null:String(c.photoFileId),photoUpdatedAt:Yh(c.photoUpdatedAt)})),l.layouts=(l.layouts||[]).map(c=>({...c,tables:(c.tables||[]).map(d=>{const x=Math.max(0,d.capacity||0);return{...d,preferredSeatIndexes:mw(d.preferredSeatIndexes,x),seatLayout:Nh(x||1,d.rotation||0,d.seatLayout||null)}})})),l;default:return null}}function gw(e){return e.isOffline?{action:"skip",reason:"offline"}:e.isLocked?{action:"skip",reason:"locked"}:e.inFlight?{action:"skip",reason:"in-flight"}:e.hasFile?e.dirty?{action:"upload",reason:"ready"}:{action:"skip",reason:"clean"}:{action:"skip",reason:"no-file"}}function yw(e){const t=e.graceMs;return e.isOffline?{action:"skip",reason:"offline"}:e.isLocked?{action:"skip",reason:"locked"}:e.inFlight?{action:"skip",reason:"in-flight"}:e.dirty?{action:"skip",reason:"dirty"}:e.lastLocalEditAt&&e.now-e.lastLocalEditAt<t?{action:"skip",reason:"grace-window"}:{action:"pull",reason:"ready"}}function xw(e){const t=e.incomingUpdatedAt?Date.parse(e.incomingUpdatedAt):NaN,n=e.lastAppliedUpdatedAt?Date.parse(e.lastAppliedUpdatedAt):NaN;return Number.isFinite(t)&&Number.isFinite(n)&&t<=n?{action:"skip",reason:"stale-updatedAt"}:e.incomingRevisionId&&e.lastRevisionId&&e.incomingRevisionId===e.lastRevisionId?{action:"skip",reason:"same-revision"}:{action:"apply",reason:"fresh"}}const vw=new Set(["students","periodsState","layouts","tags","constraintsState","historyState","groupingsState","behaviorNotes","attendance","notes","alerts","payload"]),Au=(e,t,n)=>{if(vw.has(t))return"[omitted]";if(typeof e=="string")return e.length>200?`[string ${e.length}]`:e;if(Array.isArray(e)){const r=e.slice(0,5).map(s=>Au(s,"",n+1));return e.length>5&&r.push(`[+${e.length-5} more]`),n>1?`[array len=${e.length}]`:r}if(e&&typeof e=="object"){if(n>1)return"[object]";const r=Object.entries(e).slice(0,10).map(([s,l])=>[s,Au(l,s,n+1)]);return r.length===0?e:Object.fromEntries(r)}return e};function sl(e,t){if(!(typeof console>"u"))try{const n=t?Au(t,"",0):void 0;n!==void 0?console.log(e,n):console.log(e)}catch{console.log(e)}}const Kf=e=>e?{...e}:{},Gf=(e,t)=>{if(t.size===0)return e;const n={...e};return t.forEach(r=>{delete n[r]}),n},ww=e=>{if(!e||typeof e!="object"||typeof e.note!="string")return null;const t=typeof e.timestamp=="string"?e.timestamp:"";return{note:e.note,timestamp:t}},Sw=e=>{const t=e!=null&&e.note&&typeof e.note=="object"?e.note:e,n={};return Object.entries(t||{}).forEach(([r,s])=>{const l=ww(s);l&&(n[String(r)]=l)}),n};function Qf(e,t,n){const r={};return Object.entries(e||{}).forEach(([l,o])=>{const u=Gf(Kf(o),n);Object.keys(u).length>0&&(r[l]=u)}),t&&Object.entries(t).forEach(([l,o])=>{const u=Gf(Kf(o),n);Object.keys(u).length===0?delete r[l]:r[l]=u}),r}function Yf(e,t,n,r){const s={};return Object.entries(e||{}).forEach(([o,u])=>{const c={};Object.entries(Sw(u)).forEach(([d,x])=>{n.has(d)||(c[d]=x)}),Object.keys(c).length>0&&(s[o]=c)}),t&&Object.entries(t).forEach(([o,u])=>{const c=s[o]||{},d={};Object.entries(u||{}).forEach(([x,N])=>{if(n.has(x))return;const v=c[x];v&&v.note===N?d[x]=v:d[x]={note:N,timestamp:r}}),Object.keys(d).length===0?delete s[o]:s[o]=d}),s}function Nw({children:e}){return i.jsx(i.Fragment,{children:e})}function kw(e){const t=e.slice();for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}function Ut(e){return String(e)}function Jf(e){try{const t=localStorage.getItem(e);if(!t)return new Set;const n=JSON.parse(t);return Array.isArray(n)?new Set(n.map(String)):new Set}catch{return new Set}}function Aa(e,t){try{localStorage.setItem(e,JSON.stringify(Array.from(t)))}catch{}}function Xf({open:e,title:t,body:n,confirmText:r,cancelText:s,onConfirm:l,onCancel:o,danger:u}){return e?i.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center p-4 sm:items-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:o}),i.jsxs("div",{className:"relative w-full max-w-md overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-2xl",children:[i.jsxs("div",{className:"space-y-2 p-5",children:[i.jsx("div",{className:"text-base font-semibold text-slate-900",children:t}),i.jsx("div",{className:"text-sm text-slate-600",children:n})]}),i.jsxs("div",{className:"flex gap-2 p-4 pt-0",children:[i.jsx("button",{className:"flex-1 rounded-xl border border-slate-200 bg-white px-4 py-2.5 text-sm font-semibold text-slate-700 hover:bg-slate-50",onClick:o,children:s}),i.jsx("button",{className:`flex-1 rounded-xl px-4 py-2.5 text-sm font-semibold text-white ${u?"bg-rose-600 hover:bg-rose-700":"bg-violet-600 hover:bg-violet-700"}`,onClick:l,children:r})]})]})]}):null}function jw({students:e,periodId:t,driveFileId:n,driveClient:r,driveSession:s}){const l=n??"local",o=`cs_mobile_flashcards_learned_v1:${l}:${t}`,[u,c]=f.useState(!1),[d,x]=f.useState(()=>Jf(o)),N=f.useRef(d);f.useEffect(()=>{N.current=d},[d]),f.useEffect(()=>{const G=Jf(o);N.current=G,x(G),c(!1)},[o]);const v=e.length,[j,b]=f.useState([]),[k,Y]=f.useState(0),[h,p]=f.useState(!1),[y,E]=f.useState(null),[A,M]=f.useState(null),F=f.useMemo(()=>{if(u)return e;const G=d;return e.filter(re=>!G.has(Ut(re.id))||Ut(re.id)===y)},[e,u,d,y]),$=f.useMemo(()=>e.map(G=>Ut(G.id)).join("|"),[e]),de=f.useMemo(()=>F.map(G=>Ut(G.id)).join("|"),[F]),q=f.useMemo(()=>{const G=new Set(e.map(le=>Ut(le.id)));let re=0;return d.forEach(le=>{G.has(le)&&re++}),re},[e,d]),Se=Math.max(0,v-q),[qe,Ze]=f.useState(!1),[ne,Me]=f.useState(!1);f.useEffect(()=>{const G=N.current,re=(u?e:e.filter(le=>!G.has(Ut(le.id)))).map(le=>Ut(le.id));b(re),Y(0),p(!1),E(null),M(null)},[u,t,l,$]),f.useEffect(()=>{const G=new Set(F.map(re=>Ut(re.id)));b(re=>{const le=re.filter(je=>G.has(je));return le.length===re.length?re:(Y(je=>Math.min(je,Math.max(0,le.length-1))),le)})},[de]);const O=f.useMemo(()=>new Map(F.map(G=>[Ut(G.id),G])),[F]),ge=j[k]??null,T=ge?O.get(ge)??null:null,{photoUrl:K}=Wh({studentId:(T==null?void 0:T.id)??"unknown",fullName:(T==null?void 0:T.fullName)??null,photoFileId:(T==null?void 0:T.photoFileId)??null,photoUpdatedAt:(T==null?void 0:T.photoUpdatedAt)??null,driveClient:r,driveSession:s}),X=G=>!ge||y!==ge||u?!1:(b(re=>{const le=re.filter(je=>je!==ge);return Y(je=>le.length===0?0:G==="prev"?Math.max(0,je-1):Math.min(je,le.length-1)),le}),E(null),!0),me=()=>{p(!1),M(null),!X("next")&&Y(G=>j.length===0?0:Math.min(G+1,j.length-1))},he=()=>{p(!1),M(null),!X("prev")&&Y(G=>Math.max(0,G-1))},Kt=()=>{if(!T)return;const G=Ut(T.id);M(null),x(re=>{const le=new Set(re);return le.add(G),Aa(o,le),le}),E(G)},L=()=>{if(!T)return;const G=Ut(T.id);E(null),M(re=>re===G?null:G),x(re=>{if(!re.has(G))return re;const le=new Set(re);return le.delete(G),Aa(o,le),le})},Fe=()=>{Ze(!1),p(!1),E(null),M(null),b(G=>kw(G)),Y(0)},$e=()=>{Me(!1),p(!1),E(null),M(null);const G=new Set;x(G),Aa(o,G);const re=e.map(le=>Ut(le.id));b(re),Y(0)},Be=!u&&Se===0&&v>0;return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Flashcards"}),i.jsxs("div",{className:"text-xs text-slate-600",children:["Learned ",q," / ",v,"  Remaining ",Se]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50",disabled:j.length<2,onClick:()=>Ze(!0),children:"Shuffle"}),i.jsx("button",{className:`rounded-xl border px-3 py-2 text-xs font-semibold ${u?"border-violet-200 bg-violet-50 text-violet-900":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"}`,onClick:()=>{c(G=>!G),p(!1),E(null),M(null)},children:u?"Including learned":"Include learned"}),i.jsx("button",{className:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-2 text-xs font-semibold text-rose-700 hover:bg-rose-100",onClick:()=>Me(!0),children:"Clear learned"})]})]}),Be?i.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 text-center space-y-2",children:[i.jsx("div",{className:"text-base font-semibold text-slate-900",children:"All learned!"}),i.jsx("div",{className:"text-sm text-slate-600",children:"Youve marked everyone in this period as learned."}),i.jsxs("div",{className:"flex flex-col gap-2 pt-2",children:[i.jsx("button",{className:"rounded-xl bg-violet-600 px-4 py-3 text-sm font-semibold text-white hover:bg-violet-700",onClick:()=>c(!0),children:"Review learned students"}),i.jsx("button",{className:"rounded-xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm font-semibold text-rose-700 hover:bg-rose-100",onClick:()=>Me(!0),children:"Clear learned for this period"})]})]}):i.jsx("div",{className:"space-y-3",children:T?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"relative w-full",style:{perspective:1200},children:i.jsx("button",{type:"button",onClick:()=>p(G=>!G),className:"w-full text-left","aria-label":"Flip flashcard",children:i.jsxs("div",{className:"relative h-[380px] w-full",style:{transformStyle:"preserve-3d",transition:"transform 420ms cubic-bezier(0.2, 0.8, 0.2, 1)",transform:h?"rotateY(180deg)":"rotateY(0deg)"},children:[i.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-xl",style:{backfaceVisibility:"hidden"},children:i.jsxs("div",{className:"h-full w-full bg-slate-50 flex items-center justify-center",children:[K?i.jsx("img",{src:K,alt:"",className:"h-full w-full object-cover"}):i.jsxs("div",{className:"p-6 text-center",children:[i.jsx("div",{className:"mx-auto flex h-20 w-20 items-center justify-center rounded-2xl bg-slate-200 text-2xl font-bold text-slate-700",children:T.fullName.split(" ").slice(0,2).map(G=>{var re;return((re=G[0])==null?void 0:re.toUpperCase())??""}).join("")}),i.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"No photo"})]}),i.jsx("div",{className:"absolute bottom-3 left-0 right-0 text-center text-xs font-semibold text-slate-500",children:"Tap to flip"})]})}),i.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-xl",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:i.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center p-6 text-center",children:[i.jsx("div",{className:"text-2xl font-bold leading-tight text-slate-900",children:T.fullName}),i.jsx("div",{className:"mt-2 text-sm text-slate-600",children:"Tap again to see photo"}),i.jsxs("div",{className:"mt-6 w-full max-w-sm space-y-2",children:[i.jsx("button",{className:`w-full rounded-2xl px-4 py-3 text-sm font-semibold transition ${y===ge?"bg-emerald-600 text-white hover:bg-emerald-700":"border border-slate-200 bg-white text-slate-800 hover:bg-slate-50"}`,onClick:G=>{G.preventDefault(),G.stopPropagation(),Kt()},children:" Ive learned this"}),i.jsx("button",{className:`w-full rounded-2xl px-4 py-3 text-sm font-semibold transition ${A===ge?"bg-violet-600 text-white hover:bg-violet-700":"border border-slate-200 bg-white text-slate-800 hover:bg-slate-50"}`,onClick:G=>{G.preventDefault(),G.stopPropagation(),L()},children:" Still learning"})]})]})})]})})}),i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("button",{className:"flex-1 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50",disabled:k===0,onClick:he,children:"Prev"}),i.jsx("div",{className:"px-2 text-xs font-semibold text-slate-500",children:j.length===0?"0 / 0":`${k+1} / ${j.length}`}),i.jsx("button",{className:"flex-1 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50",disabled:j.length===0||k>=j.length-1,onClick:me,children:"Next"})]})]}):i.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 text-center space-y-2",children:[i.jsx("div",{className:"text-base font-semibold text-slate-900",children:"No students found."}),i.jsx("div",{className:"text-sm text-slate-600",children:"This period doesnt have any students yet."})]})}),i.jsx(Xf,{open:qe,title:"Shuffle deck?",body:"This will randomize the order of the current deck once.",confirmText:"Shuffle",cancelText:"Cancel",onConfirm:Fe,onCancel:()=>Ze(!1)}),i.jsx(Xf,{open:ne,title:"Clear learned students?",body:"This resets learned progress for this period on this device.",confirmText:"Clear",cancelText:"Cancel",danger:!0,onConfirm:$e,onCancel:()=>Me(!1)})]})}const bw=.85,Cw=900,Ew=1200,_w=4,Pw=60,Tw=160;function Rw({studentId:e,studentFullName:t,existingPhotoFileId:n,open:r,onClose:s,onAccept:l,onUploadComplete:o,title:u="Take Photo"}){const c=Vh(),d=f.useRef(null),x=f.useRef(null),N=f.useRef(null),v=f.useRef(null),j=f.useRef(null),b=f.useRef(!1),k=f.useRef(new Map),Y=f.useRef(null),h=f.useRef(null),p=f.useRef(1),y=f.useRef(null),E=f.useRef(null),[A,M]=f.useState(null),[F,$]=f.useState(!1),[de,q]=f.useState(!1),[Se,qe]=f.useState(!1),[Ze,ne]=f.useState(1),[Me,O]=f.useState(!1),[ge,T]=f.useState(!1),K=f.useRef(null),X=f.useMemo(()=>{if(typeof navigator>"u")return{isIOS:!1,isAndroid:!1};const U=navigator.userAgent||"",z=/iPad|iPhone|iPod/i.test(U)||U.includes("Mac")&&typeof document<"u"&&"ontouchend"in document,H=/Android/i.test(U);return{isIOS:z,isAndroid:H}},[]),me=()=>{k.current.clear(),Y.current=null,y.current&&(cancelAnimationFrame(y.current),y.current=null),E.current=null},he=()=>{v.current=null,h.current=null,p.current=1,ne(1),qe(!1),me()},Kt=()=>(K.current||(K.current=document.createElement("canvas")),K.current),L=U=>{const z=Kt(),H=z.getContext("2d");if(!H)return 0;const Q=Tw,ie=Math.max(U.width,U.height)/Q,fe=Math.max(1,Math.round(U.width/(ie||1))),be=Math.max(1,Math.round(U.height/(ie||1)));z.width=fe,z.height=be,H.drawImage(U,0,0,fe,be);const Te=H.getImageData(0,0,fe,be).data;let We=0;for(let Ce=0;Ce<be;Ce++){const nn=Ce*fe*4;for(let mt=0;mt<fe;mt++){const rn=nn+mt*4,Is=(Te[rn]+Te[rn+1]+Te[rn+2])/3;if(mt<fe-1){const Ot=rn+4,Ar=(Te[Ot]+Te[Ot+1]+Te[Ot+2])/3;We+=Math.abs(Is-Ar)}if(Ce<be-1){const Ot=rn+fe*4,Ar=(Te[Ot]+Te[Ot+1]+Te[Ot+2])/3;We+=Math.abs(Is-Ar)}}}return We},Fe=U=>{const{width:z,height:H}=U;if(!z||!H)return U;const Q=Cw/z,ie=Ew/H,fe=Math.min(1,Q,ie);if(fe>=.999)return U;const be=Math.max(1,Math.round(z*fe)),Te=Math.max(1,Math.round(H*fe)),We=document.createElement("canvas");We.width=be,We.height=Te;const Ce=We.getContext("2d");return Ce?(Ce.drawImage(U,0,0,be,Te),We):U},$e=async U=>new Promise(z=>{U.toBlob(H=>{if(H){z(H);return}U.toBlob(Q=>z(Q),"image/png")},"image/jpeg",bw)}),Be=async U=>{const z=Fe(U);return $e(z)},G=async U=>{try{const z=await createImageBitmap(U),H=document.createElement("canvas");H.width=z.width,H.height=z.height;const Q=H.getContext("2d");if(!Q)return null;if(Q.drawImage(z,0,0),"close"in z)try{z.close()}catch{}return H}catch{return new Promise(z=>{const H=URL.createObjectURL(U),Q=new Image;Q.onload=()=>{const ie=document.createElement("canvas");ie.width=Q.naturalWidth||Q.width,ie.height=Q.naturalHeight||Q.height;const fe=ie.getContext("2d");if(URL.revokeObjectURL(H),!fe){z(null);return}fe.drawImage(Q,0,0),z(ie)},Q.onerror=()=>{URL.revokeObjectURL(H),z(null)},Q.src=H})}},re=async(U,z)=>{const H=d.current,Q=x.current;if(!H||!Q)return null;const ie=H.videoWidth,fe=H.videoHeight;if(!ie||!fe)return null;Q.width=ie,Q.height=fe;const be=Q.getContext("2d");if(!be)return null;let Te=-1/0,We=null;for(let Ce=0;Ce<U;Ce++){if(!b.current)return null;Ce===0?await new Promise(mt=>requestAnimationFrame(()=>mt())):z>0&&await new Promise(mt=>setTimeout(mt,z)),be.drawImage(H,0,0,ie,fe);const nn=L(Q);if(nn>=Te){Te=nn,We||(We=document.createElement("canvas")),We.width=ie,We.height=fe;const mt=We.getContext("2d");mt&&mt.drawImage(Q,0,0,ie,fe)}}return We||Q},le=async()=>{if(typeof window>"u")return null;const U=v.current,z=window.ImageCapture;if(!U||!z)return null;try{const H=new z(U);return typeof H.takePhoto!="function"?null:await H.takePhoto()}catch{return null}},je=()=>{N.current&&(N.current.getTracks().forEach(U=>U.stop()),N.current=null),d.current&&(d.current.srcObject=null),he()},It=()=>{A&&URL.revokeObjectURL(A),j.current=null,M(null)},At=()=>{je(),It(),$(!1),O(!1),T(!1),s()},Pn=U=>{const z=h.current;if(!z)return U;let H=Math.min(z.max,Math.max(z.min,U));if(typeof z.step=="number"&&z.step>0){const Q=Math.round((H-z.min)/z.step);H=z.min+Q*z.step,H=Math.min(z.max,Math.max(z.min,H))}return H},ir=U=>{const z=v.current;if(!z)return;const H=Pn(U);E.current=H,!y.current&&(y.current=requestAnimationFrame(()=>{y.current=null;const Q=E.current;E.current=null,typeof Q=="number"&&z.applyConstraints({advanced:[{zoom:Q}]}).then(()=>{p.current=Q,ne(Q)}).catch(()=>{})}))},Lt=async U=>{var z,H;q(!0),$(!1),he();try{let Q;try{Q=await navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:"environment"},width:{ideal:1280},height:{ideal:960},frameRate:{ideal:30}},audio:!1})}catch{Q=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1})}if(!U()){Q.getTracks().forEach(fe=>fe.stop());return}N.current=Q;const ie=Q.getVideoTracks()[0]||null;if(v.current=ie,ie){const fe=(z=ie.getCapabilities)==null?void 0:z.call(ie),be=fe==null?void 0:fe.zoom;if(be&&typeof be.min=="number"&&typeof be.max=="number"){h.current={min:be.min,max:be.max,step:typeof be.step=="number"?be.step:void 0};const Te=(H=ie.getSettings)==null?void 0:H.call(ie),We=typeof(Te==null?void 0:Te.zoom)=="number"?Te.zoom:be.min,Ce=Pn(We);p.current=Ce,ne(Ce),qe(!0)}}if(d.current){d.current.srcObject=Q;try{await d.current.play()}catch{}}}catch{U()&&$(!0),je()}finally{U()&&q(!1)}};f.useEffect(()=>{let U=!0;return b.current=r,r?Lt(()=>U):(je(),It(),$(!1),T(!1)),()=>{U=!1,b.current=!1,je(),It(),$(!1),T(!1)}},[r]);const fn=async()=>{if(!ge){T(!0);try{let U=null;if(X.isAndroid){const H=await le();if(H){const Q=await G(H);Q&&(U=await Be(Q))}}if(!U){const H=X.isIOS?_w:1,Q=X.isIOS?Pw:0,ie=await re(H,Q);ie&&(U=await Be(ie))}if(!U)return;j.current=U;const z=URL.createObjectURL(U);M(z),je()}finally{T(!1)}}},at=async()=>{if(Me)return;const U=j.current;if(U){l(U),O(!0);try{const z=n?null:await Rv({studentId:e,fullName:t}),H=await qx({studentId:e,studentFullName:t,jpegBlob:U,fileId:n||(z==null?void 0:z.fileId)}),Q=Date.now();await Dv({studentId:e,fullName:t,fileId:H.fileId,updatedTime:H.modifiedTime,photoUpdatedAt:Q,blob:U}),o==null||o({fileId:H.fileId,photoUpdatedAt:Q}),At()}catch(z){O(!1);const Q=(z instanceof Error?z.message:"").toLowerCase();Q.includes("sign in")&&Q.includes("drive")?c({message:"Please reconnect Google Drive to upload photos.",tone:"error"}):c({message:"Couldn't upload the photo. Your preview is still saved here - try again.",tone:"error"})}}},zi=()=>{It(),T(!1),Lt(()=>b.current)},Rs=U=>{if(!(!Se||A)&&(U.preventDefault(),U.currentTarget.setPointerCapture(U.pointerId),k.current.set(U.pointerId,{x:U.clientX,y:U.clientY}),k.current.size===2)){const z=Array.from(k.current.values()),H=Math.hypot(z[0].x-z[1].x,z[0].y-z[1].y);Y.current={initialDistance:H,initialZoom:p.current}}},ar=U=>{if(!Se||A||!k.current.has(U.pointerId)||(U.preventDefault(),k.current.set(U.pointerId,{x:U.clientX,y:U.clientY}),k.current.size<2||!Y.current))return;const z=Array.from(k.current.values()),H=Math.hypot(z[0].x-z[1].x,z[0].y-z[1].y);if(Y.current.initialDistance<=0)return;const Q=H/Y.current.initialDistance,ie=Y.current.initialZoom*Q;ir(ie)},Ds=U=>{Se&&(k.current.delete(U.pointerId),k.current.size<2&&(Y.current=null))};if(!r)return null;const Tn=Se&&!A;return i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:At}),i.jsxs("div",{className:"relative w-full max-w-md rounded-2xl bg-white p-4 shadow-2xl space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-sm font-semibold text-slate-800",children:u}),i.jsx("button",{type:"button",className:"text-slate-500 hover:text-slate-700",onClick:At,"aria-label":"Close",children:""})]}),F?i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-slate-600",children:"Camera unavailable. Check permissions and try again."}),i.jsx("button",{type:"button",className:"w-full rounded-lg bg-slate-900 text-white font-semibold py-2 text-sm",onClick:At,children:"Close"})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"w-full aspect-[3/4] rounded-xl bg-slate-100 overflow-hidden flex items-center justify-center",onPointerDown:Tn?Rs:void 0,onPointerMove:Tn?ar:void 0,onPointerUp:Tn?Ds:void 0,onPointerCancel:Tn?Ds:void 0,style:Tn?{touchAction:"none"}:void 0,children:A?i.jsx("img",{src:A,alt:"",className:"w-full h-full object-cover"}):i.jsx("video",{ref:d,className:"w-full h-full object-cover",playsInline:!0,muted:!0})}),A?i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",className:"flex-1 rounded-lg bg-slate-200 text-slate-800 font-semibold py-2 text-sm disabled:opacity-50",onClick:zi,disabled:Me,children:"Retake"}),i.jsx("button",{type:"button",className:"flex-1 rounded-lg bg-indigo-600 text-white font-semibold py-2 text-sm disabled:opacity-50",onClick:at,disabled:Me,children:Me?"Uploading...":"Accept"})]}):i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",className:"flex-1 rounded-lg bg-indigo-600 text-white font-semibold py-2 text-sm disabled:opacity-50",onClick:fn,disabled:de||ge,children:ge?"Capturing...":"Take Photo"}),i.jsx("button",{type:"button",className:"flex-1 rounded-lg bg-slate-200 text-slate-800 font-semibold py-2 text-sm",onClick:At,children:"Cancel"})]})]})]}),i.jsx("canvas",{ref:x,className:"hidden"})]})}const qf=!1,Zf="605a",Dw="https://app.classseats.app",bo="cs_mobile_last_drive_file",Iw="cs_mobile_local_draft_v2",ep="cs_mobile_students_mode_v1",tp="cs_mobile_notes_sort_v1",np="cs_mobile_table_sort_v1",rp="cs_mobile_seat_number_sort_v1",Aw=14*24*60*60*1e3,sp=2e5,lp=14;function La(e){return e?`${Iw}:${e}`:null}function Jh(e){return/^\d{4}-\d{2}-\d{2}$/.test(e)}function op(e,t){const n={};return Object.entries(e||{}).forEach(([r,s])=>{const l=Object.keys(s||{}).filter(u=>Jh(u));l.sort((u,c)=>c.localeCompare(u)),l.slice(0,t).forEach(u=>{const c=(s==null?void 0:s[u])||{};Object.keys(c).length!==0&&(n[r]||(n[r]={}),n[r][u]={...c})})}),n}function Co(e){const t={};return Object.entries(e||{}).forEach(([n,r])=>{const s={};Object.entries(r||{}).forEach(([l,o])=>{s[l]={...o||{}}}),Object.keys(s).length>0&&(t[n]=s)}),t}function Lw({student:e,attendance:t,points:n,pointsEnabled:r,maxPoints:s,hasNote:l,absenceStreak:o,tardyCount:u,leftEarlyCount:c,onShowAbsenceHelp:d,onShowTardyHelp:x,onShowLeftEarlyHelp:N,seatNumber:v,showSeatNumber:j=!1,statusBg:b,statusLabel:k,tempPhotoUrl:Y,onOpenPhoto:h,onOpenMenu:p,driveClient:y,driveSession:E}){const A=Kh(n,s),{photoUrl:M}=Wh({studentId:e.id,fullName:e.fullName,photoFileId:e.photoFileId,photoUpdatedAt:e.photoUpdatedAt,driveClient:y,driveSession:E}),[F,...$]=(e.fullName||"").split(" "),de=$.join(" "),q=(()=>{switch(t){case"present":return"";case"absent":return"";case"tardy":return"";case"left_early":return"";default:return""}})(),Se=k(t),qe=Y||M,Ze=t==="absent"&&(o||0)>=2,ne=t==="tardy"&&(u||0)>0,Me=t==="left_early"&&(c||0)>0;return i.jsx("div",{className:`w-full rounded-2xl border px-4 py-3 shadow-sm ${b(t)}`,children:i.jsxs("div",{className:"flex items-start gap-2",children:[j&&i.jsx("div",{className:"flex h-[80px] w-8 shrink-0 items-center justify-center text-sm font-semibold text-slate-500",children:v||""}),i.jsx(wx,{studentId:e.id,hasPhoto:!!qe,src:qe,onClick:h,widthPx:60,heightPx:80}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsxs("div",{className:"text-left min-w-0 flex-1",children:[i.jsx("div",{className:"text-base font-bold text-slate-900 leading-tight break-words",children:F}),i.jsx("div",{className:"text-base font-bold text-slate-900 leading-tight break-words",children:de||""})]}),i.jsx("button",{className:"text-xl text-slate-600 px-3 py-2 rounded-full hover:bg-slate-200 flex-shrink-0",onClick:O=>{O.stopPropagation(),p()},children:""})]}),i.jsxs("div",{className:"mt-1 flex items-center justify-between text-sm px-1",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:q}),i.jsx("span",{className:"text-slate-700",children:Se})]}),(Ze||ne||Me)&&i.jsxs("div",{className:"flex items-center gap-2",children:[Ze&&i.jsxs("button",{type:"button",className:"text-[11px] font-semibold text-rose-700 bg-rose-100 border border-rose-200 rounded px-1.5 py-0.5",onClick:d,children:["A",o]}),ne&&i.jsxs("button",{type:"button",className:"text-[11px] font-semibold text-amber-700 bg-amber-100 border border-amber-200 rounded px-1.5 py-0.5",onClick:x,children:["T",u]}),Me&&i.jsxs("button",{type:"button",className:"text-[11px] font-semibold text-orange-700 bg-orange-100 border border-orange-200 rounded px-1.5 py-0.5",onClick:N,children:["LE",c]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[r&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-lg",children:A.emoji}),i.jsx("span",{className:"text-emerald-700 font-semibold",children:n})]}),l&&i.jsx("span",{className:"text-indigo-600 text-lg",children:""})]})]})]})]})})}function Ow(e,t,n){var N,v,j;if(!(e!=null&&e.activeGrouping)||!(e!=null&&e.tableAssignments))return null;let r=-1,s=-1;if(e.activeGrouping.forEach((b,k)=>{const Y=b==null?void 0:b.findIndex(h=>String(h)===String(n));Y!==-1&&(r=k,s=Y)}),r===-1||s===-1)return null;const l=e.tableAssignments[String(r)];if(!l)return null;const o=String(l),u=((N=e.tableNumbering)==null?void 0:N.perTableSeatNumbers)&&e.tableNumbering.perTableSeatNumbers[o],c=(j=(v=t==null?void 0:t.tables)==null?void 0:v.find(b=>String(b.id)===o))==null?void 0:j.seatNumbers,d=u||c;if(!d)return null;const x=d[s];return x!=null?String(x):null}function Oa(e,t){const n=e==null?void 0:e[t];if(!n||typeof n!="object")return{};const r=n.note&&typeof n.note=="object"?n.note:n,s={};return Object.entries(r||{}).forEach(([l,o])=>{o&&typeof o=="object"&&typeof o.note=="string"&&(s[String(l)]=o.note)}),s}function Mw(){var yd,xd,vd;const e=Vh(),t=dw(),n=f.useMemo(()=>vx(),[]),r=f.useMemo(()=>({kind:"web",openExternal:a=>typeof window<"u"?window.open(a,"_blank","noopener,noreferrer"):null}),[]),s=!n.canUseDriveSync,l="Drive sync is disabled.",[o,u]=f.useState(null),[c,d]=f.useState([]),[x,N]=f.useState(!1),[v,j]=f.useState(null),[b,k]=f.useState(()=>s?l:null),[Y,h]=f.useState(!1),[p,y]=f.useState(null),[E,A]=f.useState(!1),[M,F]=f.useState([]),[$,de]=f.useState(""),[q,Se]=f.useState(!1),[qe,Ze]=f.useState(!1),[ne,Me]=f.useState(null),[O,ge]=f.useState(null),[T,K]=f.useState(!1),[X,me]=f.useState(!1),[he,Kt]=f.useState(null),[L,Fe]=f.useState(null),[$e,Be]=f.useState({}),[G,re]=f.useState({}),[le,je]=f.useState({}),[It,At]=f.useState({}),[Pn,ir]=f.useState(null),[Lt,fn]=f.useState({note:"",delta:0,reason:""}),[at,zi]=f.useState({pointsEnabled:!1,startingPoints:50,currentPoints:0,predictedPoints:0}),[Rs,ar]=f.useState(null),[Ds,Tn]=f.useState(""),[U,z]=f.useState(null),[H,Q]=f.useState(null),[ie,fe]=f.useState({}),be=f.useRef({}),[Te,We]=f.useState({}),[Ce,nn]=f.useState(null),[mt,rn]=f.useState(0),[Is,Ot]=f.useState(null),[Ar,$i]=f.useState(""),[et,As]=f.useState(null),[Qw,Xh]=f.useState([]),[Yw,Uc]=f.useState(!1),[Jw,Bi]=f.useState(null),[Xw,qw]=f.useState(!1),[Ae,Gt]=f.useState(null),[Mt,zc]=f.useState(null),[$c,Bc]=f.useState(null),[Rn,Ls]=f.useState(null),[Wi,Lr]=f.useState(null),[Os,Wc]=f.useState(!1),[Vl,Ms]=f.useState(null),[pn,tt]=f.useState(!1),[Zw,mn]=f.useState(null),Hi=typeof navigator<"u"?navigator.onLine:!0,[Hc,Fs]=f.useState(Hi),[Vc,Vi]=f.useState(Hi),[He,Us]=f.useState(!Hi),qh=f.useRef(null),Zh=f.useRef(!1),Dn=f.useRef(!1),eg=f.useRef(15e3),tg=f.useRef(0),Kc=f.useRef(!1),In=f.useRef(!1),Or=f.useRef(!1),Ki=f.useRef(new Set),kt=f.useRef(null),Gc=f.useRef(null),Qc=f.useRef(void 0),Yc=f.useRef(null),Gi=()=>{const a=new Date,m=a.getFullYear(),g=String(a.getMonth()+1).padStart(2,"0"),S=String(a.getDate()).padStart(2,"0");return`${m}-${g}-${S}`},[ee,zs]=f.useState(Gi()),[ur,ng]=f.useState("table"),[jt,Qi]=f.useState(()=>{try{const a=localStorage.getItem(ep);return a==="notes"||a==="flashcards"?a:"attendance"}catch{return"attendance"}});f.useEffect(()=>{try{localStorage.setItem(ep,jt)}catch{}},[jt]);const[Kl,rg]=f.useState(()=>{try{return localStorage.getItem(tp)==="last-first"?"last-first":"first-last"}catch{return"first-last"}});f.useEffect(()=>{try{localStorage.setItem(tp,Kl)}catch{}},[Kl]);const[$s,sg]=f.useState(()=>{try{return localStorage.getItem(np)==="desc"?"desc":"asc"}catch{return"asc"}});f.useEffect(()=>{try{localStorage.setItem(np,$s)}catch{}},[$s]);const[Gl,lg]=f.useState(()=>{try{return localStorage.getItem(rp)==="desc"?"desc":"asc"}catch{return"asc"}});f.useEffect(()=>{try{localStorage.setItem(rp,Gl)}catch{}},[Gl]);const og=f.useMemo(()=>new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}),[]);f.useEffect(()=>{be.current=ie},[ie]),f.useEffect(()=>()=>{Object.values(be.current).forEach(a=>URL.revokeObjectURL(a))},[]);const[Ge,An]=f.useState(!1),Ln=f.useRef(0),bt=f.useRef(null),Jc=f.useRef({}),Xc=f.useRef({}),Ql=f.useRef(null),Mr=f.useRef({}),Fr=f.useRef({}),cr=f.useRef(null),qc=f.useRef(null),Yl=f.useRef(!1),Yi=f.useRef(!1),[Zc,Bs]=f.useState(!1),Jl=f.useRef(0),hn=f.useRef(null),ed=1500,dr=f.useRef(null),Ji=f.useCallback(a=>a?Jc.current[a]??null:null,[]),ht=f.useCallback((a,m)=>{a&&(Jc.current[a]=m||null)},[]),Xl=f.useCallback(a=>a||"__local__",[]),td=f.useCallback(a=>Xc.current[Xl(a)]??null,[Xl]),fr=f.useCallback((a,m)=>{m&&(Xc.current[Xl(a)]=m)},[Xl]),On=f.useCallback(a=>{Mr.current={},Fr.current={};const m=La(a??(O==null?void 0:O.id));if(m)try{window.localStorage.removeItem(m)}catch{}cr.current&&(window.clearTimeout(cr.current),cr.current=null)},[O==null?void 0:O.id]),Ur=f.useCallback((a,m,g)=>{const S=Mr.current;S[a]||(S[a]={}),S[a][m]={...g}},[]),nd=f.useCallback((a,m,g)=>{const S=Fr.current;S[a]||(S[a]={}),S[a][m]={...g}},[]),rd=f.useCallback(()=>{const a=O==null?void 0:O.id,m=La(a);if(!m)return;const g=op(Co(Mr.current),lp),S=op(Co(Fr.current),lp),w={savedAt:Date.now(),lastEditAt:dr.current??Date.now(),selectedDate:ee,selectedPeriodId:et,pendingAttendanceByDate:g,pendingNotesByDate:S,pointsLocal:le,pointsHistoryLocal:It};let C=JSON.stringify(w);if(C.length>sp){const P={...w,pointsHistoryLocal:{}};C=JSON.stringify(P)}if(!(C.length>sp))try{window.localStorage.setItem(m,C)}catch{}},[O==null?void 0:O.id,It,le,ee,et]),sd=f.useCallback(()=>{Ge&&(cr.current&&window.clearTimeout(cr.current),cr.current=window.setTimeout(()=>{rd(),cr.current=null},250))},[Ge,rd]),Xi=a=>{var m;return JSON.stringify({periodsState:((m=a.periodsState)==null?void 0:m.periods)||[],students:a.students||[]})},pr=f.useRef(0),[eS,Ws]=f.useState("unknown"),[tS,qi]=f.useState(0);f.useCallback(async()=>{const a=await hs(o);return a&&u(a),a},[o]);const sn=f.useCallback(a=>{const m=`${new Date().toISOString()} ${a}`;F(g=>[m,...g].slice(0,200))},[]);f.useEffect(()=>{s&&k(l)},[l,s]);const ig=f.useCallback(async()=>{var m;const a=await Rx();if(y(a),sn(`startup info: state=${a.state} sessionLoaded=${a.sessionLoaded} hasRefresh=${a.hasRefresh} expiresAt=${a.expiresAt} source=${a.source} lastWriteAt=${a.lastWriteAt} lastWriteReason=${a.lastWriteReason}`),a.state==="ok"){const g=await Ax();g&&(u(g),(m=g.profile)!=null&&m.email&&k(null))}return a},[sn]),zr=f.useCallback(async a=>{const m=(o==null?void 0:o.expiresAt)||null,g=await hs(o);return sn(`${a}: ensureFreshDriveSession ok=${!!g} before=${m} new=${g==null?void 0:g.expiresAt} hasRefresh=${!!(g!=null&&g.refreshToken)}`),g&&(u(g),h(!1)),g},[o,sn]),ag=f.useCallback(()=>{Jl.current+=1,hn.current&&window.clearTimeout(hn.current),hn.current=window.setTimeout(()=>{Jl.current=0,hn.current=null},2e3),Jl.current>=5&&(A(a=>!a),Jl.current=0,hn.current&&(window.clearTimeout(hn.current),hn.current=null))},[]),ug=()=>{const a=new URL(Dw);new URL(window.location.href).searchParams.forEach((g,S)=>a.searchParams.set(S,g)),a.searchParams.set("from","mobile"),window.location.assign(a.toString())},cg=a=>{var S,w;if(!L)return;const m=L.students.find(C=>String(C.id)===String(a));if(!m)return;const g=((S=m.periodIds)==null?void 0:S[0])||et||((w=L.periods[0])!=null&&w.id?String(L.periods[0].id):"");Ls({name:m.fullName,gender:m.gender||"F",periodId:g?String(g):""}),Bc({id:String(a)})},ql=()=>{Bc(null),Ls(null)},dg=a=>{if(!L)return;const m=L.students.find(S=>String(S.id)===String(a));!m||!window.confirm(`Delete ${m.fullName}? This removes them from this class list.`)||(Ki.current.add(String(a)),Fe(S=>{if(!S)return S;const w=S.students.filter(P=>String(P.id)!==String(a)),C=S.periods.map(P=>{const I={...P.attendance||{}};Object.keys(I).forEach(ae=>{const D={...I[ae]||{}};delete D[String(a)],Object.keys(D).length===0?delete I[ae]:I[ae]=D});const _={...P.behaviorNotes||{}};Object.keys(_).forEach(ae=>{const D={..._[ae]||{}};delete D[String(a)],Object.keys(D).length===0?delete _[ae]:_[ae]=D});const V={...P.pointsByStudent||{}};delete V[String(a)];const J={...P.attendanceResets||{}};delete J[String(a)];const te=P.activeGrouping?P.activeGrouping.map(ae=>ae.filter(D=>String(D)!==String(a))):P.activeGrouping;return{...P,attendance:I,behaviorNotes:_,pointsByStudent:V,attendanceResets:J,activeGrouping:te}});return{...S,students:w,periods:C}}),Be(S=>{const w={...S||{}};return Object.keys(w).forEach(C=>{if(w[C]){const P={...w[C]||{}};delete P[String(a)],w[C]=P}}),w}),re(S=>{const w={...S||{}};return Object.keys(w).forEach(C=>{if(w[C]){const P={...w[C]||{}};delete P[String(a)],w[C]=P}}),w}),je(S=>{const w={...S||{}};return Object.keys(w).forEach(C=>{if(w[C]){const P={...w[C]||{}};delete P[String(a)],w[C]=P}}),w}),At(S=>{const w={...S||{}};return Object.keys(w).forEach(C=>{w[C]=(w[C]||[]).filter(P=>String(P.studentId)!==String(a))}),w}),ut(),gt({silent:!0}),Gt(null),zc(null),ql())};f.useEffect(()=>()=>{hn.current&&window.clearTimeout(hn.current)},[]),f.useEffect(()=>{Us(!Hc||!Vc)},[Hc,Vc]);const ld=f.useCallback(()=>{if(typeof window>"u")return!1;try{return window.localStorage.getItem("classseats_debug_drive")==="1"}catch{return!1}},[]),Hs=f.useCallback(a=>{ld()&&console.debug(a.startsWith("[Ping]")?a:`[Ping] ${a}`)},[ld]);f.useEffect(()=>{Dn.current=!1;const a=qh,m=Zh,g=eg,S=tg,w=()=>{a.current&&(window.clearTimeout(a.current),a.current=null)},C=J=>{if(Dn.current)return;w();const te=typeof J=="number"?J:g.current;Hs(`[Ping] next ${te}`),a.current=window.setTimeout(()=>{a.current=null,P()},te)},P=async()=>{if(Dn.current)return;if(S.current=Date.now(),Hs("[Ping] tick"),typeof document<"u"&&document.visibilityState!=="visible"){C(5e3);return}if(m.current){C(2e3);return}m.current=!0;const J=new AbortController,te=window.setTimeout(()=>J.abort(),5e3),ae=(()=>{try{return new URL(`/ping.txt?t=${Date.now()}`,window.location.origin).toString()}catch{return`/ping.txt?t=${Date.now()}`}})();let D=!1;try{const W=await fetch(ae,{cache:"no-store",signal:J.signal});D=!!(W!=null&&W.ok),D?(Fs(!0),Vi(!0),Us(!1),g.current=15e3,Hs("[Ping] ok")):(Fs(!1),Vi(!1),Us(!0),g.current=Math.min(6e4,g.current*2),Hs(`[Ping] fail status=${W==null?void 0:W.status}`))}catch(W){Fs(!1),Vi(!1),Us(!0),g.current=Math.min(6e4,g.current*2),Hs(`[Ping] fail ${(W==null?void 0:W.message)||W}`)}finally{window.clearTimeout(te),m.current=!1,Dn.current||C()}},I=()=>{Dn.current||(Fs(!0),P())},_=()=>{Dn.current||(Fs(!1),Us(!0),C(2e3))},V=()=>{Dn.current||typeof document<"u"&&document.visibilityState==="visible"&&P()};return P(),window.addEventListener("online",I),window.addEventListener("offline",_),document.addEventListener("visibilitychange",V),()=>{Dn.current=!0,w(),window.removeEventListener("online",I),window.removeEventListener("offline",_),document.removeEventListener("visibilitychange",V)}},[]);const Zl=f.useCallback((a,m)=>{Be(m.periods.reduce((g,S)=>{var C,P;const w=(C=Mr.current[String(S.id)])==null?void 0:C[a];return g[S.id]=w?{...w}:(P=S.attendance)!=null&&P[a]?{...S.attendance[a]}:{},g},{})),re(m.periods.reduce((g,S)=>{var C;const w=(C=Fr.current[String(S.id)])==null?void 0:C[a];return g[S.id]=w?{...w}:Oa(S.behaviorNotes,a),g},{}))},[]);f.useEffect(()=>{if(!L)return;const a=Qc.current!==L.periods,m=Yc.current!==ee;!a&&!m||(Qc.current=L.periods,Yc.current=ee,Zl(ee,L))},[Zl,L,ee]),f.useEffect(()=>{const a=O==null?void 0:O.id;if(!a||qc.current===a)return;qc.current=a;const m=La(a);if(!m)return;let g=null;try{const C=window.localStorage.getItem(m);if(!C)return;g=JSON.parse(C)}catch{return}if(!g||typeof g.savedAt!="number")return;if(Date.now()-g.savedAt>Aw){On(a);return}Mr.current=g.pendingAttendanceByDate||{},Fr.current=g.pendingNotesByDate||{},g.pointsLocal&&je(g.pointsLocal),g.pointsHistoryLocal&&At(g.pointsHistoryLocal),g.selectedPeriodId&&As(g.selectedPeriodId),g.lastEditAt&&(dr.current=g.lastEditAt);const S=g.selectedDate&&Jh(g.selectedDate)?g.selectedDate:ee;g.selectedDate&&S!==ee&&zs(S),L&&Zl(S,L),(Object.keys(g.pendingAttendanceByDate||{}).length>0||Object.keys(g.pendingNotesByDate||{}).length>0||Object.keys(g.pointsHistoryLocal||{}).length>0)&&(Ln.current+=1,An(!0),tt(!0))},[O==null?void 0:O.id,On,Zl,L,ee]),f.useEffect(()=>{sd()},[$e,G,le,It,Ge,sd]);const od=f.useCallback(a=>{const m={};return!a||typeof a!="object"||Object.entries(a).forEach(([g,S])=>{if(!S||typeof S!="object")return;const w={},C=S.note&&typeof S.note=="object"?S.note:S;Object.entries(C).forEach(([P,I])=>{I&&typeof I=="object"&&typeof I.note=="string"&&(w[String(P)]={note:I.note,timestamp:I.timestamp||new Date().toISOString()})}),Object.keys(w).length>0&&(m[g]=w)}),m},[]),$r=a=>e({tone:"success",message:a}),Qe=a=>e({tone:"error",message:a}),Br=a=>e({tone:"info",message:a}),Vs=["unmarked","absent","tardy","left_early","present"],eo=f.useCallback(a=>{if(!a)return!1;const m=a.toLowerCase();return m.includes("401")||m.includes("unauthorized")||m.includes("403")||m.includes("sign in with google drive first")},[]),fg=a=>{switch(a){case"present":return"bg-emerald-50 border-emerald-100";case"absent":return"bg-rose-50 border-rose-100";case"tardy":return"bg-amber-50 border-amber-100";case"left_early":return"bg-blue-50 border-blue-100";default:return"bg-slate-50 border-slate-200"}},id=a=>{switch(a){case"present":return"Present";case"absent":return"Absent";case"tardy":return"Tardy";case"left_early":return"Left Early";default:return"Unmarked"}},Zi=(a,m)=>Kh(a,m).emoji,pg=()=>`${Date.now()}-${Math.random().toString(36).slice(2)}`,mg=a=>{const m=String(a.getMonth()+1).padStart(2,"0"),g=String(a.getDate()).padStart(2,"0");return`${m}-${g}-${a.getFullYear()}`},ea=a=>`https://docs.google.com/document/d/${a}/edit`,ta=f.useCallback(a=>{if(!a)return;const m=Date.now(),g=Gc.current;if(g&&g.url===a&&m-g.at<600)return;Gc.current={url:a,at:m};try{if(r!=null&&r.openExternal){r.openExternal(a);return}}catch{}window.open(a,"_blank","noopener,noreferrer")||k==null||k("Pop-up blocked  please allow pop-ups to open Google Docs.")},[r]),Mn=f.useCallback(a=>hw(a),[]),De=f.useCallback(async(a,m="preflight")=>{if(s)return k(l),null;if(He)return k("Offline  will sync when back online."),h(!0),sn(`${m}: offline; skipping refresh`),null;try{const g=await zr(m);if(g)return g}catch(g){console.warn("[Drive] refresh failed",g),sn(`${m}: refresh failed ${(g==null?void 0:g.message)||g}`)}if(!a)return h(!0),k("Reconnect to Google Drive to continue syncing."),sn(`${m}: interactive=false; would trigger OAuth if allowed`),null;sn(`triggerOAuth: reason=${m} hadSession=${!!o} hasRefresh=${!!(o!=null&&o.refreshToken)}`);try{await Bx()}catch(g){Qe((g==null?void 0:g.message)||"Google sign-in was cancelled.")}return null},[l,o,s,Qe,He,sn,zr]),to=f.useCallback(async(a,m,g)=>{let S=!1;const w=async()=>{let C=g;if(C||(C=await De(!0,`${m}-download`)),!C)throw new Error("Reconnect to Google Drive to continue.");try{return{data:await Ra(C.accessToken,a)}}catch(P){const I=(P==null?void 0:P.message)||"";if(!S&&eo(I))return S=!0,sl("[Drive][Mobile] auth error on download, retrying once",{context:m,error:I}),g=null,w();throw P}};return w()},[De,eo]),ad=f.useCallback(async(a,m,g,S)=>{let w=!1;const C=async()=>{let P=S;if(P||(P=await De(!0,`${g}-upload`)),!P)throw new Error("Reconnect to Google Drive to continue.");try{return await ev(P.accessToken,a,m)}catch(I){const _=(I==null?void 0:I.message)||"";if(!w&&eo(_))return w=!0,sl("[Drive][Mobile] auth error on upload, retrying once",{context:g,error:_}),S=null,C();throw I}};return C()},[De,eo]),Wr=f.useCallback((a,m)=>{var I;if(!((I=a==null?void 0:a.periodsState)!=null&&I.periods)||!(a!=null&&a.students))return"failed";const g=Xi(a),S=(m==null?void 0:m.id)||bt.current;if(S){const _=xw({incomingUpdatedAt:a.updatedAt,lastAppliedUpdatedAt:td(S),incomingRevisionId:(m==null?void 0:m.revisionId)||null,lastRevisionId:Ji(S)??null});if(sl("[Sync][Mobile] apply decision",{fileKey:S,decision:_}),_.action==="skip")return m&&(bt.current=m.id,ge(m),ht(m.id,m.revisionId||null)),pr.current=Date.now(),"skipped"}Ln.current=0,In.current=!1,Or.current=!1,An(!1),tt(!1),mn(null),Bs(!1),On(),kt.current&&(window.clearTimeout(kt.current),kt.current=null);const w=(a.layouts||[]).reduce((_,V)=>(_[String(V.id)]={id:String(V.id),name:V.name,tables:(V.tables||[]).map(J=>({id:String(J.id),name:J.name||"Table",seatNumbers:Array.isArray(J.seatNumbers)?J.seatNumbers:void 0}))},_),{}),C=a.periodsState.periods.map(_=>({id:String(_.id),name:_.name,layoutId:_.layoutId||null,tableAssignments:_.tableAssignments||{},activeGrouping:_.activeGrouping||[],tableNumbering:_.tableNumbering||void 0,attendance:_.attendance||{},attendanceResets:_.attendanceResets||{},behaviorNotes:od(_.behaviorNotes),pointsByStudent:_.pointsByStudent||{},pointsEnabled:_.pointsEnabled??!1,startingPoints:_.startingPoints??50,pointsHistory:_.pointsHistory||[]})),P=(a.students||[]).map(_=>{var V;return{id:String(_.id),fullName:_.fullName||_.name||"Student",gender:typeof _.gender=="string"?_.gender:void 0,periodIds:((V=_.periodIds)==null?void 0:V.map(J=>String(J)))||[],profileUpdatedAt:typeof _.profileUpdatedAt=="string"?_.profileUpdatedAt:void 0,quickNote:typeof _.quickNote=="string"?_.quickNote:void 0,quickNoteUpdatedAt:typeof _.quickNoteUpdatedAt=="string"?_.quickNoteUpdatedAt:void 0,photoFileId:typeof _.photoFileId=="string"?_.photoFileId:_.photoFileId==null?null:String(_.photoFileId),photoUpdatedAt:(()=>{if(typeof _.photoUpdatedAt=="number")return _.photoUpdatedAt;if(typeof _.photoUpdatedAt=="string"){const J=Number.parseInt(_.photoUpdatedAt,10);return Number.isFinite(J)?J:null}return null})(),docs:Array.isArray(_.docs)?_.docs.map(J=>({...J,id:String(J.id),driveFileId:String(J.driveFileId)})):[]}});return Fe({periods:C,students:P,layouts:w}),As(_=>{var D;const V=_?String(_):null,J=a.periodsState.currentId?String(a.periodsState.currentId):null;return[V,J,((D=C[0])==null?void 0:D.id)||null].filter(Boolean).find(W=>C.some(ce=>String(ce.id)===W))||null}),Be(C.reduce((_,V)=>{var J;return _[V.id]=(J=V.attendance)!=null&&J[ee]?{...V.attendance[ee]}:{},_},{})),re(C.reduce((_,V)=>(_[V.id]=Oa(V.behaviorNotes,ee),_),{})),je(C.reduce((_,V)=>{var te;const J=V.pointsByStudent?{...V.pointsByStudent}:{};return V.pointsEnabled&&((te=V.studentsIds)==null||te.forEach(ae=>{J[ae]===void 0&&(J[ae]=V.startingPoints??50)})),_[V.id]=J,_},{})),Ql.current=g,Ws(a.lastWriter||"unknown"),m?(bt.current=m.id,ge(m),ht(m.id,m.revisionId||null)):ht(bt.current,null),Ms(null),qi(_=>_+1),fr(S,a.updatedAt),pr.current=Date.now(),"applied"},[ee,td,od,Oa,Be,re,je,As,Fe,An,tt,ge,ht,mn,Bs,Ws,Ms,qi,fr,On]),ut=f.useCallback(()=>{Ln.current+=1,dr.current=Date.now(),An(!0),tt(!0)},[]),na=f.useCallback((a,m,g)=>{Fe(S=>S&&{...S,periods:S.periods.map(w=>{if(String(w.id)!==String(a))return w;const C={...w.attendanceResets||{}},P={...C[String(m)]||{}};return P[g]=ee,C[String(m)]=P,{...w,attendanceResets:C}})}),ut()},[ut,ee]),ra=f.useCallback((a,m,g)=>{Be(S=>{const w={...S||{}};return w[a]={...w[a]||{}},g==="unmarked"?delete w[a][m]:w[a][m]=g,Ur(String(a),ee,w[a]),w}),ut()},[ut,ee,Ur]);f.useCallback((a,m)=>{var C;const g=((C=$e[a])==null?void 0:C[m])||"unmarked",S=Vs.indexOf(g),w=Vs[(S+1)%Vs.length];ra(a,m,w)},[$e,ra,Vs]);const no=f.useCallback((a,m)=>{Be(g=>{const S={...g||{}};return S[a]={...S[a]||{}},m.forEach(w=>{S[a][w]||(S[a][w]="present")}),Ur(String(a),ee,S[a]),S}),ut()},[ut,ee,Ur]),hg=f.useCallback((a,m,g,S)=>{if(g===0||m.length===0)return;const w=(S==null?void 0:S.trim())||"Bulk points update",C=L==null?void 0:L.periods.find(I=>I.id===a),P=(C==null?void 0:C.startingPoints)??50;je(I=>{const _={...I||{}};return _[a]={..._[a]||{}},m.forEach(V=>{const J=_[a][V]??P;_[a][V]=Math.max(0,J+g)}),_}),At(I=>{const _={...I||{}},V=_[a]?[..._[a]]:[];return m.forEach(J=>V.push({studentId:J,delta:g,reason:w,date:ee})),_[a]=V,_}),ut()},[L==null?void 0:L.periods,ee,ut]),ud=f.useCallback(a=>{Be(m=>{const g={...m||{}};return g[a]={},Ur(String(a),ee,g[a]),g}),Br("Reset attendance to unmarked for this date."),ut()},[Br,ut,ee,Ur]),gg=f.useCallback(()=>{if(!Pn)return;const{periodId:a,studentId:m}=Pn,{note:g,delta:S,reason:w}=Lt,C=at;if(C.pointsEnabled&&S!==0&&!w.trim()){Qe("Please provide a reason when changing points.");return}re(P=>{const I={...P||{}};return I[a]={...I[a]||{}},g.trim()?I[a][m]=g.trim():delete I[a][m],nd(String(a),ee,I[a]),I}),C.pointsEnabled&&S!==0&&(je(P=>{const I={...P||{}};I[a]={...I[a]||{}};const _=I[a][m]??C.startingPoints??0,V=Math.max(0,_+S);return I[a][m]=V,I}),At(P=>{const I={...P||{}},_=I[a]?[...I[a]]:[];return _.push({studentId:m,delta:S,reason:w||"Behavior note",date:ee}),I[a]=_,I})),ut(),ir(null),fn({note:"",delta:0,reason:""})},[Pn,Lt,at,ut,ee,nd,re,je,Qe]),cd=f.useCallback((a,m,g)=>{var I,_;const S=((I=G[a])==null?void 0:I[m])||"",w=L==null?void 0:L.periods.find(V=>V.id===a),C=(w==null?void 0:w.startingPoints)??50,P=((_=le[a])==null?void 0:_[m])??C;fn({note:S,delta:0,reason:""}),zi({pointsEnabled:!!(w!=null&&w.pointsEnabled),startingPoints:C,currentPoints:P,predictedPoints:P}),ir({periodId:a,studentId:m,studentName:g})},[G,le,L]),yg=f.useCallback((a,m,g)=>{cd(a,m,g)},[cd]);f.useEffect(()=>{if(s){k(l);return}let a=!0;return(async()=>{await ig();const g=await Wx().catch(()=>null);if(!g||!a)return;const S=await hs(g),w=S||g;if(sn(`startup refresh result: ok=${!!S} expiresAt=${S==null?void 0:S.expiresAt}`),!!a&&(u(w),!Kc.current)){Kc.current=!0;try{const C=localStorage.getItem(bo);if(!C){Yl.current=!0;return}const P=JSON.parse(C);if(P!=null&&P.id&&(P!=null&&P.name)){Yi.current=!0;const I={id:P.id,name:P.name,modifiedTime:P.modifiedTime,size:P.size,revisionId:P.revisionId};Me(I),k(`Restoring ${I.name}`);const _=await Ra(g.accessToken,I.id),V=typeof _=="string"?JSON.parse(_):_,J=Mn(V);if(!J)throw new Error("Drive file could not be parsed.");const te=Wr(J,I);te==="applied"?(ge(I),k(`Loaded ${I.name} from Drive.`),Ms(new Date().toISOString())):te==="skipped"&&(ge(I),k("Drive file is older than current data  keeping existing state."))}Yl.current=!0}catch(C){console.error("[Drive] Restore failed",C),k("Google sign-in failed. Please try again."),Yi.current=!1,Yl.current=!0}}})(),()=>{a=!1}},[]),f.useEffect(()=>{s||o&&(T||L||O!=null&&O.id||Yl.current&&(Yi.current||K(!0)))},[O,o,s,L,T]),f.useEffect(()=>{const a=window.setInterval(async()=>{if(!o)return;const m=await zr("timer");m&&u(m)},3e5);return()=>window.clearInterval(a)},[o,zr]),f.useEffect(()=>{const a=async()=>{if(!o)return;const m=await zr("visibility");m&&u(m)};return document.addEventListener("visibilitychange",a),()=>document.removeEventListener("visibilitychange",a)},[o,zr]),f.useEffect(()=>{if(x){const a=window.setTimeout(()=>{N(!1),j("Still loading Drive files. Try Sign in with Google then tap Refresh Cloud Files.")},12e3);return Kt(a),()=>window.clearTimeout(a)}he&&(window.clearTimeout(he),Kt(null)),kt.current&&(window.clearTimeout(kt.current),kt.current=null)},[x,he]);const xg=f.useCallback(()=>{Hx(),u(null),d([]),Me(null),ge(null),k(null),Br("Signed out of Google Drive."),yi("drive-disconnect")},[Br,yi]),vg=f.useCallback(async()=>{var a;!O||!((a=window.desktopBridge)!=null&&a.uploadDriveFile)||confirm(`Delete ${O.name} from Drive? This cannot be undone.`)&&(await window.desktopBridge.uploadDriveFile({fileId:O.id,content:JSON.stringify({deleted:!0,message:"File deleted by user."})}),Fe(null),Be({}),re({}),je({}),At({}),On(),ge(null),As(null),k("Deleted active file from Drive."))},[O,On]);f.useCallback(async()=>{},[Wr,Mn,ge,ht]);const wg=f.useCallback(async(a=!0,m=!1)=>{if(!(x&&!m)){N(!0),j(null);try{const g=await De(a,"refreshFiles");if(!g){j("Sign in with Google to view cloud files.");return}const S=await Uf(g.accessToken);d(S),k(null)}catch(g){const S=(g==null?void 0:g.message)||"Unable to load Drive files.";j(S),Qe(S)}finally{N(!1)}}},[De,Qe,x]);f.useCallback(async()=>{Uc(!0),Bi(null);try{const a=await De(!0,"importList");if(!a){Bi("Sign in first to import.");return}const m=await tv(a.accessToken);Xh(m)}catch(a){const m=(a==null?void 0:a.message)||"Unable to list Drive files.";Bi(m),Qe(m)}finally{Uc(!1)}},[De,Qe]);const Sg=f.useCallback(async()=>{if(!ne){j("Select a cloud file first.");return}if(In.current){j("Sync in progress. Please wait.");return}if(Ge||pn)if(window.confirm("You have unsynced changes. Sync them to Drive before switching files? Click OK to sync, Cancel to discard changes.")){if(await gt({silent:!0}),Ge||pn){j("Sync did not complete. Try again before switching files.");return}}else{if(!window.confirm("Discard unsynced changes and load the selected file?"))return;Ln.current=0,An(!1),tt(!1),mn(null)}if(await De(!0,"loadSelected")){Ze(!0);try{const m=await to(ne.id,"loadSelected"),g=typeof m.data=="string"?JSON.parse(m.data):m.data,S=Mn(g);if(!S)throw new Error("File could not be parsed.");const w=Wr(S,ne);if(w==="applied")k(`Loaded ${ne.name}. Data available locally.`);else if(w==="skipped")k("Drive file is older than current data. Keeping existing data.");else throw new Error("File could not be parsed.");localStorage.setItem(bo,JSON.stringify({id:ne.id,name:ne.name,modifiedTime:ne.modifiedTime,size:ne.size,revisionId:ne.revisionId})),$r(`Loaded ${ne.name} from Drive.`)}catch(m){const g=(m==null?void 0:m.message)||"Unable to load Drive file.";j(g),Qe(g)}finally{Ze(!1)}}},[De,ne,Qe,$r,Wr,Mn,Ge,pn,to]),Ng=f.useCallback(async()=>{const a=$.trim();if(!a){j("Enter a file name first.");return}const m=await De(!0,"createFile");if(m){Se(!0),j(null);try{const S={...fw(void 0,void 0,L==null?void 0:L.students),lastWriter:"mobile",updatedAt:new Date().toISOString()},w=await Zx(m.accessToken,a,JSON.stringify(S,null,2));d(C=>[w,...C]),ge(w),bt.current=w.id,ht(w.id,w.revisionId||null),fr(w.id,S.updatedAt),Me(w),de(""),localStorage.setItem(bo,JSON.stringify({id:w.id,name:w.name,modifiedTime:w.modifiedTime,size:w.size,revisionId:w.revisionId})),$r(`Created ${w.name} in Drive.`)}catch(g){const S=(g==null?void 0:g.message)||"Unable to create Drive file.";j(S),Qe(S)}finally{Se(!1)}}},[$,De,L,fr,Qe,$r]),dd=f.useCallback((a,m)=>{const g={...a||{}};return Object.entries(m||{}).forEach(([S,w])=>{if(!w||typeof w!="object")return;const C=g[S]||{},P={...C};["absent","tardy","leftEarly"].forEach(I=>{const _=w[I],V=C[I];_&&(!V||_>V)?P[I]=_:V&&(P[I]=V)}),g[S]=P}),g},[]),gt=f.useCallback(async a=>{var g,S,w;if(s){k(l);return}if(In.current||a!=null&&a.silent&&!Ge)return;if(!((g=L==null?void 0:L.periods)!=null&&g.length)||!((S=L==null?void 0:L.students)!=null&&S.length)){k("Cannot sync until data is loaded. Open a file first.");return}if(He){tt(!0),mn("Offline - changes will sync when back online."),Bs(!0);return}if(Or.current){k("Sync already running.");return}const m=Ln.current;try{const C=await De(!(a!=null&&a.silent),"syncUpload");if(!C){mn("Reconnect to Google Drive to continue syncing."),tt(!0);return}if(!O){k("Select a cloud file before syncing."),mn("Select a cloud file before syncing."),tt(!0);return}const P=gw({isOffline:He,isLocked:Or.current,inFlight:In.current,hasSession:!0,hasFile:!!O,dirty:Ge,now:Date.now(),lastLocalEditAt:dr.current,graceMs:ed});if(sl("[Sync][Mobile] upload decision",P),P.action==="skip"&&!(P.reason==="clean"&&!(a!=null&&a.silent))){P.reason==="no-file"&&(k("Select a cloud file before syncing."),mn("Select a cloud file before syncing."),tt(!0));return}Or.current=!0,In.current=!0,Wc(!0);const I=Co(Mr.current),_=Co(Fr.current),V=await to(O.id,"syncUpload",C),J=typeof V.data=="string"?JSON.parse(V.data):V.data,te=Mn(J);if(!((w=te==null?void 0:te.periodsState)!=null&&w.periods))throw new Error("Drive file missing periods.");const ae=Ki.current,D=new Date().toISOString(),W=(te.periodsState.periods||[]).map(Z=>{const Ne=String(Z.id),rt=le[Ne]||{},Ct=Array.isArray(Z.pointsHistory)?[...Z.pointsHistory]:[],Qt=It[Ne]||[],Ft=L==null?void 0:L.periods.find(yn=>String(yn.id)===Ne),hr=dd(Z.attendanceResets||{},(Ft==null?void 0:Ft.attendanceResets)||{}),Gs=Qf(Z.attendance,I[Ne],ae),lo=Yf(Z.behaviorNotes,_[Ne],ae,D),kg=[...Ct,...Qt].filter(yn=>!ae.has(String(yn.studentId))),wd={...rt};ae.forEach(yn=>{delete wd[yn]});const Sd={...hr||{}};ae.forEach(yn=>{delete Sd[yn]});const jg=Z.activeGrouping?Z.activeGrouping.map(yn=>yn.filter(bg=>!ae.has(String(bg)))):Z.activeGrouping;return{...Z,attendance:Gs,attendanceResets:Sd,behaviorNotes:lo,pointsByStudent:wd,pointsHistory:kg,activeGrouping:jg}}),ce=te.students||[],oe=(L==null?void 0:L.students)||[],Le=new Map(oe.map(Z=>[String(Z.id),Z])),nt=ce.filter(Z=>!ae.has(String(Z.id))).map(Z=>{const Ne=Le.get(String(Z.id));if(!Ne)return Z;let rt={...Z};const Ct=Ne.profileUpdatedAt||"",Qt=Z.profileUpdatedAt||"";Ct&&(!Qt||Ct>Qt)&&(rt={...rt,fullName:Ne.fullName,gender:Ne.gender,periodIds:Ne.periodIds,profileUpdatedAt:Ct});const Ft=Ne.quickNoteUpdatedAt||"",hr=Z.quickNoteUpdatedAt||"";Ft&&(!hr||Ft>hr)&&(rt={...rt,quickNote:Ne.quickNote,quickNoteUpdatedAt:Ne.quickNoteUpdatedAt});const Gs=typeof Ne.photoUpdatedAt=="number"?Ne.photoUpdatedAt:0,lo=typeof Z.photoUpdatedAt=="number"?Z.photoUpdatedAt:0;return Gs&&(!lo||Gs>lo)&&(rt={...rt,photoFileId:Ne.photoFileId??null,photoUpdatedAt:Gs}),rt}),mr=new Set(ce.map(Z=>String(Z.id)));oe.forEach(Z=>{ae.has(String(Z.id))||mr.has(String(Z.id))||nt.push(Z)});const gn={...te,schemaVersion:1,version:1,lastWriter:"mobile",lastEditedPeriodId:et?String(et):null,lastEditedDate:ee,updatedAt:D,students:nt,periodsState:{...te.periodsState,periods:W}},Ks=JSON.stringify(gn,null,2),ye=await ad(O.id,Ks,"syncUpload",C);At(Z=>{const Ne={...Z||{}};return delete Ne[et||""],Ne}),ye?(Ql.current=Xi(gn),ht(ye.id,ye.revisionId||null),bt.current=ye.id,ge(ye),fr(ye.id,gn.updatedAt),pr.current=Date.now()):fr(O.id,gn.updatedAt),Ki.current.clear(),Ws("mobile"),a!=null&&a.silent||(k("Synced with Google Drive."),$r("Synced with Google Drive.")),Ms(new Date().toISOString()),tt(!1),localStorage.setItem(bo,JSON.stringify({id:(ye==null?void 0:ye.id)||O.id,name:(ye==null?void 0:ye.name)||O.name,modifiedTime:(ye==null?void 0:ye.modifiedTime)||O.modifiedTime,size:(ye==null?void 0:ye.size)||O.size,revisionId:(ye==null?void 0:ye.revisionId)||O.revisionId})),Ln.current===m&&(Fe(Z=>{if(!Z)return Z;const Ne=Z.periods.map(rt=>{const Ct=String(rt.id),Qt=Qf(rt.attendance,I[Ct],new Set),Ft=Yf(rt.behaviorNotes,_[Ct],new Set,D);return{...rt,attendance:Qt,behaviorNotes:Ft}});return{...Z,periods:Ne}}),An(!1),tt(!1),On())}catch(C){const P=(C==null?void 0:C.message)||"Failed to sync with Drive.";k(P),Qe(P),tt(!0)}finally{Wc(!1),In.current=!1,Or.current=!1}},[O,De,Qe,$r,le,It,L,ee,et,Ge,l,s,He,Mn,On,Fe,fr,ht,to,ad,dd]),ro=f.useCallback(()=>{s||He||Ge&&O&&o&&(tt(!0),gt({silent:!0}))},[Ge,O,o,s,gt,He]);f.useEffect(()=>{const a=()=>{document.visibilityState==="visible"&&ro()};return window.addEventListener("online",ro),document.addEventListener("visibilitychange",a),()=>{window.removeEventListener("online",ro),document.removeEventListener("visibilitychange",a)}},[ro]),f.useEffect(()=>{if(He){Bs(!0);return}if(!Zc||!O||!o)return;(async()=>{tt(!0),mn("Reconnected  refreshing data"),await gt({silent:!0}),Bs(!1),mn(null)})()},[He,Zc,O,o,gt]),f.useEffect(()=>{if(!O||!Ge||In.current)return;const a=window.setTimeout(()=>{gt({silent:!0})},1500);return()=>window.clearTimeout(a)},[Ge,O,gt]),f.useEffect(()=>{O&&ht(O.id,O.revisionId||null)},[O,ht]),f.useEffect(()=>{bt.current=(O==null?void 0:O.id)||null},[O]);const so=f.useCallback(async()=>{if(s)return;const a=bt.current;if(!a)return;const m=yw({isOffline:He,isLocked:Or.current||pn||Os,inFlight:In.current,dirty:Ge,now:Date.now(),lastLocalEditAt:dr.current,lastPullAt:pr.current,graceMs:ed});if(sl("[Sync][Mobile] pull decision",m),m.action==="skip")return;const g=await De(!1,"pull");if(g&&bt.current===a)try{const S=await Uf(g.accessToken);if(bt.current!==a)return;const w=S.find(C=>C.id===a);if(w!=null&&w.revisionId&&w.revisionId!==Ji(a)){const C=await Ra(g.accessToken,a);if(bt.current!==a)return;const P=typeof C=="string"?JSON.parse(C):C,I=Mn(P);if(!I)return;const _=Xi(I);if(Ql.current&&_===Ql.current){ht(a,w.revisionId||null),pr.current=Date.now(),Ws(I.lastWriter||"unknown");return}const V=Wr(I,w);V==="applied"&&bt.current===a?(Ms(new Date().toISOString()),ht(a,w.revisionId||null),pr.current=Date.now(),Ws(I.lastWriter||"unknown"),qi(J=>J+1),Br("Updated from Drive.")):V==="skipped"&&(ht(a,w.revisionId||null),pr.current=Date.now())}}catch{}},[Wr,De,Mn,Br,Ge,Os,pn,He,s,Ji,ht]);f.useEffect(()=>{if(s)return;let a=null;const m=async()=>{await so(),a=window.setTimeout(m,15e3)};return a=window.setTimeout(m,15e3),()=>{a&&window.clearTimeout(a)}},[s,so]),f.useEffect(()=>{if(kt.current&&(window.clearTimeout(kt.current),kt.current=null),!s&&!(Ge||pn||Os||He||!O))return kt.current=window.setTimeout(()=>{so()},5e3),()=>{kt.current&&(window.clearTimeout(kt.current),kt.current=null)}},[Ge,pn,Os,He,O,s,so]);const fd=(p==null?void 0:p.state)??"unknown";let pd=fd==="ok"&&o?"Connected to Google Drive":"Google Drive Sync",Hr="Link Google Drive to save and sync. Files stay in your Drive.",Vr=o?"Manage Files":"Connect to Drive";switch(fd){case"no-session-yet":Vr=o?"Manage Files":"Connect to Google Drive",Hr="Store your seating data in a private folder in your Google Drive.";break;case"device-storage-wipe":Vr=o?"Manage Files":"Reconnect Google Drive",Hr="Your device cleared your Google connection. Tap below to reconnect; your files are still in your Drive.";break;case"oauth-failure":Vr=o?"Manage Files":"Reconnect Google Drive",Hr="There was a Google sign-in problem. Reconnect to continue syncing.";break;case"user-logged-out":Vr=o?"Manage Files":"Connect to Google Drive",Hr="You disconnected from Google Drive.";break}s&&(pd="Drive sync disabled",Hr=l,Vr="Drive disabled");const Kr=Ae&&Mt&&(L!=null&&L.periods)&&L.periods.find(a=>String(a.id)===String(Mt))||null,Gr=Kr?{...Kr.attendance||{},[ee]:$e[Kr.id]||{}}:null,sa=(Kr==null?void 0:Kr.attendanceResets)||{},md=Gr&&Ae?rl({attendance:Gr,studentId:Ae.id,date:ee,status:"absent",resets:sa}):null,hd=Gr&&Ae?rl({attendance:Gr,studentId:Ae.id,date:ee,status:"tardy",resets:sa}):null,gd=Gr&&Ae?rl({attendance:Gr,studentId:Ae.id,date:ee,status:"left_early",resets:sa}):null;return i.jsx(Nw,{children:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-violet-900 to-indigo-800 text-white flex flex-col relative",children:[i.jsxs("div",{className:"bg-emerald-50 text-emerald-900 text-xs px-4 py-1 text-center",children:[i.jsx("span",{role:"img","aria-label":"lock",className:"mr-1",children:""}),"Privacy: Data stays on this device and in your Google Drive. Use your school Google account. No data is sent to our servers."]}),He&&i.jsx("div",{className:"bg-slate-900 text-white text-xs px-4 py-1 text-center",children:"Offline  edits are saved locally and will sync when youre back online."}),i.jsxs("div",{className:"px-4 pt-2 flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{className:"text-[11px] px-2 py-1 rounded bg-white/80 text-slate-800 shadow",onClick:ag,title:"Version",type:"button",children:["Rev ",Zf]}),i.jsx("button",{className:"text-[11px] px-2 py-1 rounded border border-white/60 bg-white/20 text-white shadow hover:bg-white/30",onClick:()=>me(!0),type:"button",children:"About"})]}),!t&&i.jsx(cw,{current:"mobile",onGoDesktop:ug,onGoMobile:()=>{}})]}),i.jsx("header",{className:"px-6 pt-10 pb-4 text-center",children:i.jsx("h1",{className:"text-3xl font-black tracking-wide drop-shadow",children:"ClassSeats Mobile"})}),qf,jt==="attendance"&&L&&et&&(()=>{const a=L.periods.find(te=>te.id===et);if(!a)return null;const m=L.students.filter(te=>{var ae;return(ae=te.periodIds)==null?void 0:ae.includes(String(a.id))}),g=$e[a.id]||{},S=m.length||1,w=m.filter(te=>g[te.id]==="present").length,C=m.filter(te=>g[te.id]==="absent").length,P=m.filter(te=>g[te.id]==="tardy").length,I=m.filter(te=>g[te.id]==="left_early").length,_=w+C+P+I,V=Math.round(_/S*100),J=Math.round(w/S*100);return i.jsx("div",{className:"fixed left-0 right-0 z-40 px-4 pt-2",style:{top:"64px"},children:i.jsxs("div",{className:"bg-white/95 border border-slate-200 rounded-2xl shadow px-3 py-2 flex flex-wrap items-center gap-2 text-xs text-slate-800",children:[i.jsxs("span",{className:"font-semibold",children:["Progress: ",V,"%  Present: ",J,"%"]}),i.jsxs("span",{className:"px-2 py-1 rounded-full bg-emerald-100 text-emerald-800 font-semibold",children:[" Present: ",w]}),i.jsxs("span",{className:"px-2 py-1 rounded-full bg-rose-100 text-rose-800 font-semibold",children:[" Absent: ",C]}),i.jsxs("span",{className:"px-2 py-1 rounded-full bg-amber-100 text-amber-800 font-semibold",children:[" Tardy: ",P]}),i.jsxs("span",{className:"px-2 py-1 rounded-full bg-blue-100 text-blue-800 font-semibold",children:[" Left Early: ",I]})]})})})(),i.jsxs("main",{className:"flex-1 overflow-y-auto px-4 pb-28 pt-20 space-y-6 relative",children:[i.jsx(ow,{variant:"inline"}),i.jsx("section",{className:"max-w-2xl mx-auto bg-white/95 text-slate-900 rounded-3xl shadow-xl p-5",children:i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-base font-semibold text-slate-900",children:pd}),i.jsx("p",{className:"text-xs text-slate-600",children:Hr}),i.jsxs("p",{className:"text-[11px] text-slate-500",children:[o?((yd=o.profile)==null?void 0:yd.email)||"Signed in":"Not signed in"," "," ",(O==null?void 0:O.name)||(ne==null?void 0:ne.name)||"No file selected",He&&"  Offline"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[pn&&i.jsx("span",{className:"text-[11px] px-2 py-1 rounded-full bg-amber-100 text-amber-800",children:"Pending sync"}),He&&i.jsx("span",{className:"text-[11px] px-2 py-1 rounded-full bg-slate-200 text-slate-700",children:"Offline"}),i.jsx("button",{className:"rounded-full bg-slate-900 text-white font-semibold px-4 py-2 text-sm disabled:opacity-50",disabled:s||!o||!O,onClick:()=>{if(s){k(l);return}gt()},title:s?l:void 0,children:"Sync Now"}),i.jsx("button",{className:"rounded-full bg-emerald-600 text-white font-semibold px-4 py-2 text-sm",onClick:()=>{if(s){k(l);return}return o?K(!0):void De(!0,"cta")},disabled:s,title:s?l:void 0,children:Vr})]})]})}),s&&i.jsx("p",{className:"max-w-2xl mx-auto text-sm text-rose-100 text-left",children:"Drive sync is disabled."}),E&&i.jsxs("section",{className:"max-w-2xl mx-auto bg-slate-900 text-slate-100 rounded-2xl shadow-inner p-3 space-y-2 text-xs",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"font-semibold",children:"Drive Debug"}),i.jsx("button",{className:"text-slate-200 underline",onClick:()=>A(!1),children:"Close"})]}),i.jsx("button",{className:"text-slate-200 underline",onClick:()=>F([]),children:"Clear"})]}),i.jsxs("div",{className:"border border-slate-700 rounded p-2 h-48 overflow-y-auto space-y-1 bg-slate-800/70",children:[M.length===0&&i.jsx("div",{className:"text-slate-400",children:"No debug entries yet."}),M.map((a,m)=>i.jsx("div",{className:"font-mono text-[11px] whitespace-pre-wrap break-all",children:a},m))]})]}),i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsx("div",{className:"mt-3",children:i.jsx("div",{className:"inline-flex w-full rounded-xl border border-slate-200 bg-slate-50 p-1",children:i.jsxs("div",{className:"grid w-full grid-cols-3 gap-1",children:[i.jsx("button",{className:`rounded-lg px-2 py-2 text-sm font-semibold transition ${jt==="attendance"?"bg-violet-100 text-violet-900 shadow-sm ring-1 ring-violet-200":"text-slate-600"}`,onClick:()=>Qi("attendance"),children:"Attendance"}),i.jsx("button",{className:`rounded-lg px-2 py-2 text-sm font-semibold transition ${jt==="notes"?"bg-violet-100 text-violet-900 shadow-sm ring-1 ring-violet-200":"text-slate-600"}`,onClick:()=>Qi("notes"),children:"Notes"}),i.jsx("button",{className:`rounded-lg px-2 py-2 text-sm font-semibold transition ${jt==="flashcards"?"bg-violet-100 text-violet-900 shadow-sm ring-1 ring-violet-200":"text-slate-600"}`,onClick:()=>Qi("flashcards"),children:"Flashcards"})]})})})}),i.jsxs("section",{className:"max-w-2xl mx-auto bg-white/95 text-slate-900 rounded-3xl shadow-xl p-6 space-y-6",children:[L&&i.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 space-y-3 text-left",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsx("div",{children:i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:jt==="attendance"?"Attendance & Behavior":jt==="notes"?"Student Notes":"Flashcards"})}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[jt==="attendance"&&i.jsxs(i.Fragment,{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Date:"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{className:"px-2 py-1 rounded border border-slate-300 bg-white text-slate-700 text-sm",onClick:()=>{const a=new Date(ee);a.setDate(a.getDate()-1),zs(a.toISOString().slice(0,10))},children:""}),i.jsx("input",{type:"date",className:"rounded border border-slate-300 px-2 py-1 text-sm",value:ee,onChange:a=>zs(a.target.value||Gi())}),i.jsx("button",{className:"px-2 py-1 rounded border border-slate-300 bg-white text-slate-700 text-sm",onClick:()=>{const a=new Date(ee);a.setDate(a.getDate()+1),zs(a.toISOString().slice(0,10))},children:""}),i.jsx("button",{className:"px-2 py-1 rounded border border-emerald-200 bg-emerald-50 text-emerald-700 text-sm font-semibold",onClick:()=>zs(Gi()),children:"Today"})]})]}),jt==="notes"&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Sort:"}),i.jsxs("select",{className:"rounded border border-slate-300 bg-white text-slate-900 px-3 py-2 text-sm shadow-sm",value:Kl,onChange:a=>rg(a.target.value),children:[i.jsx("option",{value:"first-last",children:"First Last"}),i.jsx("option",{value:"last-first",children:"Last, First"})]})]}),jt==="attendance"&&i.jsxs(i.Fragment,{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"View:"}),i.jsxs("select",{className:"rounded border border-slate-300 px-2 py-1 text-sm",value:ur,onChange:a=>ng(a.target.value),children:[i.jsx("option",{value:"table",children:"Table View"}),i.jsx("option",{value:"list-last-first",children:"List (Last, First)"}),i.jsx("option",{value:"list-first-last",children:"List (First Last)"}),i.jsx("option",{value:"list-seat-number",children:"List (Seat Number)"})]}),ur==="table"&&i.jsxs(i.Fragment,{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Table Order:"}),i.jsxs("select",{className:"rounded border border-slate-300 px-2 py-1 text-sm",value:$s,onChange:a=>sg(a.target.value),children:[i.jsx("option",{value:"asc",children:"Ascending (1, 2, 3 / A, B, C)"}),i.jsx("option",{value:"desc",children:"Descending (3, 2, 1 / C, B, A)"})]})]}),ur==="list-seat-number"&&i.jsxs(i.Fragment,{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Seat Order:"}),i.jsxs("select",{className:"rounded border border-slate-300 px-2 py-1 text-sm",value:Gl,onChange:a=>lg(a.target.value),children:[i.jsx("option",{value:"asc",children:"Ascending (1, 2, 3)"}),i.jsx("option",{value:"desc",children:"Descending (3, 2, 1)"})]})]})]}),L.periods.length>0&&i.jsx("select",{className:"rounded border border-slate-300 px-2 py-1 text-sm",value:et||"",onChange:a=>As(a.target.value||null),children:L.periods.map(a=>i.jsx("option",{value:a.id,children:a.name},a.id))})]})]}),et?(()=>{const a=L.periods.find(D=>D.id===et);if(!a)return i.jsx("p",{className:"text-sm text-slate-500",children:"Period not found."});if(jt==="notes"){const D=L.students.filter(W=>{var ce;return(ce=W.periodIds)==null?void 0:ce.includes(String(et))}).slice().sort((W,ce)=>{const[oe,...Le]=W.fullName.split(" "),[nt,...mr]=ce.fullName.split(" ");return Kl==="last-first"?Le.join(" ").localeCompare(mr.join(" ")):oe.localeCompare(nt)});return i.jsx("div",{className:"space-y-3",children:D.length===0?i.jsx("p",{className:"text-sm text-slate-500",children:"No students found."}):D.map(W=>{var oe;const ce=(oe=W.docs)==null?void 0:oe.find(Le=>Le.pinned);return i.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 shadow-sm",children:i.jsx("div",{className:"flex flex-col gap-3",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsxs("p",{className:"text-sm font-semibold text-slate-800 truncate",children:[W.fullName,"  QuickNote"]}),W.quickNote&&i.jsxs("div",{className:"relative mt-1",children:[i.jsx("div",{className:"text-xs text-slate-600 whitespace-pre-wrap break-words max-h-28 overflow-hidden pr-2",children:W.quickNote}),W.quickNote.length>180&&i.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-10 bg-gradient-to-t from-white to-transparent"}),i.jsx("div",{className:"mt-1 text-[11px] text-slate-400",children:"Open Quick Note to view/edit more."})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{className:"rounded-lg border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:()=>{Tn(W.quickNote||""),ar({studentId:W.id,studentName:W.fullName})},children:"Quick Note"}),i.jsx("button",{className:"rounded-lg border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50",disabled:!ce,onClick:Le=>{Le.preventDefault(),Le.stopPropagation(),ce&&ta(ea(ce.driveFileId))},children:"Pinned Note"}),i.jsx("button",{className:"rounded-lg border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:()=>z({studentId:W.id,studentName:W.fullName}),children:"Docs"})]})]})})},W.id)})})}if(jt==="flashcards"){const D=L.students.filter(W=>{var ce;return(ce=W.periodIds)==null?void 0:ce.includes(String(et))});return i.jsx(jw,{students:D,periodId:String(et),driveFileId:bt.current,driveClient:r,driveSession:o})}const m=a.layoutId?L.layouts[a.layoutId]:null,g=L.students.filter(D=>{var W;return(W=D.periodIds)==null?void 0:W.includes(String(a.id))}),S=g.reduce((D,W)=>(D[String(W.id)]=W,D),{}),w={};m==null||m.tables.forEach(D=>w[D.id]={id:D.id,name:D.name,students:[]});const C=[],P=a.tableAssignments||{};Array.isArray(a.activeGrouping)&&Object.keys(P||{}).length>0?(a.activeGrouping.forEach((D,W)=>{const ce=P[String(W)]||P[W],oe=ce?w[ce]:null;D==null||D.forEach(Le=>{const nt=S[String(Le)];nt&&(oe?oe.students.push(nt):C.push(nt))})}),g.forEach(D=>{(a.activeGrouping||[]).some(ce=>ce==null?void 0:ce.some(oe=>String(oe)===String(D.id)))||C.push(D)})):g.forEach(D=>{const W=P[String(D.id)]||P[D.id];W&&w[W]?w[W].students.push(D):C.push(D)});const I=Object.values(w).sort((D,W)=>{const ce=D.name||"",oe=W.name||"",Le=og.compare(ce,oe);if(Le!==0)return $s==="asc"?Le:-Le;const nt=String(D.id).localeCompare(String(W.id));return $s==="asc"?nt:-nt}),_=$e[a.id]||{},V={...a.attendance||{},[ee]:_},J=a.attendanceResets||{};G[a.id];const te=le[a.id]||{};Te[a.id];const ae=(D,W,ce)=>{var Z;const oe=_[D.id],Le=rw({attendance:V,studentId:D.id,date:ee,resets:J}),nt=rl({attendance:V,studentId:D.id,date:ee,status:"tardy",resets:J}),mr=rl({attendance:V,studentId:D.id,date:ee,status:"left_early",resets:J}),gn=typeof te[D.id]=="number"?te[D.id]:a.startingPoints??50,Ks=!!((Z=G[a.id])!=null&&Z[D.id]),ye=ie[String(D.id)]||null;return i.jsx(Lw,{student:D,attendance:oe,points:gn,pointsEnabled:!!a.pointsEnabled,maxPoints:a.startingPoints??50,hasNote:Ks,absenceStreak:Le,tardyCount:nt,leftEarlyCount:mr,onShowAbsenceHelp:()=>Lr("absent"),onShowTardyHelp:()=>Lr("tardy"),onShowLeftEarlyHelp:()=>Lr("leftEarly"),seatNumber:W,showSeatNumber:ce,statusBg:fg,statusLabel:id,tempPhotoUrl:ye,onOpenPhoto:()=>{Q({id:String(D.id),fullName:D.fullName,photoFileId:D.photoFileId??null})},onOpenMenu:()=>{Gt({id:D.id,name:D.fullName}),zc(a.id)},driveClient:r,driveSession:o},D.id)};if(ur!=="table"){const D=new Map;g.forEach(oe=>{D.set(String(oe.id),Ow(a,m,oe.id))});const W=ur==="list-seat-number",ce=[...g].sort((oe,Le)=>{const[nt,...mr]=oe.fullName.split(" "),[gn,...Ks]=Le.fullName.split(" "),ye=mr.join(" "),Z=Ks.join(" ");if(ur==="list-seat-number"){const Ne=D.get(String(oe.id)),rt=D.get(String(Le.id)),Ct=parseInt(String(Ne??""),10),Qt=parseInt(String(rt??""),10),Ft=Number.isFinite(Ct),hr=Number.isFinite(Qt);return Ft!==hr?Ft?-1:1:Ft&&hr&&Ct!==Qt?Gl==="asc"?Ct-Qt:Qt-Ct:`${oe.fullName||""}`.localeCompare(`${Le.fullName||""}`)}return ur==="list-last-first"?`${ye} ${nt}`.localeCompare(`${Z} ${gn}`):`${nt} ${ye}`.localeCompare(`${gn} ${Z}`)});return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{className:"rounded bg-emerald-500 text-white text-xs font-semibold px-3 py-2",onClick:()=>no(a.id,g.map(oe=>oe.id)),children:"Mark Rest Present (All)"}),i.jsx("button",{className:"rounded bg-rose-100 text-rose-800 text-xs font-semibold px-3 py-2 border border-rose-200",onClick:()=>ud(a.id),children:"Reset Today"})]}),i.jsx("div",{className:"space-y-2",children:ce.length===0?i.jsx("p",{className:"text-xs text-slate-500",children:"No students found."}):ce.map(oe=>ae(oe,W?D.get(String(oe.id)):null,W))})]})}return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{className:"rounded bg-emerald-500 text-white text-xs font-semibold px-3 py-2",onClick:()=>no(a.id,g.map(D=>D.id)),children:"Mark Rest Present (All)"}),i.jsx("button",{className:"rounded bg-rose-100 text-rose-800 text-xs font-semibold px-3 py-2 border border-rose-200",onClick:()=>ud(a.id),children:"Reset Today"})]}),I.map(D=>{const W=D.students.filter(oe=>_[oe.id]!=="absent").map(oe=>oe.id),ce=D.name.replace("Table","").trim()||D.name;return i.jsxs("div",{className:"rounded-xl border border-slate-200",children:[i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-slate-50 border-b border-slate-200 gap-3",children:[i.jsxs("div",{className:"flex flex-col leading-tight text-center min-w-[54px]",children:[i.jsx("span",{className:"text-sm font-semibold text-slate-800",children:"Table"}),i.jsx("span",{className:"text-sm font-semibold text-slate-900",children:ce})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{className:"text-xs rounded bg-emerald-100 text-emerald-800 px-2 py-1",onClick:()=>no(a.id,D.students.map(oe=>oe.id)),children:"Mark Rest Present"}),a.pointsEnabled&&i.jsx("button",{className:"text-[11px] rounded bg-amber-600 text-white px-3 py-2 font-semibold",onClick:()=>{Ot(null),rn(0),$i(""),nn({periodId:a.id,tableName:D.name,studentIds:W})},children:"Table Points"})]})]}),i.jsx("div",{className:"p-3 flex flex-wrap gap-2",children:D.students.length===0?i.jsx("p",{className:"text-xs text-slate-500",children:"No students assigned."}):D.students.map(oe=>ae(oe))})]},D.id)}),i.jsxs("div",{className:"rounded-xl border border-slate-200",children:[i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-slate-50 border-b border-slate-200",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Unassigned"}),i.jsx("button",{className:"text-xs rounded bg-emerald-100 text-emerald-800 px-2 py-1",onClick:()=>no(a.id,C.map(D=>D.id)),children:"Mark Rest Present"})]}),i.jsx("div",{className:"p-3 flex flex-wrap gap-2",children:C.length===0?i.jsx("p",{className:"text-xs text-slate-500",children:"No unassigned students."}):C.map(D=>ae(D))})]})]})})():i.jsx("p",{className:"text-sm text-slate-500",children:"Load and select a period to begin."})]}),H&&i.jsx(Rw,{open:!0,studentId:H.id,studentFullName:H.fullName,existingPhotoFileId:H.photoFileId,onClose:()=>Q(null),onAccept:a=>{const m=H.id;if(!m)return;const g=URL.createObjectURL(a);fe(S=>{const w=S[m];return w&&URL.revokeObjectURL(w),{...S,[m]:g}})},onUploadComplete:({fileId:a,photoUpdatedAt:m})=>{const g=H.id;Fe(S=>S&&{...S,students:S.students.map(w=>w.id===g?{...w,photoFileId:a,photoUpdatedAt:m}:w)}),ut(),gt({silent:!0})}}),$c&&Rn&&i.jsx(Lv,{isOpen:!0,onRequestClose:ql,title:"Edit Student",maxWidth:"md",showCloseX:!0,footer:i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{className:"rounded border px-4 py-2 text-sm text-slate-600",onClick:ql,children:"Cancel"}),i.jsx("button",{className:"rounded bg-indigo-600 px-4 py-2 text-sm font-semibold text-white",onClick:()=>{const a=Rn.name.trim();if(!a||!Rn.periodId){alert("Name and period are required.");return}const m=$c.id;Fe(g=>g&&{...g,students:g.students.map(S=>String(S.id)===String(m)?{...S,fullName:a,gender:Rn.gender,periodIds:[String(Rn.periodId)],profileUpdatedAt:new Date().toISOString()}:S)}),ut(),gt({silent:!0}),ql()},children:"Save"})]}),children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-600",children:"Full Name"}),i.jsx("input",{className:"mt-1 w-full rounded border px-3 py-2",value:Rn.name,onChange:a=>Ls(m=>m&&{...m,name:a.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-600",children:"Gender"}),i.jsxs("select",{className:"mt-1 w-full rounded border px-3 py-2",value:Rn.gender,onChange:a=>Ls(m=>m&&{...m,gender:a.target.value}),children:[i.jsx("option",{value:"F",children:"Female"}),i.jsx("option",{value:"M",children:"Male"}),i.jsx("option",{value:"O",children:"Other/Prefer not"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-600",children:"Class Period"}),i.jsx("select",{className:"mt-1 w-full rounded border px-3 py-2",value:Rn.periodId,onChange:a=>Ls(m=>m&&{...m,periodId:a.target.value}),children:((L==null?void 0:L.periods)||[]).map(a=>i.jsx("option",{value:String(a.id),children:a.name},String(a.id)))})]})]})}),Ae&&i.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center px-4",onClick:()=>Gt(null),children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-4 w-full max-w-sm space-y-3",onClick:a=>a.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:Ae.name}),i.jsx("p",{className:"text-xs text-slate-500",children:"Actions"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{type:"button",className:"rounded-md p-1 text-slate-600 hover:text-slate-800",onClick:()=>{Gt(null),cg(Ae.id)},"aria-label":"Edit student",children:""}),i.jsx("button",{type:"button",className:"rounded-md p-1 text-rose-600 hover:text-rose-700",onClick:()=>dg(Ae.id),"aria-label":"Delete student",children:""}),i.jsx("button",{className:"rounded-md p-1 text-slate-500 hover:text-slate-700",onClick:()=>Gt(null),children:""})]})]}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:Vs.map(a=>i.jsx("button",{className:"rounded-lg border border-slate-200 px-2 py-2 text-xs text-left hover:bg-slate-50",onClick:()=>{Mt&&ra(Mt,Ae.id,a),Gt(null)},children:id(a)},a))}),md!==null&&hd!==null&&gd!==null&&i.jsxs("div",{className:"rounded-lg border border-slate-200 px-3 py-2 text-xs text-slate-600",children:[i.jsx("div",{className:"font-semibold text-slate-700",children:"Counters (since reset)"}),i.jsxs("div",{children:["Absent ",md,"  Tardy ",hd,"  Left early ",gd]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("button",{className:"w-full rounded-lg border border-rose-200 px-2 py-2 text-xs text-left hover:bg-rose-50 text-rose-700",onClick:()=>{Mt&&Ae&&na(Mt,Ae.id,"absent"),Gt(null)},children:" Reset absence streak"}),i.jsx("button",{className:"w-full rounded-lg border border-amber-200 px-2 py-2 text-xs text-left hover:bg-amber-50 text-amber-700",onClick:()=>{Mt&&Ae&&na(Mt,Ae.id,"tardy"),Gt(null)},children:" Reset tardy counter"}),i.jsx("button",{className:"w-full rounded-lg border border-orange-200 px-2 py-2 text-xs text-left hover:bg-orange-50 text-orange-700",onClick:()=>{Mt&&Ae&&na(Mt,Ae.id,"leftEarly"),Gt(null)},children:" Reset left early counter"})]}),i.jsx("div",{className:"space-y-2",children:i.jsx("button",{className:"w-full rounded-lg border border-slate-200 px-2 py-2 text-xs text-left hover:bg-slate-50",onClick:()=>{Mt&&yg(Mt,Ae.id,Ae.name),Gt(null)},children:" Notes and Points"})}),i.jsx("button",{className:"w-full rounded-lg bg-slate-900 text-white font-semibold py-2 text-sm",onClick:()=>Gt(null),children:"Close"})]})}),Wi&&i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>Lr(null)}),i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-sm p-5 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"About this badge"}),i.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>Lr(null),children:""})]}),Wi==="absent"?i.jsx("p",{className:"text-sm text-slate-700",children:"A# shows the absence streak since the last present or reset. Unmarked days are skipped."}):Wi==="leftEarly"?i.jsx("p",{className:"text-sm text-slate-700",children:"LE# shows the left early count since the last reset."}):i.jsx("p",{className:"text-sm text-slate-700",children:"T# shows the tardy count since the last reset."}),i.jsx("button",{className:"w-full rounded-lg bg-slate-900 text-white font-semibold py-2 text-sm",onClick:()=>Lr(null),children:"Got it"})]})]}),Pn&&i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>ir(null)}),i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg p-5 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:["Behavior for ",Pn.studentName]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Today  Points ",at.pointsEnabled?`${Zi(at.currentPoints,at.startingPoints)} ${at.currentPoints}`:"disabled"]})]}),i.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>ir(null),children:""})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-semibold text-slate-700",children:"Note"}),i.jsx("textarea",{value:Lt.note,onChange:a=>fn(m=>({...m,note:a.target.value})),className:"w-full border-2 border-slate-200 rounded-lg px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",rows:4,placeholder:"Enter behavior note...",autoFocus:!0,onMouseDown:a=>a.stopPropagation(),onClick:a=>a.stopPropagation()}),i.jsx("div",{className:"flex flex-wrap gap-2",children:[" Excellent participation"," Needs redirection"," Academic progress"," Positive peer interactions"].map(a=>i.jsx("button",{onClick:()=>fn(m=>({...m,note:m.note?m.note+" "+a:a})),className:"text-[11px] px-2.5 py-1 rounded-lg bg-slate-100 hover:bg-slate-200 border border-slate-200 text-slate-700",children:a},a))})]}),at.pointsEnabled&&i.jsxs("div",{className:"space-y-3 border border-slate-200 rounded-xl p-3 bg-slate-50",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Points"}),i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsxs("span",{children:[Zi(at.currentPoints,at.startingPoints)," ",at.currentPoints]}),i.jsx("span",{className:"text-slate-400",children:""}),i.jsxs("span",{children:[Zi(Math.max(0,at.currentPoints+Lt.delta),at.startingPoints)," ",Math.max(0,at.currentPoints+Lt.delta)]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[[2,1,0,-1,-2].map(a=>i.jsx("button",{onClick:()=>fn(m=>({...m,delta:a,reason:m.reason})),className:`px-3 py-1.5 rounded border text-sm font-semibold ${Lt.delta===a?"bg-indigo-600 text-white border-indigo-600":"bg-white text-slate-700 border-slate-300 hover:bg-indigo-50"}`,children:a>0?`+${a}`:a},a)),i.jsx("button",{onClick:()=>{const a=prompt("Enter custom point change:",String(Lt.delta));if(a===null)return;const m=parseInt(a,10);Number.isNaN(m)||fn(g=>({...g,delta:m,reason:g.reason}))},className:"px-3 py-1.5 rounded border text-sm font-semibold bg-white text-slate-700 border-slate-300 hover:bg-indigo-50",children:"Custom"})]}),Lt.delta!==0&&i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[11px] font-semibold text-slate-700",children:"Reason (required)"}),i.jsx("input",{value:Lt.reason,onChange:a=>fn(m=>({...m,reason:a.target.value})),className:"w-full border border-slate-300 rounded px-2 py-1 text-sm",placeholder:"Enter reason for point change"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{className:"flex-1 rounded-lg bg-indigo-600 text-white font-semibold py-2",onClick:gg,children:"Save"}),i.jsx("button",{className:"flex-1 rounded-lg bg-slate-200 text-slate-800 font-semibold py-2",onClick:()=>ir(null),children:"Cancel"})]})]})]}),Rs&&L&&(()=>{const a=L.students.find(m=>m.id===Rs.studentId);return a?i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>ar(null)}),i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg p-5 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Quick Note"}),i.jsx("p",{className:"text-xs text-slate-500",children:a.fullName})]}),i.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>ar(null),children:""})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-semibold text-slate-700",children:"Note"}),i.jsx("textarea",{value:Ds,onChange:m=>Tn(m.target.value),className:"w-full border-2 border-slate-200 rounded-lg px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",rows:5,placeholder:"Add a quick note...",autoFocus:!0,onMouseDown:m=>m.stopPropagation(),onClick:m=>m.stopPropagation()})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{className:"flex-1 rounded-lg bg-indigo-600 text-white font-semibold py-2",onClick:()=>{const m=Rs.studentId,g=Ds;Fe(S=>S&&{...S,students:S.students.map(w=>w.id===m?{...w,quickNote:g,quickNoteUpdatedAt:new Date().toISOString()}:w)}),Ln.current+=1,An(!0),tt(!0),dr.current=Date.now(),gt({silent:!0}),ar(null)},children:"Save"}),i.jsx("button",{className:"flex-1 rounded-lg bg-slate-200 text-slate-800 font-semibold py-2",onClick:()=>ar(null),children:"Cancel"})]})]})]}):null})(),U&&L&&(()=>{const a=L.students.find(w=>w.id===U.studentId);if(!a)return null;const m=L.periods.find(w=>w.id===et),S=(a.docs||[]).slice().sort((w,C)=>{if(w.pinned&&!C.pinned)return-1;if(!w.pinned&&C.pinned)return 1;const P=w.createdAt?new Date(w.createdAt).getTime():0;return(C.createdAt?new Date(C.createdAt).getTime():0)-P});return i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>z(null)}),i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg p-5 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Student Docs"}),i.jsx("p",{className:"text-xs text-slate-500",children:a.fullName})]}),i.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>z(null),children:""})]}),i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Tap a doc to open it in Google Docs."}),i.jsx("p",{className:"text-[11px] leading-snug text-slate-500",children:"To protect privacy, ClassSeats can only see the documents it helps create."}),i.jsx("p",{className:"text-[11px] leading-snug text-slate-500",children:"All documents are created in the ClassSeats/Student Docs folder in your Google Drive."})]}),i.jsx("button",{className:"rounded-lg bg-emerald-600 text-white text-xs font-semibold px-3 py-2 disabled:opacity-50",disabled:!n.canUseDriveSync,onClick:async()=>{if(n.canUseDriveSync)try{const w=await De(!0,"studentDocCreate");if(!w)return;const C=(m==null?void 0:m.name)||"Period",P=`Notes - ${a.fullName} - ${C} ${mg(new Date)}`,I=window.prompt("Name this Doc:",P);if(!I||!I.trim())return;const _=I.trim(),V=await Yx(w.accessToken),J=await Xx(w.accessToken,V,_),te=new Date().toISOString(),ae={id:pg(),driveFileId:J.fileId,title:J.title||_,createdAt:te,lastOpenedAt:te};Fe(D=>D&&{...D,students:D.students.map(W=>W.id===a.id?{...W,docs:[...W.docs||[],ae]}:W)}),Ln.current+=1,An(!0),tt(!0),dr.current=Date.now(),ta(ea(J.fileId))}catch(w){Qe((w==null?void 0:w.message)||"Unable to create Google Doc.")}},children:"+ New Doc"})]}),i.jsx("div",{className:"max-h-72 overflow-y-auto space-y-2",children:S.length===0?i.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 text-sm text-slate-600",children:"No Docs yet."}):S.map(w=>i.jsx("button",{className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-50",onClick:C=>{C.preventDefault(),C.stopPropagation(),ta(ea(w.driveFileId))},children:i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("span",{className:"font-semibold text-slate-900",children:w.title}),w.pinned&&i.jsx("span",{className:"text-[10px] font-semibold text-emerald-700 bg-emerald-100 px-2 py-0.5 rounded-full",children:"PINNED"})]})},w.id))}),i.jsx("button",{className:"w-full rounded-lg bg-slate-200 text-slate-800 font-semibold py-2",onClick:()=>z(null),children:"Close"})]})]})})(),!L&&i.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 space-y-3 text-left",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"No class file loaded yet."}),i.jsx("p",{className:"text-sm text-slate-600",children:"To take attendance or track points, open a class file from your Google Drive."}),i.jsx("button",{className:"w-full rounded-lg bg-emerald-600 text-white font-semibold py-2",onClick:()=>{if(s){k(l);return}return o?K(!0):void De(!0,"empty-state")},disabled:s,title:s?l:void 0,children:"Manage Files"})]}),Ce&&i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>nn(null)}),i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg p-5 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:Ce.tableName}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Apply points to ",Ce.studentIds.length," present student",Ce.studentIds.length===1?"":"s"]})]}),i.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>nn(null),children:""})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-semibold text-slate-700",children:"Note (required)"}),i.jsx("textarea",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Describe why youre adjusting points",value:Ar,onChange:a=>$i(a.target.value),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Choose points"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[[2,1,-1,-2].map(a=>{const m=Is===a;return i.jsxs("button",{className:`px-3 py-2 rounded-lg text-sm font-semibold border ${m?"bg-amber-600 text-white border-amber-600":"bg-white text-amber-800 border-amber-300"}`,onClick:()=>{Ot(a),rn(0)},children:[a>0?`+${a}`:a," pts"]},a)}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("input",{type:"number",className:"w-24 rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Custom",value:mt,onFocus:()=>Ot(null),onChange:a=>rn(Number(a.target.value)||0)})})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{className:"flex-1 rounded-lg bg-amber-600 text-white font-semibold py-2",onClick:()=>{const a=Ar.trim(),m=Is??mt;if(!a){Qe("Enter a note for the point change.");return}if(!m){Qe("Select a point value.");return}hg(Ce.periodId,Ce.studentIds,m,a),Ot(null),rn(0),$i(""),nn(null)},children:"Apply"}),i.jsx("button",{className:"flex-1 rounded-lg bg-slate-200 text-slate-800 font-semibold py-2",onClick:()=>nn(null),children:"Cancel"})]}),i.jsx("p",{className:"text-[11px] text-slate-500",children:"Only present students at this table receive the adjustment. Absent students are skipped."}),(()=>{const a=(It[Ce.periodId]||[]).filter(g=>{var S;return((S=g.date)==null?void 0:S.startsWith(ee))&&Ce.studentIds.includes(String(g.studentId))});if(a.length===0)return null;const m=g=>{var S;return((S=L==null?void 0:L.students.find(w=>String(w.id)===String(g)))==null?void 0:S.fullName)||`Student ${g}`};return i.jsxs("div",{className:"border-t border-slate-200 pt-2 space-y-1",children:[i.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Todays table adjustments"}),i.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:a.map((g,S)=>i.jsxs("div",{className:"text-xs text-slate-700 flex justify-between",children:[i.jsx("span",{className:"font-semibold",children:m(g.studentId)}),i.jsxs("span",{children:[g.delta>0?"+":"",g.delta,"  ",g.reason||"No note"]})]},`${g.studentId}-${S}`))})]})})()]})]})]}),T&&i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>K(!1)}),i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-5 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"Manage Files"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Sign in, load, create, or import ClassSeats files."})]}),i.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>K(!1),children:""})]}),s?i.jsx("div",{className:"space-y-2 text-sm text-rose-700",children:i.jsx("p",{children:l})}):o?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-slate-600",children:[i.jsxs("div",{children:[i.jsxs("p",{children:["Signed in as ",i.jsx("span",{className:"font-semibold text-slate-900",children:((xd=o.profile)==null?void 0:xd.email)||"your account"})]}),i.jsxs("p",{children:["Active file: ",i.jsx("span",{className:"font-semibold text-slate-900",children:(O==null?void 0:O.name)||(ne==null?void 0:ne.name)||"None selected"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[O&&i.jsx("button",{className:"px-3 py-1 rounded bg-rose-600 text-white font-semibold",onClick:()=>void vg(),children:" Delete Active File"}),i.jsx("button",{className:"text-rose-600 underline",onClick:xg,children:"Sign out"})]})]}),qf,i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("button",{className:"w-full rounded-2xl bg-slate-900 text-white font-semibold py-2",onClick:()=>void wg(!0),children:" Refresh Cloud Files"}),i.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-3 max-h-64 overflow-auto space-y-2",children:[x&&i.jsx("p",{className:"text-sm text-slate-500",children:"Loading Drive files"}),v&&i.jsx("p",{className:"text-sm text-rose-600",children:v}),!x&&!v&&c.length===0&&i.jsxs("div",{className:"text-sm text-slate-700 space-y-1",children:[i.jsx("p",{className:"font-semibold",children:"Youre signed into Google Drive, but no class file is loaded yet."}),i.jsx("p",{className:"text-slate-500",children:"Choose an existing class file or create a new one linked to your desktop setup."})]}),!x&&!v&&c.length>0&&c.map(a=>{const m=(ne==null?void 0:ne.id)===a.id,g=(O==null?void 0:O.id)===a.id;return i.jsxs("button",{className:`w-full text-left rounded-xl border px-3 py-2 transition ${m?"border-indigo-400 bg-indigo-50 text-indigo-900":g?"border-emerald-400 bg-emerald-50 text-emerald-900":"border-slate-200 bg-white hover:bg-slate-100"}`,onClick:()=>Me(a),children:[i.jsx("p",{className:"text-sm font-semibold",children:a.name}),i.jsxs("p",{className:"text-[11px] text-slate-500",children:["Updated ",a.modifiedTime?new Date(a.modifiedTime).toLocaleString():"",a.size?`  ${(Number(a.size)/1024).toFixed(1)} KB`:""]}),g&&i.jsx("p",{className:"text-[11px] text-emerald-700 font-semibold",children:"Active"})]},a.id)})]}),i.jsx("button",{className:"w-full rounded-2xl bg-emerald-600 text-white font-semibold py-2 disabled:opacity-50",onClick:Sg,disabled:!ne||qe,children:qe?"Loading":ne?`Load "${ne.name}"`:"Load Selected File"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("button",{className:"w-full rounded-2xl bg-emerald-600 text-white font-semibold py-2 disabled:opacity-50",onClick:()=>void gt(),disabled:!O,children:" Sync (pull latest, then save)"}),i.jsx("p",{className:"text-[11px] text-slate-500 text-center",children:"Uses the selected cloud file. Select or create one first."})]})]}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"space-y-2 border-b border-slate-200 pb-3",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Create a new cloud file"}),i.jsx("input",{type:"text",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm",placeholder:"e.g., Semester 2 24-25",value:$,onChange:a=>de(a.target.value)}),i.jsx("button",{className:"w-full rounded-2xl bg-slate-900 text-white font-semibold py-2 disabled:opacity-50",onClick:Ng,disabled:q,children:q?"Creating":"Create Cloud File"})]})})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-slate-700",children:"Sign in with Google to access Drive."}),i.jsx("p",{className:"text-[11px] text-amber-700",children:"Use your school Google account. Files stay in your Drive (ClassSeats folder)."}),i.jsx("button",{className:"w-full rounded-2xl bg-indigo-600 text-white font-semibold py-2",onClick:()=>{K(!1),De(!0)},children:" Sign in with Google"})]})]})]})]})]}),i.jsx("div",{className:"fixed inset-x-0 bottom-0 px-4 pb-[env(safe-area-inset-bottom)]",children:i.jsxs("div",{className:"bg-white/95 border border-slate-200 rounded-2xl shadow-lg px-4 py-3 flex flex-wrap items-center gap-2 text-xs text-slate-700",children:[i.jsxs("div",{className:"flex-1 min-w-[180px]",children:[i.jsx("p",{className:"font-semibold text-slate-900",children:Os?"Saving":Vl?`Synced ${new Date(Vl).toLocaleTimeString()}`:"Ready"}),i.jsxs("p",{className:"text-[11px] text-slate-500 truncate",children:[o?((vd=o.profile)==null?void 0:vd.email)||"Signed in":"Not signed in"," "," ",(O==null?void 0:O.name)||(ne==null?void 0:ne.name)||"No file selected",He&&"  Offline"]}),pn&&i.jsx("p",{className:"text-[11px] text-amber-700",children:"Pending sync"})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[i.jsx("button",{className:"rounded-full bg-emerald-600 text-white px-3 py-2 text-xs font-semibold disabled:opacity-50 flex-none",disabled:!o||!O,onClick:()=>void gt(),children:"Sync Now"}),i.jsx("button",{className:"rounded-full bg-slate-900 text-white px-3 py-2 text-xs font-semibold flex-none",onClick:()=>o?K(!0):void De(!0,"cta"),children:"Manage Files"})]})]})}),i.jsx(uw,{open:X,onClose:()=>me(!1),buildRevision:Zf})]}),He&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm flex items-center justify-center px-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-4 text-center space-y-2 text-slate-900",children:[i.jsx("p",{className:"text-base font-semibold",children:"Mobile paused while offline"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Edits are disabled while offline. Reconnect to resume."}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Last sync: ",Vl?new Date(Vl).toLocaleTimeString():"No sync yet"]})]})})]})})}function Fw({toasts:e}){return i.jsx("div",{className:"fixed right-4 top-4 z-[1000] flex w-[320px] max-w-[calc(100vw-2rem)] flex-col gap-2",children:e.map(t=>{const n=t.kind==="success"?"border-emerald-200 bg-emerald-50 text-emerald-900":t.kind==="error"?"border-rose-200 bg-rose-50 text-rose-900":t.kind==="warning"?"border-amber-200 bg-amber-50 text-amber-900":"border-slate-200 bg-slate-50 text-slate-800",r=t.kind==="success"?"":t.kind==="error"?"":t.kind==="warning"?"":"";return i.jsx("div",{className:`rounded-xl border px-3 py-2 shadow-sm ${n}`,children:i.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[i.jsx("span",{"aria-hidden":"true",children:r}),i.jsx("div",{className:"leading-snug",children:t.message})]})},t.id)})})}function Uw({open:e,opts:t,onCancel:n,onConfirm:r}){if(!e||!t)return null;const s=t.tone??"default",l=t.confirmText??"Confirm",o=t.cancelText===null,u=t.cancelText??"Cancel",c=s==="danger"?"bg-rose-600 hover:bg-rose-700 text-white":"bg-indigo-600 hover:bg-indigo-700 text-white";return i.jsx("div",{className:"fixed inset-0 z-[1100] flex items-center justify-center bg-black/40 p-4",children:i.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white shadow-2xl border border-slate-200",children:[i.jsxs("div",{className:"p-5 border-b border-slate-100",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:t.title}),i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.message})]}),i.jsxs("div",{className:"p-5 flex items-center justify-end gap-2",children:[!o&&i.jsx("button",{className:"rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50",onClick:n,children:u}),i.jsx("button",{className:`rounded-xl px-4 py-2 text-sm font-semibold ${c}`,onClick:r,children:l})]})]})})}function zw({open:e,opts:t,onCancel:n,onConfirm:r}){const[s,l]=f.useState("");if(f.useEffect(()=>{e&&t&&l(t.defaultValue??"")},[e,t]),!e||!t)return null;const o=t.confirmText??"OK",u=t.cancelText??"Cancel",c=t.inputType??"text";return i.jsx("div",{className:"fixed inset-0 z-[1100] flex items-center justify-center bg-black/40 p-4",children:i.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white shadow-2xl border border-slate-200",children:[i.jsxs("div",{className:"p-5 border-b border-slate-100",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:t.title}),t.message&&i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.message})]}),i.jsxs("div",{className:"p-5 space-y-3",children:[i.jsx("input",{autoFocus:!0,type:c,value:s,onChange:d=>l(d.target.value),placeholder:t.placeholder??"",className:"w-full rounded-xl border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-200"}),i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{className:"rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50",onClick:n,children:u}),i.jsx("button",{className:"rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700",onClick:()=>r(s),children:o})]})]})]})})}function $w(){return Math.random().toString(16).slice(2)+Date.now().toString(16)}function Bw({children:e}){const[t,n]=f.useState([]),r=f.useRef(null),[s,l]=f.useState(!1),[o,u]=f.useState(null),c=f.useRef(null),[d,x]=f.useState(!1),[N,v]=f.useState(null),j=f.useCallback((h,p,y=2500)=>{const E=$w(),A={id:E,kind:h,message:p,durationMs:y};n(M=>[...M,A]),window.setTimeout(()=>{n(M=>M.filter(F=>F.id!==E))},y)},[]),b=f.useCallback(h=>(u(h),l(!0),new Promise(p=>{r.current=p})),[]),k=f.useCallback(h=>(v(h),x(!0),new Promise(p=>{c.current=p})),[]),Y=f.useMemo(()=>({toast:j,confirm:b,prompt:k}),[j,b,k]);return i.jsxs(mx.Provider,{value:Y,children:[e,i.jsx(Fw,{toasts:t}),i.jsx(Uw,{open:s,opts:o,onCancel:()=>{l(!1);const h=r.current;r.current=null,h==null||h(!1)},onConfirm:()=>{l(!1);const h=r.current;r.current=null,h==null||h(!0)}}),i.jsx(zw,{open:d,opts:N,onCancel:()=>{x(!1);const h=c.current;c.current=null,h==null||h(null)},onConfirm:h=>{x(!1);const p=c.current;c.current=null,p==null||p(h)}})]})}const gs={waiting:!1,registration:null},Lu=new Set;function ip(){for(const e of Lu)e({...gs})}function Ww(e){return Lu.add(e),e({...gs}),()=>{Lu.delete(e)}}async function Hw(){if("serviceWorker"in navigator&&!window.__cs_sw_registered){window.__cs_sw_registered=!0;try{const t=await navigator.serviceWorker.register("/service-worker.js",{updateViaCache:"none"});gs.registration=t,t.waiting&&navigator.serviceWorker.controller&&(gs.waiting=!0),t.addEventListener("updatefound",()=>{const s=t.installing;s&&s.addEventListener("statechange",()=>{s.state==="installed"&&navigator.serviceWorker.controller&&(gs.waiting=!0,ip())})});const n=()=>t.update().catch(()=>{});window.addEventListener("focus",n),window.setInterval(n,6e4),ip();let r=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{r||(r=!0,window.location.reload())})}catch(e){console.warn("[PWA] SW registration failed",e)}}}async function Vw(){const e=gs.registration;e!=null&&e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"})}function Kw(){const[e,t]=f.useState({waiting:!1,registration:null});return f.useEffect(()=>Ww(t),[]),e.waiting?i.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-[9999]",children:i.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-slate-900 text-white px-4 py-3 shadow-xl",children:[i.jsx("div",{className:"text-sm font-semibold",children:"Update available"}),i.jsx("button",{className:"rounded-xl bg-white/15 hover:bg-white/25 px-3 py-1 text-sm font-semibold",onClick:async()=>{await Vw()},children:"Refresh"})]})}):null}const Gw=document.getElementById("root");Ma.createRoot(Gw).render(i.jsx(Bg.StrictMode,{children:i.jsx(Uv,{children:i.jsxs(Bw,{children:[i.jsx(Mw,{}),i.jsx(Kw,{})]})})})),Hw();
