(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Cg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cp={exports:{}},vi={},dp={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ml=Symbol.for("react.element"),Eg=Symbol.for("react.portal"),_g=Symbol.for("react.fragment"),Pg=Symbol.for("react.strict_mode"),Tg=Symbol.for("react.profiler"),Rg=Symbol.for("react.provider"),Dg=Symbol.for("react.context"),Ig=Symbol.for("react.forward_ref"),Ag=Symbol.for("react.suspense"),Lg=Symbol.for("react.memo"),Og=Symbol.for("react.lazy"),jd=Symbol.iterator;function Mg(e){return e===null||typeof e!="object"?null:(e=jd&&e[jd]||e["@@iterator"],typeof e=="function"?e:null)}var fp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pp=Object.assign,mp={};function Cs(e,t,n){this.props=e,this.context=t,this.refs=mp,this.updater=n||fp}Cs.prototype.isReactComponent={};Cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hp(){}hp.prototype=Cs.prototype;function Ou(e,t,n){this.props=e,this.context=t,this.refs=mp,this.updater=n||fp}var Mu=Ou.prototype=new hp;Mu.constructor=Ou;pp(Mu,Cs.prototype);Mu.isPureReactComponent=!0;var bd=Array.isArray,gp=Object.prototype.hasOwnProperty,Fu={current:null},yp={key:!0,ref:!0,__self:!0,__source:!0};function xp(e,t,n){var r,s={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)gp.call(t,r)&&!yp.hasOwnProperty(r)&&(s[r]=t[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{$$typeof:Ml,type:e,key:l,ref:o,props:s,_owner:Fu.current}}function Fg(e,t){return{$$typeof:Ml,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Uu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ml}function Ug(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cd=/\/+/g;function la(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ug(""+e.key):t.toString(36)}function _o(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ml:case Eg:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+la(o,0):r,bd(s)?(n="",e!=null&&(n=e.replace(Cd,"$&/")+"/"),_o(s,t,n,"",function(d){return d})):s!=null&&(Uu(s)&&(s=Fg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Cd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",bd(e))for(var u=0;u<e.length;u++){l=e[u];var c=r+la(l,u);o+=_o(l,t,n,c,s)}else if(c=Mg(e),typeof c=="function")for(e=c.call(e),u=0;!(l=e.next()).done;)l=l.value,c=r+la(l,u++),o+=_o(l,t,n,c,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function oo(e,t,n){if(e==null)return e;var r=[],s=0;return _o(e,r,"","",function(l){return t.call(n,l,s++)}),r}function zg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ft={current:null},Po={transition:null},$g={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:Po,ReactCurrentOwner:Fu};function vp(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:oo,forEach:function(e,t,n){oo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return oo(e,function(){t++}),t},toArray:function(e){return oo(e,function(t){return t})||[]},only:function(e){if(!Uu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=Cs;ne.Fragment=_g;ne.Profiler=Tg;ne.PureComponent=Ou;ne.StrictMode=Pg;ne.Suspense=Ag;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$g;ne.act=vp;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pp({},e.props),s=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Fu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)gp.call(t,c)&&!yp.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:Ml,type:e.type,key:s,ref:l,props:r,_owner:o}};ne.createContext=function(e){return e={$$typeof:Dg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Rg,_context:e},e.Consumer=e};ne.createElement=xp;ne.createFactory=function(e){var t=xp.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:Ig,render:e}};ne.isValidElement=Uu;ne.lazy=function(e){return{$$typeof:Og,_payload:{_status:-1,_result:e},_init:zg}};ne.memo=function(e,t){return{$$typeof:Lg,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Po.transition;Po.transition={};try{e()}finally{Po.transition=t}};ne.unstable_act=vp;ne.useCallback=function(e,t){return ft.current.useCallback(e,t)};ne.useContext=function(e){return ft.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return ft.current.useDeferredValue(e)};ne.useEffect=function(e,t){return ft.current.useEffect(e,t)};ne.useId=function(){return ft.current.useId()};ne.useImperativeHandle=function(e,t,n){return ft.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return ft.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return ft.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return ft.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return ft.current.useReducer(e,t,n)};ne.useRef=function(e){return ft.current.useRef(e)};ne.useState=function(e){return ft.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return ft.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return ft.current.useTransition()};ne.version="18.3.1";dp.exports=ne;var f=dp.exports;const Bg=Cg(f);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=f,Hg=Symbol.for("react.element"),Vg=Symbol.for("react.fragment"),Kg=Object.prototype.hasOwnProperty,Gg=Wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qg={key:!0,ref:!0,__self:!0,__source:!0};function wp(e,t,n){var r,s={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Kg.call(t,r)&&!Qg.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Hg,type:e,key:l,ref:o,props:s,_owner:Gg.current}}vi.Fragment=Vg;vi.jsx=wp;vi.jsxs=wp;cp.exports=vi;var i=cp.exports,Ma={},Sp={exports:{}},Pt={},Np={exports:{}},kp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,G){var q=T.length;T.push(G);e:for(;0<q;){var me=q-1>>>1,he=T[me];if(0<s(he,G))T[me]=G,T[q]=he,q=me;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var G=T[0],q=T.pop();if(q!==G){T[0]=q;e:for(var me=0,he=T.length,Bt=he>>>1;me<Bt;){var L=2*(me+1)-1,Ve=T[L],ze=L+1,$e=T[ze];if(0>s(Ve,q))ze<he&&0>s($e,Ve)?(T[me]=$e,T[ze]=q,me=ze):(T[me]=Ve,T[L]=q,me=L);else if(ze<he&&0>s($e,q))T[me]=$e,T[ze]=q,me=ze;else break e}}return G}function s(T,G){var q=T.sortIndex-G.sortIndex;return q!==0?q:T.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var c=[],d=[],x=1,N=null,v=3,j=!1,b=!1,k=!1,Y=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=T)r(d),G.sortIndex=G.expirationTime,t(c,G);else break;G=n(d)}}function E(T){if(k=!1,y(T),!b)if(n(c)!==null)b=!0,O(A);else{var G=n(d);G!==null&&ye(E,G.startTime-T)}}function A(T,G){b=!1,k&&(k=!1,h($),$=-1),j=!0;var q=v;try{for(y(G),N=n(c);N!==null&&(!(N.expirationTime>G)||T&&!ve());){var me=N.callback;if(typeof me=="function"){N.callback=null,v=N.priorityLevel;var he=me(N.expirationTime<=G);G=e.unstable_now(),typeof he=="function"?N.callback=he:N===n(c)&&r(c),y(G)}else r(c);N=n(c)}if(N!==null)var Bt=!0;else{var L=n(d);L!==null&&ye(E,L.startTime-G),Bt=!1}return Bt}finally{N=null,v=q,j=!1}}var M=!1,F=null,$=-1,de=5,X=-1;function ve(){return!(e.unstable_now()-X<de)}function Xe(){if(F!==null){var T=e.unstable_now();X=T;var G=!0;try{G=F(!0,T)}finally{G?it():(M=!1,F=null)}}else M=!1}var it;if(typeof p=="function")it=function(){p(Xe)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,qe=oe.port2;oe.port1.onmessage=Xe,it=function(){qe.postMessage(null)}}else it=function(){Y(Xe,0)};function O(T){F=T,M||(M=!0,it())}function ye(T,G){$=Y(function(){T(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){b||j||(b=!0,O(A))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var q=v;v=G;try{return T()}finally{v=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,G){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var q=v;v=T;try{return G()}finally{v=q}},e.unstable_scheduleCallback=function(T,G,q){var me=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?me+q:me):q=me,T){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=q+he,T={id:x++,callback:G,priorityLevel:T,startTime:q,expirationTime:he,sortIndex:-1},q>me?(T.sortIndex=q,t(d,T),n(c)===null&&T===n(d)&&(k?(h($),$=-1):k=!0,ye(E,q-me))):(T.sortIndex=he,t(c,T),b||j||(b=!0,O(A))),T},e.unstable_shouldYield=ve,e.unstable_wrapCallback=function(T){var G=v;return function(){var q=v;v=G;try{return T.apply(this,arguments)}finally{v=q}}}})(kp);Np.exports=kp;var Yg=Np.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg=f,_t=Yg;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jp=new Set,wl={};function Tr(e,t){gs(e,t),gs(e+"Capture",t)}function gs(e,t){for(wl[e]=t,e=0;e<t.length;e++)jp.add(t[e])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=Object.prototype.hasOwnProperty,Xg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ed={},_d={};function qg(e){return Fa.call(_d,e)?!0:Fa.call(Ed,e)?!1:Xg.test(e)?_d[e]=!0:(Ed[e]=!0,!1)}function Zg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function e0(e,t,n,r){if(t===null||typeof t>"u"||Zg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pt(e,t,n,r,s,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Je[e]=new pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Je[t]=new pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Je[e]=new pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Je[e]=new pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Je[e]=new pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Je[e]=new pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Je[e]=new pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Je[e]=new pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Je[e]=new pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var zu=/[\-:]([a-z])/g;function $u(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zu,$u);Je[t]=new pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zu,$u);Je[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zu,$u);Je[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Je[e]=new pt(e,1,!1,e.toLowerCase(),null,!1,!1)});Je.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Je[e]=new pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bu(e,t,n,r){var s=Je.hasOwnProperty(t)?Je[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(e0(t,n,s,r)&&(n=null),r||s===null?qg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _n=Jg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,io=Symbol.for("react.element"),Yr=Symbol.for("react.portal"),Jr=Symbol.for("react.fragment"),Wu=Symbol.for("react.strict_mode"),Ua=Symbol.for("react.profiler"),bp=Symbol.for("react.provider"),Cp=Symbol.for("react.context"),Hu=Symbol.for("react.forward_ref"),za=Symbol.for("react.suspense"),$a=Symbol.for("react.suspense_list"),Vu=Symbol.for("react.memo"),Fn=Symbol.for("react.lazy"),Ep=Symbol.for("react.offscreen"),Pd=Symbol.iterator;function Gs(e){return e===null||typeof e!="object"?null:(e=Pd&&e[Pd]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,oa;function rl(e){if(oa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);oa=t&&t[1]||""}return`
`+oa+e}var ia=!1;function aa(e,t){if(!e||ia)return"";ia=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),l=r.stack.split(`
`),o=s.length-1,u=l.length-1;1<=o&&0<=u&&s[o]!==l[u];)u--;for(;1<=o&&0<=u;o--,u--)if(s[o]!==l[u]){if(o!==1||u!==1)do if(o--,u--,0>u||s[o]!==l[u]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=u);break}}}finally{ia=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rl(e):""}function t0(e){switch(e.tag){case 5:return rl(e.type);case 16:return rl("Lazy");case 13:return rl("Suspense");case 19:return rl("SuspenseList");case 0:case 2:case 15:return e=aa(e.type,!1),e;case 11:return e=aa(e.type.render,!1),e;case 1:return e=aa(e.type,!0),e;default:return""}}function Ba(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jr:return"Fragment";case Yr:return"Portal";case Ua:return"Profiler";case Wu:return"StrictMode";case za:return"Suspense";case $a:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cp:return(e.displayName||"Context")+".Consumer";case bp:return(e._context.displayName||"Context")+".Provider";case Hu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vu:return t=e.displayName||null,t!==null?t:Ba(e.type)||"Memo";case Fn:t=e._payload,e=e._init;try{return Ba(e(t))}catch{}}return null}function n0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ba(t);case 8:return t===Wu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _p(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function r0(e){var t=_p(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ao(e){e._valueTracker||(e._valueTracker=r0(e))}function Pp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_p(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ho(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wa(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Td(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=er(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tp(e,t){t=t.checked,t!=null&&Bu(e,"checked",t,!1)}function Ha(e,t){Tp(e,t);var n=er(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Va(e,t.type,n):t.hasOwnProperty("defaultValue")&&Va(e,t.type,er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Va(e,t,n){(t!=="number"||Ho(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var sl=Array.isArray;function is(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+er(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ka(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(sl(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:er(n)}}function Rp(e,t){var n=er(t.value),r=er(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Id(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ga(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uo,Ip=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uo=uo||document.createElement("div"),uo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},s0=["Webkit","ms","Moz","O"];Object.keys(cl).forEach(function(e){s0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cl[t]=cl[e]})});function Ap(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cl.hasOwnProperty(e)&&cl[e]?(""+t).trim():t+"px"}function Lp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ap(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var l0=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qa(e,t){if(t){if(l0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Ya(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ja=null;function Ku(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xa=null,as=null,us=null;function Ad(e){if(e=zl(e)){if(typeof Xa!="function")throw Error(R(280));var t=e.stateNode;t&&(t=ji(t),Xa(e.stateNode,e.type,t))}}function Op(e){as?us?us.push(e):us=[e]:as=e}function Mp(){if(as){var e=as,t=us;if(us=as=null,Ad(e),t)for(e=0;e<t.length;e++)Ad(t[e])}}function Fp(e,t){return e(t)}function Up(){}var ua=!1;function zp(e,t,n){if(ua)return e(t,n);ua=!0;try{return Fp(e,t,n)}finally{ua=!1,(as!==null||us!==null)&&(Up(),Mp())}}function Nl(e,t){var n=e.stateNode;if(n===null)return null;var r=ji(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var qa=!1;if(jn)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){qa=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{qa=!1}function o0(e,t,n,r,s,l,o,u,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(x){this.onError(x)}}var dl=!1,Vo=null,Ko=!1,Za=null,i0={onError:function(e){dl=!0,Vo=e}};function a0(e,t,n,r,s,l,o,u,c){dl=!1,Vo=null,o0.apply(i0,arguments)}function u0(e,t,n,r,s,l,o,u,c){if(a0.apply(this,arguments),dl){if(dl){var d=Vo;dl=!1,Vo=null}else throw Error(R(198));Ko||(Ko=!0,Za=d)}}function Rr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ld(e){if(Rr(e)!==e)throw Error(R(188))}function c0(e){var t=e.alternate;if(!t){if(t=Rr(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return Ld(s),e;if(l===r)return Ld(s),t;l=l.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=l;else{for(var o=!1,u=s.child;u;){if(u===n){o=!0,n=s,r=l;break}if(u===r){o=!0,r=s,n=l;break}u=u.sibling}if(!o){for(u=l.child;u;){if(u===n){o=!0,n=l,r=s;break}if(u===r){o=!0,r=l,n=s;break}u=u.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function Bp(e){return e=c0(e),e!==null?Wp(e):null}function Wp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wp(e);if(t!==null)return t;e=e.sibling}return null}var Hp=_t.unstable_scheduleCallback,Od=_t.unstable_cancelCallback,d0=_t.unstable_shouldYield,f0=_t.unstable_requestPaint,De=_t.unstable_now,p0=_t.unstable_getCurrentPriorityLevel,Gu=_t.unstable_ImmediatePriority,Vp=_t.unstable_UserBlockingPriority,Go=_t.unstable_NormalPriority,m0=_t.unstable_LowPriority,Kp=_t.unstable_IdlePriority,wi=null,un=null;function h0(e){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(wi,e,void 0,(e.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:x0,g0=Math.log,y0=Math.LN2;function x0(e){return e>>>=0,e===0?32:31-(g0(e)/y0|0)|0}var co=64,fo=4194304;function ll(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var u=o&~s;u!==0?r=ll(u):(l&=o,l!==0&&(r=ll(l)))}else o=n&~s,o!==0?r=ll(o):l!==0&&(r=ll(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qt(t),s=1<<n,r|=e[n],t&=~s;return r}function v0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-qt(l),u=1<<o,c=s[o];c===-1?(!(u&n)||u&r)&&(s[o]=v0(u,t)):c<=t&&(e.expiredLanes|=u),l&=~u}}function eu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gp(){var e=co;return co<<=1,!(co&4194240)&&(co=64),e}function ca(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qt(t),e[t]=n}function S0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-qt(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function Qu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var pe=0;function Qp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yp,Yu,Jp,Xp,qp,tu=!1,po=[],Hn=null,Vn=null,Kn=null,kl=new Map,jl=new Map,zn=[],N0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Md(e,t){switch(e){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":kl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(t.pointerId)}}function Ys(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=zl(t),t!==null&&Yu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function k0(e,t,n,r,s){switch(t){case"focusin":return Hn=Ys(Hn,e,t,n,r,s),!0;case"dragenter":return Vn=Ys(Vn,e,t,n,r,s),!0;case"mouseover":return Kn=Ys(Kn,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return kl.set(l,Ys(kl.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,jl.set(l,Ys(jl.get(l)||null,e,t,n,r,s)),!0}return!1}function Zp(e){var t=yr(e.target);if(t!==null){var n=Rr(t);if(n!==null){if(t=n.tag,t===13){if(t=$p(n),t!==null){e.blockedOn=t,qp(e.priority,function(){Jp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function To(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=nu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ja=r,n.target.dispatchEvent(r),Ja=null}else return t=zl(n),t!==null&&Yu(t),e.blockedOn=n,!1;t.shift()}return!0}function Fd(e,t,n){To(e)&&n.delete(t)}function j0(){tu=!1,Hn!==null&&To(Hn)&&(Hn=null),Vn!==null&&To(Vn)&&(Vn=null),Kn!==null&&To(Kn)&&(Kn=null),kl.forEach(Fd),jl.forEach(Fd)}function Js(e,t){e.blockedOn===t&&(e.blockedOn=null,tu||(tu=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,j0)))}function bl(e){function t(s){return Js(s,e)}if(0<po.length){Js(po[0],e);for(var n=1;n<po.length;n++){var r=po[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Hn!==null&&Js(Hn,e),Vn!==null&&Js(Vn,e),Kn!==null&&Js(Kn,e),kl.forEach(t),jl.forEach(t),n=0;n<zn.length;n++)r=zn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zn.length&&(n=zn[0],n.blockedOn===null);)Zp(n),n.blockedOn===null&&zn.shift()}var cs=_n.ReactCurrentBatchConfig,Yo=!0;function b0(e,t,n,r){var s=pe,l=cs.transition;cs.transition=null;try{pe=1,Ju(e,t,n,r)}finally{pe=s,cs.transition=l}}function C0(e,t,n,r){var s=pe,l=cs.transition;cs.transition=null;try{pe=4,Ju(e,t,n,r)}finally{pe=s,cs.transition=l}}function Ju(e,t,n,r){if(Yo){var s=nu(e,t,n,r);if(s===null)wa(e,t,r,Jo,n),Md(e,r);else if(k0(s,e,t,n,r))r.stopPropagation();else if(Md(e,r),t&4&&-1<N0.indexOf(e)){for(;s!==null;){var l=zl(s);if(l!==null&&Yp(l),l=nu(e,t,n,r),l===null&&wa(e,t,r,Jo,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else wa(e,t,r,null,n)}}var Jo=null;function nu(e,t,n,r){if(Jo=null,e=Ku(r),e=yr(e),e!==null)if(t=Rr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jo=e,null}function em(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(p0()){case Gu:return 1;case Vp:return 4;case Go:case m0:return 16;case Kp:return 536870912;default:return 16}default:return 16}}var Bn=null,Xu=null,Ro=null;function tm(){if(Ro)return Ro;var e,t=Xu,n=t.length,r,s="value"in Bn?Bn.value:Bn.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[l-r];r++);return Ro=s.slice(e,1<r?1-r:void 0)}function Do(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mo(){return!0}function Ud(){return!1}function Tt(e){function t(n,r,s,l,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(l):l[u]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?mo:Ud,this.isPropagationStopped=Ud,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),t}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qu=Tt(Es),Ul=Ee({},Es,{view:0,detail:0}),E0=Tt(Ul),da,fa,Xs,Si=Ee({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xs&&(Xs&&e.type==="mousemove"?(da=e.screenX-Xs.screenX,fa=e.screenY-Xs.screenY):fa=da=0,Xs=e),da)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),zd=Tt(Si),_0=Ee({},Si,{dataTransfer:0}),P0=Tt(_0),T0=Ee({},Ul,{relatedTarget:0}),pa=Tt(T0),R0=Ee({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),D0=Tt(R0),I0=Ee({},Es,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),A0=Tt(I0),L0=Ee({},Es,{data:0}),$d=Tt(L0),O0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=F0[e])?!!t[e]:!1}function Zu(){return U0}var z0=Ee({},Ul,{key:function(e){if(e.key){var t=O0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Do(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?M0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zu,charCode:function(e){return e.type==="keypress"?Do(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Do(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$0=Tt(z0),B0=Ee({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bd=Tt(B0),W0=Ee({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zu}),H0=Tt(W0),V0=Ee({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),K0=Tt(V0),G0=Ee({},Si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q0=Tt(G0),Y0=[9,13,27,32],ec=jn&&"CompositionEvent"in window,fl=null;jn&&"documentMode"in document&&(fl=document.documentMode);var J0=jn&&"TextEvent"in window&&!fl,nm=jn&&(!ec||fl&&8<fl&&11>=fl),Wd=" ",Hd=!1;function rm(e,t){switch(e){case"keyup":return Y0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xr=!1;function X0(e,t){switch(e){case"compositionend":return sm(t);case"keypress":return t.which!==32?null:(Hd=!0,Wd);case"textInput":return e=t.data,e===Wd&&Hd?null:e;default:return null}}function q0(e,t){if(Xr)return e==="compositionend"||!ec&&rm(e,t)?(e=tm(),Ro=Xu=Bn=null,Xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nm&&t.locale!=="ko"?null:t.data;default:return null}}var Z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Z0[e.type]:t==="textarea"}function lm(e,t,n,r){Op(r),t=Xo(t,"onChange"),0<t.length&&(n=new qu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var pl=null,Cl=null;function ey(e){gm(e,0)}function Ni(e){var t=es(e);if(Pp(t))return e}function ty(e,t){if(e==="change")return t}var om=!1;if(jn){var ma;if(jn){var ha="oninput"in document;if(!ha){var Kd=document.createElement("div");Kd.setAttribute("oninput","return;"),ha=typeof Kd.oninput=="function"}ma=ha}else ma=!1;om=ma&&(!document.documentMode||9<document.documentMode)}function Gd(){pl&&(pl.detachEvent("onpropertychange",im),Cl=pl=null)}function im(e){if(e.propertyName==="value"&&Ni(Cl)){var t=[];lm(t,Cl,e,Ku(e)),zp(ey,t)}}function ny(e,t,n){e==="focusin"?(Gd(),pl=t,Cl=n,pl.attachEvent("onpropertychange",im)):e==="focusout"&&Gd()}function ry(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ni(Cl)}function sy(e,t){if(e==="click")return Ni(t)}function ly(e,t){if(e==="input"||e==="change")return Ni(t)}function oy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:oy;function El(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Fa.call(t,s)||!en(e[s],t[s]))return!1}return!0}function Qd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yd(e,t){var n=Qd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qd(n)}}function am(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?am(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function um(){for(var e=window,t=Ho();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ho(e.document)}return t}function tc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iy(e){var t=um(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&am(n.ownerDocument.documentElement,n)){if(r!==null&&tc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=Yd(n,l);var o=Yd(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ay=jn&&"documentMode"in document&&11>=document.documentMode,qr=null,ru=null,ml=null,su=!1;function Jd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;su||qr==null||qr!==Ho(r)||(r=qr,"selectionStart"in r&&tc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ml&&El(ml,r)||(ml=r,r=Xo(ru,"onSelect"),0<r.length&&(t=new qu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qr)))}function ho(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zr={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionend:ho("Transition","TransitionEnd")},ga={},cm={};jn&&(cm=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function ki(e){if(ga[e])return ga[e];if(!Zr[e])return e;var t=Zr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cm)return ga[e]=t[n];return e}var dm=ki("animationend"),fm=ki("animationiteration"),pm=ki("animationstart"),mm=ki("transitionend"),hm=new Map,Xd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(e,t){hm.set(e,t),Tr(t,[e])}for(var ya=0;ya<Xd.length;ya++){var xa=Xd[ya],uy=xa.toLowerCase(),cy=xa[0].toUpperCase()+xa.slice(1);rr(uy,"on"+cy)}rr(dm,"onAnimationEnd");rr(fm,"onAnimationIteration");rr(pm,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(mm,"onTransitionEnd");gs("onMouseEnter",["mouseout","mouseover"]);gs("onMouseLeave",["mouseout","mouseover"]);gs("onPointerEnter",["pointerout","pointerover"]);gs("onPointerLeave",["pointerout","pointerover"]);Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dy=new Set("cancel close invalid load scroll toggle".split(" ").concat(ol));function qd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,u0(r,t,void 0,e),e.currentTarget=null}function gm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==l&&s.isPropagationStopped())break e;qd(s,u,d),l=c}else for(o=0;o<r.length;o++){if(u=r[o],c=u.instance,d=u.currentTarget,u=u.listener,c!==l&&s.isPropagationStopped())break e;qd(s,u,d),l=c}}}if(Ko)throw e=Za,Ko=!1,Za=null,e}function we(e,t){var n=t[uu];n===void 0&&(n=t[uu]=new Set);var r=e+"__bubble";n.has(r)||(ym(t,e,2,!1),n.add(r))}function va(e,t,n){var r=0;t&&(r|=4),ym(n,e,r,t)}var go="_reactListening"+Math.random().toString(36).slice(2);function _l(e){if(!e[go]){e[go]=!0,jp.forEach(function(n){n!=="selectionchange"&&(dy.has(n)||va(n,!1,e),va(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[go]||(t[go]=!0,va("selectionchange",!1,t))}}function ym(e,t,n,r){switch(em(t)){case 1:var s=b0;break;case 4:s=C0;break;default:s=Ju}n=s.bind(null,t,n,e),s=void 0,!qa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function wa(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;u!==null;){if(o=yr(u),o===null)return;if(c=o.tag,c===5||c===6){r=l=o;continue e}u=u.parentNode}}r=r.return}zp(function(){var d=l,x=Ku(n),N=[];e:{var v=hm.get(e);if(v!==void 0){var j=qu,b=e;switch(e){case"keypress":if(Do(n)===0)break e;case"keydown":case"keyup":j=$0;break;case"focusin":b="focus",j=pa;break;case"focusout":b="blur",j=pa;break;case"beforeblur":case"afterblur":j=pa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=P0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=H0;break;case dm:case fm:case pm:j=D0;break;case mm:j=K0;break;case"scroll":j=E0;break;case"wheel":j=Q0;break;case"copy":case"cut":case"paste":j=A0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Bd}var k=(t&4)!==0,Y=!k&&e==="scroll",h=k?v!==null?v+"Capture":null:v;k=[];for(var p=d,y;p!==null;){y=p;var E=y.stateNode;if(y.tag===5&&E!==null&&(y=E,h!==null&&(E=Nl(p,h),E!=null&&k.push(Pl(p,E,y)))),Y)break;p=p.return}0<k.length&&(v=new j(v,b,null,n,x),N.push({event:v,listeners:k}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",v&&n!==Ja&&(b=n.relatedTarget||n.fromElement)&&(yr(b)||b[bn]))break e;if((j||v)&&(v=x.window===x?x:(v=x.ownerDocument)?v.defaultView||v.parentWindow:window,j?(b=n.relatedTarget||n.toElement,j=d,b=b?yr(b):null,b!==null&&(Y=Rr(b),b!==Y||b.tag!==5&&b.tag!==6)&&(b=null)):(j=null,b=d),j!==b)){if(k=zd,E="onMouseLeave",h="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(k=Bd,E="onPointerLeave",h="onPointerEnter",p="pointer"),Y=j==null?v:es(j),y=b==null?v:es(b),v=new k(E,p+"leave",j,n,x),v.target=Y,v.relatedTarget=y,E=null,yr(x)===d&&(k=new k(h,p+"enter",b,n,x),k.target=y,k.relatedTarget=Y,E=k),Y=E,j&&b)t:{for(k=j,h=b,p=0,y=k;y;y=Gr(y))p++;for(y=0,E=h;E;E=Gr(E))y++;for(;0<p-y;)k=Gr(k),p--;for(;0<y-p;)h=Gr(h),y--;for(;p--;){if(k===h||h!==null&&k===h.alternate)break t;k=Gr(k),h=Gr(h)}k=null}else k=null;j!==null&&Zd(N,v,j,k,!1),b!==null&&Y!==null&&Zd(N,Y,b,k,!0)}}e:{if(v=d?es(d):window,j=v.nodeName&&v.nodeName.toLowerCase(),j==="select"||j==="input"&&v.type==="file")var A=ty;else if(Vd(v))if(om)A=ly;else{A=ry;var M=ny}else(j=v.nodeName)&&j.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(A=sy);if(A&&(A=A(e,d))){lm(N,A,n,x);break e}M&&M(e,v,d),e==="focusout"&&(M=v._wrapperState)&&M.controlled&&v.type==="number"&&Va(v,"number",v.value)}switch(M=d?es(d):window,e){case"focusin":(Vd(M)||M.contentEditable==="true")&&(qr=M,ru=d,ml=null);break;case"focusout":ml=ru=qr=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,Jd(N,n,x);break;case"selectionchange":if(ay)break;case"keydown":case"keyup":Jd(N,n,x)}var F;if(ec)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Xr?rm(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(nm&&n.locale!=="ko"&&(Xr||$!=="onCompositionStart"?$==="onCompositionEnd"&&Xr&&(F=tm()):(Bn=x,Xu="value"in Bn?Bn.value:Bn.textContent,Xr=!0)),M=Xo(d,$),0<M.length&&($=new $d($,e,null,n,x),N.push({event:$,listeners:M}),F?$.data=F:(F=sm(n),F!==null&&($.data=F)))),(F=J0?X0(e,n):q0(e,n))&&(d=Xo(d,"onBeforeInput"),0<d.length&&(x=new $d("onBeforeInput","beforeinput",null,n,x),N.push({event:x,listeners:d}),x.data=F))}gm(N,t)})}function Pl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Nl(e,n),l!=null&&r.unshift(Pl(e,l,s)),l=Nl(e,t),l!=null&&r.push(Pl(e,l,s))),e=e.return}return r}function Gr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zd(e,t,n,r,s){for(var l=t._reactName,o=[];n!==null&&n!==r;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&d!==null&&(u=d,s?(c=Nl(n,l),c!=null&&o.unshift(Pl(n,c,u))):s||(c=Nl(n,l),c!=null&&o.push(Pl(n,c,u)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var fy=/\r\n?/g,py=/\u0000|\uFFFD/g;function ef(e){return(typeof e=="string"?e:""+e).replace(fy,`
`).replace(py,"")}function yo(e,t,n){if(t=ef(t),ef(e)!==t&&n)throw Error(R(425))}function qo(){}var lu=null,ou=null;function iu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var au=typeof setTimeout=="function"?setTimeout:void 0,my=typeof clearTimeout=="function"?clearTimeout:void 0,tf=typeof Promise=="function"?Promise:void 0,hy=typeof queueMicrotask=="function"?queueMicrotask:typeof tf<"u"?function(e){return tf.resolve(null).then(e).catch(gy)}:au;function gy(e){setTimeout(function(){throw e})}function Sa(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),bl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);bl(t)}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _s=Math.random().toString(36).slice(2),an="__reactFiber$"+_s,Tl="__reactProps$"+_s,bn="__reactContainer$"+_s,uu="__reactEvents$"+_s,yy="__reactListeners$"+_s,xy="__reactHandles$"+_s;function yr(e){var t=e[an];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bn]||n[an]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nf(e);e!==null;){if(n=e[an])return n;e=nf(e)}return t}e=n,n=e.parentNode}return null}function zl(e){return e=e[an]||e[bn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function es(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function ji(e){return e[Tl]||null}var cu=[],ts=-1;function sr(e){return{current:e}}function Se(e){0>ts||(e.current=cu[ts],cu[ts]=null,ts--)}function xe(e,t){ts++,cu[ts]=e.current,e.current=t}var tr={},ot=sr(tr),xt=sr(!1),kr=tr;function ys(e,t){var n=e.type.contextTypes;if(!n)return tr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function vt(e){return e=e.childContextTypes,e!=null}function Zo(){Se(xt),Se(ot)}function rf(e,t,n){if(ot.current!==tr)throw Error(R(168));xe(ot,t),xe(xt,n)}function xm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(R(108,n0(e)||"Unknown",s));return Ee({},n,r)}function ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,kr=ot.current,xe(ot,e),xe(xt,xt.current),!0}function sf(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=xm(e,t,kr),r.__reactInternalMemoizedMergedChildContext=e,Se(xt),Se(ot),xe(ot,e)):Se(xt),xe(xt,n)}var vn=null,bi=!1,Na=!1;function vm(e){vn===null?vn=[e]:vn.push(e)}function vy(e){bi=!0,vm(e)}function lr(){if(!Na&&vn!==null){Na=!0;var e=0,t=pe;try{var n=vn;for(pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vn=null,bi=!1}catch(s){throw vn!==null&&(vn=vn.slice(e+1)),Hp(Gu,lr),s}finally{pe=t,Na=!1}}return null}var ns=[],rs=0,ti=null,ni=0,Ot=[],Mt=0,jr=null,wn=1,Sn="";function mr(e,t){ns[rs++]=ni,ns[rs++]=ti,ti=e,ni=t}function wm(e,t,n){Ot[Mt++]=wn,Ot[Mt++]=Sn,Ot[Mt++]=jr,jr=e;var r=wn;e=Sn;var s=32-qt(r)-1;r&=~(1<<s),n+=1;var l=32-qt(t)+s;if(30<l){var o=s-s%5;l=(r&(1<<o)-1).toString(32),r>>=o,s-=o,wn=1<<32-qt(t)+s|n<<s|r,Sn=l+e}else wn=1<<l|n<<s|r,Sn=e}function nc(e){e.return!==null&&(mr(e,1),wm(e,1,0))}function rc(e){for(;e===ti;)ti=ns[--rs],ns[rs]=null,ni=ns[--rs],ns[rs]=null;for(;e===jr;)jr=Ot[--Mt],Ot[Mt]=null,Sn=Ot[--Mt],Ot[Mt]=null,wn=Ot[--Mt],Ot[Mt]=null}var Et=null,Ct=null,ke=!1,Xt=null;function Sm(e,t){var n=Ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function lf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,Ct=Gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,Ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jr!==null?{id:wn,overflow:Sn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Et=e,Ct=null,!0):!1;default:return!1}}function du(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fu(e){if(ke){var t=Ct;if(t){var n=t;if(!lf(e,t)){if(du(e))throw Error(R(418));t=Gn(n.nextSibling);var r=Et;t&&lf(e,t)?Sm(r,n):(e.flags=e.flags&-4097|2,ke=!1,Et=e)}}else{if(du(e))throw Error(R(418));e.flags=e.flags&-4097|2,ke=!1,Et=e}}}function of(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function xo(e){if(e!==Et)return!1;if(!ke)return of(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!iu(e.type,e.memoizedProps)),t&&(t=Ct)){if(du(e))throw Nm(),Error(R(418));for(;t;)Sm(e,t),t=Gn(t.nextSibling)}if(of(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ct=Gn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ct=null}}else Ct=Et?Gn(e.stateNode.nextSibling):null;return!0}function Nm(){for(var e=Ct;e;)e=Gn(e.nextSibling)}function xs(){Ct=Et=null,ke=!1}function sc(e){Xt===null?Xt=[e]:Xt.push(e)}var wy=_n.ReactCurrentBatchConfig;function qs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var u=s.refs;o===null?delete u[l]:u[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function af(e){var t=e._init;return t(e._payload)}function km(e){function t(h,p){if(e){var y=h.deletions;y===null?(h.deletions=[p],h.flags|=16):y.push(p)}}function n(h,p){if(!e)return null;for(;p!==null;)t(h,p),p=p.sibling;return null}function r(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function s(h,p){return h=Xn(h,p),h.index=0,h.sibling=null,h}function l(h,p,y){return h.index=y,e?(y=h.alternate,y!==null?(y=y.index,y<p?(h.flags|=2,p):y):(h.flags|=2,p)):(h.flags|=1048576,p)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function u(h,p,y,E){return p===null||p.tag!==6?(p=Pa(y,h.mode,E),p.return=h,p):(p=s(p,y),p.return=h,p)}function c(h,p,y,E){var A=y.type;return A===Jr?x(h,p,y.props.children,E,y.key):p!==null&&(p.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Fn&&af(A)===p.type)?(E=s(p,y.props),E.ref=qs(h,p,y),E.return=h,E):(E=Uo(y.type,y.key,y.props,null,h.mode,E),E.ref=qs(h,p,y),E.return=h,E)}function d(h,p,y,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Ta(y,h.mode,E),p.return=h,p):(p=s(p,y.children||[]),p.return=h,p)}function x(h,p,y,E,A){return p===null||p.tag!==7?(p=Nr(y,h.mode,E,A),p.return=h,p):(p=s(p,y),p.return=h,p)}function N(h,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Pa(""+p,h.mode,y),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case io:return y=Uo(p.type,p.key,p.props,null,h.mode,y),y.ref=qs(h,null,p),y.return=h,y;case Yr:return p=Ta(p,h.mode,y),p.return=h,p;case Fn:var E=p._init;return N(h,E(p._payload),y)}if(sl(p)||Gs(p))return p=Nr(p,h.mode,y,null),p.return=h,p;vo(h,p)}return null}function v(h,p,y,E){var A=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return A!==null?null:u(h,p,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case io:return y.key===A?c(h,p,y,E):null;case Yr:return y.key===A?d(h,p,y,E):null;case Fn:return A=y._init,v(h,p,A(y._payload),E)}if(sl(y)||Gs(y))return A!==null?null:x(h,p,y,E,null);vo(h,y)}return null}function j(h,p,y,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return h=h.get(y)||null,u(p,h,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case io:return h=h.get(E.key===null?y:E.key)||null,c(p,h,E,A);case Yr:return h=h.get(E.key===null?y:E.key)||null,d(p,h,E,A);case Fn:var M=E._init;return j(h,p,y,M(E._payload),A)}if(sl(E)||Gs(E))return h=h.get(y)||null,x(p,h,E,A,null);vo(p,E)}return null}function b(h,p,y,E){for(var A=null,M=null,F=p,$=p=0,de=null;F!==null&&$<y.length;$++){F.index>$?(de=F,F=null):de=F.sibling;var X=v(h,F,y[$],E);if(X===null){F===null&&(F=de);break}e&&F&&X.alternate===null&&t(h,F),p=l(X,p,$),M===null?A=X:M.sibling=X,M=X,F=de}if($===y.length)return n(h,F),ke&&mr(h,$),A;if(F===null){for(;$<y.length;$++)F=N(h,y[$],E),F!==null&&(p=l(F,p,$),M===null?A=F:M.sibling=F,M=F);return ke&&mr(h,$),A}for(F=r(h,F);$<y.length;$++)de=j(F,h,$,y[$],E),de!==null&&(e&&de.alternate!==null&&F.delete(de.key===null?$:de.key),p=l(de,p,$),M===null?A=de:M.sibling=de,M=de);return e&&F.forEach(function(ve){return t(h,ve)}),ke&&mr(h,$),A}function k(h,p,y,E){var A=Gs(y);if(typeof A!="function")throw Error(R(150));if(y=A.call(y),y==null)throw Error(R(151));for(var M=A=null,F=p,$=p=0,de=null,X=y.next();F!==null&&!X.done;$++,X=y.next()){F.index>$?(de=F,F=null):de=F.sibling;var ve=v(h,F,X.value,E);if(ve===null){F===null&&(F=de);break}e&&F&&ve.alternate===null&&t(h,F),p=l(ve,p,$),M===null?A=ve:M.sibling=ve,M=ve,F=de}if(X.done)return n(h,F),ke&&mr(h,$),A;if(F===null){for(;!X.done;$++,X=y.next())X=N(h,X.value,E),X!==null&&(p=l(X,p,$),M===null?A=X:M.sibling=X,M=X);return ke&&mr(h,$),A}for(F=r(h,F);!X.done;$++,X=y.next())X=j(F,h,$,X.value,E),X!==null&&(e&&X.alternate!==null&&F.delete(X.key===null?$:X.key),p=l(X,p,$),M===null?A=X:M.sibling=X,M=X);return e&&F.forEach(function(Xe){return t(h,Xe)}),ke&&mr(h,$),A}function Y(h,p,y,E){if(typeof y=="object"&&y!==null&&y.type===Jr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case io:e:{for(var A=y.key,M=p;M!==null;){if(M.key===A){if(A=y.type,A===Jr){if(M.tag===7){n(h,M.sibling),p=s(M,y.props.children),p.return=h,h=p;break e}}else if(M.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Fn&&af(A)===M.type){n(h,M.sibling),p=s(M,y.props),p.ref=qs(h,M,y),p.return=h,h=p;break e}n(h,M);break}else t(h,M);M=M.sibling}y.type===Jr?(p=Nr(y.props.children,h.mode,E,y.key),p.return=h,h=p):(E=Uo(y.type,y.key,y.props,null,h.mode,E),E.ref=qs(h,p,y),E.return=h,h=E)}return o(h);case Yr:e:{for(M=y.key;p!==null;){if(p.key===M)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(h,p.sibling),p=s(p,y.children||[]),p.return=h,h=p;break e}else{n(h,p);break}else t(h,p);p=p.sibling}p=Ta(y,h.mode,E),p.return=h,h=p}return o(h);case Fn:return M=y._init,Y(h,p,M(y._payload),E)}if(sl(y))return b(h,p,y,E);if(Gs(y))return k(h,p,y,E);vo(h,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(h,p.sibling),p=s(p,y),p.return=h,h=p):(n(h,p),p=Pa(y,h.mode,E),p.return=h,h=p),o(h)):n(h,p)}return Y}var vs=km(!0),jm=km(!1),ri=sr(null),si=null,ss=null,lc=null;function oc(){lc=ss=si=null}function ic(e){var t=ri.current;Se(ri),e._currentValue=t}function pu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ds(e,t){si=e,lc=ss=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yt=!0),e.firstContext=null)}function zt(e){var t=e._currentValue;if(lc!==e)if(e={context:e,memoizedValue:t,next:null},ss===null){if(si===null)throw Error(R(308));ss=e,si.dependencies={lanes:0,firstContext:e}}else ss=ss.next=e;return t}var xr=null;function ac(e){xr===null?xr=[e]:xr.push(e)}function bm(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ac(t)):(n.next=s.next,s.next=n),t.interleaved=n,Cn(e,r)}function Cn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Un=!1;function uc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Cn(e,n)}return s=r.interleaved,s===null?(t.next=t,ac(r)):(t.next=s.next,s.next=t),r.interleaved=t,Cn(e,n)}function Io(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qu(e,n)}}function uf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function li(e,t,n,r){var s=e.updateQueue;Un=!1;var l=s.firstBaseUpdate,o=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var c=u,d=c.next;c.next=null,o===null?l=d:o.next=d,o=c;var x=e.alternate;x!==null&&(x=x.updateQueue,u=x.lastBaseUpdate,u!==o&&(u===null?x.firstBaseUpdate=d:u.next=d,x.lastBaseUpdate=c))}if(l!==null){var N=s.baseState;o=0,x=d=c=null,u=l;do{var v=u.lane,j=u.eventTime;if((r&v)===v){x!==null&&(x=x.next={eventTime:j,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var b=e,k=u;switch(v=t,j=n,k.tag){case 1:if(b=k.payload,typeof b=="function"){N=b.call(j,N,v);break e}N=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=k.payload,v=typeof b=="function"?b.call(j,N,v):b,v==null)break e;N=Ee({},N,v);break e;case 2:Un=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,v=s.effects,v===null?s.effects=[u]:v.push(u))}else j={eventTime:j,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},x===null?(d=x=j,c=N):x=x.next=j,o|=v;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;v=u,u=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(x===null&&(c=N),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=x,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);Cr|=o,e.lanes=o,e.memoizedState=N}}function cf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var $l={},cn=sr($l),Rl=sr($l),Dl=sr($l);function vr(e){if(e===$l)throw Error(R(174));return e}function cc(e,t){switch(xe(Dl,t),xe(Rl,e),xe(cn,$l),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ga(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ga(t,e)}Se(cn),xe(cn,t)}function ws(){Se(cn),Se(Rl),Se(Dl)}function Em(e){vr(Dl.current);var t=vr(cn.current),n=Ga(t,e.type);t!==n&&(xe(Rl,e),xe(cn,n))}function dc(e){Rl.current===e&&(Se(cn),Se(Rl))}var be=sr(0);function oi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ka=[];function fc(){for(var e=0;e<ka.length;e++)ka[e]._workInProgressVersionPrimary=null;ka.length=0}var Ao=_n.ReactCurrentDispatcher,ja=_n.ReactCurrentBatchConfig,br=0,Ce=null,Fe=null,We=null,ii=!1,hl=!1,Il=0,Sy=0;function rt(){throw Error(R(321))}function pc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function mc(e,t,n,r,s,l){if(br=l,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ao.current=e===null||e.memoizedState===null?by:Cy,e=n(r,s),hl){l=0;do{if(hl=!1,Il=0,25<=l)throw Error(R(301));l+=1,We=Fe=null,t.updateQueue=null,Ao.current=Ey,e=n(r,s)}while(hl)}if(Ao.current=ai,t=Fe!==null&&Fe.next!==null,br=0,We=Fe=Ce=null,ii=!1,t)throw Error(R(300));return e}function hc(){var e=Il!==0;return Il=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Ce.memoizedState=We=e:We=We.next=e,We}function $t(){if(Fe===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=We===null?Ce.memoizedState:We.next;if(t!==null)We=t,Fe=e;else{if(e===null)throw Error(R(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},We===null?Ce.memoizedState=We=e:We=We.next=e}return We}function Al(e,t){return typeof t=="function"?t(e):t}function ba(e){var t=$t(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=Fe,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var o=s.next;s.next=l.next,l.next=o}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var u=o=null,c=null,d=l;do{var x=d.lane;if((br&x)===x)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var N={lane:x,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=N,o=r):c=c.next=N,Ce.lanes|=x,Cr|=x}d=d.next}while(d!==null&&d!==l);c===null?o=r:c.next=u,en(r,t.memoizedState)||(yt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,Ce.lanes|=l,Cr|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ca(e){var t=$t(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do l=e(l,o.action),o=o.next;while(o!==s);en(l,t.memoizedState)||(yt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function _m(){}function Pm(e,t){var n=Ce,r=$t(),s=t(),l=!en(r.memoizedState,s);if(l&&(r.memoizedState=s,yt=!0),r=r.queue,gc(Dm.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,Ll(9,Rm.bind(null,n,r,s,t),void 0,null),He===null)throw Error(R(349));br&30||Tm(n,t,s)}return s}function Tm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Rm(e,t,n,r){t.value=n,t.getSnapshot=r,Im(t)&&Am(e)}function Dm(e,t,n){return n(function(){Im(t)&&Am(e)})}function Im(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!en(e,n)}catch{return!0}}function Am(e){var t=Cn(e,1);t!==null&&Zt(t,e,1,-1)}function df(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:e},t.queue=e,e=e.dispatch=jy.bind(null,Ce,e),[t.memoizedState,e]}function Ll(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Lm(){return $t().memoizedState}function Lo(e,t,n,r){var s=ln();Ce.flags|=e,s.memoizedState=Ll(1|t,n,void 0,r===void 0?null:r)}function Ci(e,t,n,r){var s=$t();r=r===void 0?null:r;var l=void 0;if(Fe!==null){var o=Fe.memoizedState;if(l=o.destroy,r!==null&&pc(r,o.deps)){s.memoizedState=Ll(t,n,l,r);return}}Ce.flags|=e,s.memoizedState=Ll(1|t,n,l,r)}function ff(e,t){return Lo(8390656,8,e,t)}function gc(e,t){return Ci(2048,8,e,t)}function Om(e,t){return Ci(4,2,e,t)}function Mm(e,t){return Ci(4,4,e,t)}function Fm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Um(e,t,n){return n=n!=null?n.concat([e]):null,Ci(4,4,Fm.bind(null,t,e),n)}function yc(){}function zm(e,t){var n=$t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $m(e,t){var n=$t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Bm(e,t,n){return br&21?(en(n,t)||(n=Gp(),Ce.lanes|=n,Cr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=n)}function Ny(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var r=ja.transition;ja.transition={};try{e(!1),t()}finally{pe=n,ja.transition=r}}function Wm(){return $t().memoizedState}function ky(e,t,n){var r=Jn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hm(e))Vm(t,n);else if(n=bm(e,t,n,r),n!==null){var s=dt();Zt(n,e,r,s),Km(n,t,r)}}function jy(e,t,n){var r=Jn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hm(e))Vm(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,u=l(o,n);if(s.hasEagerState=!0,s.eagerState=u,en(u,o)){var c=t.interleaved;c===null?(s.next=s,ac(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=bm(e,t,s,r),n!==null&&(s=dt(),Zt(n,e,r,s),Km(n,t,r))}}function Hm(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function Vm(e,t){hl=ii=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Km(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qu(e,n)}}var ai={readContext:zt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},by={readContext:zt,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:ff,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Lo(4194308,4,Fm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lo(4,2,e,t)},useMemo:function(e,t){var n=ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ln();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ky.bind(null,Ce,e),[r.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:df,useDebugValue:yc,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=df(!1),t=e[0];return e=Ny.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ce,s=ln();if(ke){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),He===null)throw Error(R(349));br&30||Tm(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,ff(Dm.bind(null,r,l,e),[e]),r.flags|=2048,Ll(9,Rm.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=ln(),t=He.identifierPrefix;if(ke){var n=Sn,r=wn;n=(r&~(1<<32-qt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Il++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Sy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cy={readContext:zt,useCallback:zm,useContext:zt,useEffect:gc,useImperativeHandle:Um,useInsertionEffect:Om,useLayoutEffect:Mm,useMemo:$m,useReducer:ba,useRef:Lm,useState:function(){return ba(Al)},useDebugValue:yc,useDeferredValue:function(e){var t=$t();return Bm(t,Fe.memoizedState,e)},useTransition:function(){var e=ba(Al)[0],t=$t().memoizedState;return[e,t]},useMutableSource:_m,useSyncExternalStore:Pm,useId:Wm,unstable_isNewReconciler:!1},Ey={readContext:zt,useCallback:zm,useContext:zt,useEffect:gc,useImperativeHandle:Um,useInsertionEffect:Om,useLayoutEffect:Mm,useMemo:$m,useReducer:Ca,useRef:Lm,useState:function(){return Ca(Al)},useDebugValue:yc,useDeferredValue:function(e){var t=$t();return Fe===null?t.memoizedState=e:Bm(t,Fe.memoizedState,e)},useTransition:function(){var e=Ca(Al)[0],t=$t().memoizedState;return[e,t]},useMutableSource:_m,useSyncExternalStore:Pm,useId:Wm,unstable_isNewReconciler:!1};function Yt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function mu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Rr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dt(),s=Jn(e),l=Nn(r,s);l.payload=t,n!=null&&(l.callback=n),t=Qn(e,l,s),t!==null&&(Zt(t,e,s,r),Io(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dt(),s=Jn(e),l=Nn(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Qn(e,l,s),t!==null&&(Zt(t,e,s,r),Io(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),r=Jn(e),s=Nn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Qn(e,s,r),t!==null&&(Zt(t,e,r,n),Io(t,e,r))}};function pf(e,t,n,r,s,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!El(n,r)||!El(s,l):!0}function Gm(e,t,n){var r=!1,s=tr,l=t.contextType;return typeof l=="object"&&l!==null?l=zt(l):(s=vt(t)?kr:ot.current,r=t.contextTypes,l=(r=r!=null)?ys(e,s):tr),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ei,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function mf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ei.enqueueReplaceState(t,t.state,null)}function hu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},uc(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=zt(l):(l=vt(t)?kr:ot.current,s.context=ys(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(mu(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ei.enqueueReplaceState(s,s.state,null),li(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ss(e,t){try{var n="",r=t;do n+=t0(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function Ea(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _y=typeof WeakMap=="function"?WeakMap:Map;function Qm(e,t,n){n=Nn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ci||(ci=!0,Cu=r),gu(e,t)},n}function Ym(e,t,n){n=Nn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){gu(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){gu(e,t),typeof r!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function hf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _y;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=By.bind(null,e,t,n),t.then(e,e))}function gf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yf(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Nn(-1,1),t.tag=2,Qn(n,t,1))),n.lanes|=1),e)}var Py=_n.ReactCurrentOwner,yt=!1;function ct(e,t,n,r){t.child=e===null?jm(t,null,n,r):vs(t,e.child,n,r)}function xf(e,t,n,r,s){n=n.render;var l=t.ref;return ds(t,s),r=mc(e,t,n,r,l,s),n=hc(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,En(e,t,s)):(ke&&n&&nc(t),t.flags|=1,ct(e,t,r,s),t.child)}function vf(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!bc(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Jm(e,t,l,r,s)):(e=Uo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:El,n(o,r)&&e.ref===t.ref)return En(e,t,s)}return t.flags|=1,e=Xn(l,r),e.ref=t.ref,e.return=t,t.child=e}function Jm(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(El(l,r)&&e.ref===t.ref)if(yt=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(yt=!0);else return t.lanes=e.lanes,En(e,t,s)}return yu(e,t,n,r,s)}function Xm(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(os,bt),bt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(os,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,xe(os,bt),bt|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,xe(os,bt),bt|=r;return ct(e,t,s,n),t.child}function qm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yu(e,t,n,r,s){var l=vt(n)?kr:ot.current;return l=ys(t,l),ds(t,s),n=mc(e,t,n,r,l,s),r=hc(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,En(e,t,s)):(ke&&r&&nc(t),t.flags|=1,ct(e,t,n,s),t.child)}function wf(e,t,n,r,s){if(vt(n)){var l=!0;ei(t)}else l=!1;if(ds(t,s),t.stateNode===null)Oo(e,t),Gm(t,n,r),hu(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,u=t.memoizedProps;o.props=u;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=zt(d):(d=vt(n)?kr:ot.current,d=ys(t,d));var x=n.getDerivedStateFromProps,N=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function";N||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||c!==d)&&mf(t,o,r,d),Un=!1;var v=t.memoizedState;o.state=v,li(t,r,o,s),c=t.memoizedState,u!==r||v!==c||xt.current||Un?(typeof x=="function"&&(mu(t,n,x,r),c=t.memoizedState),(u=Un||pf(t,n,u,r,v,c,d))?(N||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=u):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Cm(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:Yt(t.type,u),o.props=d,N=t.pendingProps,v=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=zt(c):(c=vt(n)?kr:ot.current,c=ys(t,c));var j=n.getDerivedStateFromProps;(x=typeof j=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==N||v!==c)&&mf(t,o,r,c),Un=!1,v=t.memoizedState,o.state=v,li(t,r,o,s);var b=t.memoizedState;u!==N||v!==b||xt.current||Un?(typeof j=="function"&&(mu(t,n,j,r),b=t.memoizedState),(d=Un||pf(t,n,d,r,v,b,c)||!1)?(x||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return xu(e,t,n,r,l,s)}function xu(e,t,n,r,s,l){qm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&sf(t,n,!1),En(e,t,l);r=t.stateNode,Py.current=t;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=vs(t,e.child,null,l),t.child=vs(t,null,u,l)):ct(e,t,u,l),t.memoizedState=r.state,s&&sf(t,n,!0),t.child}function Zm(e){var t=e.stateNode;t.pendingContext?rf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rf(e,t.context,!1),cc(e,t.containerInfo)}function Sf(e,t,n,r,s){return xs(),sc(s),t.flags|=256,ct(e,t,n,r),t.child}var vu={dehydrated:null,treeContext:null,retryLane:0};function wu(e){return{baseLanes:e,cachePool:null,transitions:null}}function eh(e,t,n){var r=t.pendingProps,s=be.current,l=!1,o=(t.flags&128)!==0,u;if((u=o)||(u=e!==null&&e.memoizedState===null?!1:(s&2)!==0),u?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),xe(be,s&1),e===null)return fu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Ti(o,r,0,null),e=Nr(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=wu(n),t.memoizedState=vu,e):xc(t,o));if(s=e.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return Ty(e,t,o,r,u,s,n);if(l){l=r.fallback,o=t.mode,s=e.child,u=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Xn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?l=Xn(u,l):(l=Nr(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?wu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=vu,r}return l=e.child,e=l.sibling,r=Xn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xc(e,t){return t=Ti({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wo(e,t,n,r){return r!==null&&sc(r),vs(t,e.child,null,n),e=xc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ty(e,t,n,r,s,l,o){if(n)return t.flags&256?(t.flags&=-257,r=Ea(Error(R(422))),wo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=Ti({mode:"visible",children:r.children},s,0,null),l=Nr(l,s,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&vs(t,e.child,null,o),t.child.memoizedState=wu(o),t.memoizedState=vu,l);if(!(t.mode&1))return wo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,l=Error(R(419)),r=Ea(l,r,void 0),wo(e,t,o,r)}if(u=(o&e.childLanes)!==0,yt||u){if(r=He,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,Cn(e,s),Zt(r,e,s,-1))}return jc(),r=Ea(Error(R(421))),wo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Wy.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,Ct=Gn(s.nextSibling),Et=t,ke=!0,Xt=null,e!==null&&(Ot[Mt++]=wn,Ot[Mt++]=Sn,Ot[Mt++]=jr,wn=e.id,Sn=e.overflow,jr=t),t=xc(t,r.children),t.flags|=4096,t)}function Nf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),pu(e.return,t,n)}function _a(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function th(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(ct(e,t,r.children,n),r=be.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nf(e,n,t);else if(e.tag===19)Nf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe(be,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&oi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),_a(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&oi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}_a(t,!0,n,null,l);break;case"together":_a(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function En(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=Xn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ry(e,t,n){switch(t.tag){case 3:Zm(t),xs();break;case 5:Em(t);break;case 1:vt(t.type)&&ei(t);break;case 4:cc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;xe(ri,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xe(be,be.current&1),t.flags|=128,null):n&t.child.childLanes?eh(e,t,n):(xe(be,be.current&1),e=En(e,t,n),e!==null?e.sibling:null);xe(be,be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return th(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xe(be,be.current),r)break;return null;case 22:case 23:return t.lanes=0,Xm(e,t,n)}return En(e,t,n)}var nh,Su,rh,sh;nh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Su=function(){};rh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,vr(cn.current);var l=null;switch(n){case"input":s=Wa(e,s),r=Wa(e,r),l=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),l=[];break;case"textarea":s=Ka(e,s),r=Ka(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qo)}Qa(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var u=s[d];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(wl.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(u=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(l||(l=[]),l.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(wl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&we("scroll",e),l||u===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};sh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zs(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Dy(e,t,n){var r=t.pendingProps;switch(rc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return vt(t.type)&&Zo(),st(t),null;case 3:return r=t.stateNode,ws(),Se(xt),Se(ot),fc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xt!==null&&(Pu(Xt),Xt=null))),Su(e,t),st(t),null;case 5:dc(t);var s=vr(Dl.current);if(n=t.type,e!==null&&t.stateNode!=null)rh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return st(t),null}if(e=vr(cn.current),xo(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[an]=t,r[Tl]=l,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(s=0;s<ol.length;s++)we(ol[s],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":Td(r,l),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},we("invalid",r);break;case"textarea":Dd(r,l),we("invalid",r)}Qa(n,l),s=null;for(var o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="children"?typeof u=="string"?r.textContent!==u&&(l.suppressHydrationWarning!==!0&&yo(r.textContent,u,e),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(l.suppressHydrationWarning!==!0&&yo(r.textContent,u,e),s=["children",""+u]):wl.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":ao(r),Rd(r,l,!0);break;case"textarea":ao(r),Id(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=qo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[an]=t,e[Tl]=r,nh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ya(n,r),n){case"dialog":we("cancel",e),we("close",e),s=r;break;case"iframe":case"object":case"embed":we("load",e),s=r;break;case"video":case"audio":for(s=0;s<ol.length;s++)we(ol[s],e);s=r;break;case"source":we("error",e),s=r;break;case"img":case"image":case"link":we("error",e),we("load",e),s=r;break;case"details":we("toggle",e),s=r;break;case"input":Td(e,r),s=Wa(e,r),we("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),we("invalid",e);break;case"textarea":Dd(e,r),s=Ka(e,r),we("invalid",e);break;default:s=r}Qa(n,s),u=s;for(l in u)if(u.hasOwnProperty(l)){var c=u[l];l==="style"?Lp(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ip(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Sl(e,c):typeof c=="number"&&Sl(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(wl.hasOwnProperty(l)?c!=null&&l==="onScroll"&&we("scroll",e):c!=null&&Bu(e,l,c,o))}switch(n){case"input":ao(e),Rd(e,r,!1);break;case"textarea":ao(e),Id(e);break;case"option":r.value!=null&&e.setAttribute("value",""+er(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?is(e,!!r.multiple,l,!1):r.defaultValue!=null&&is(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=qo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)sh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=vr(Dl.current),vr(cn.current),xo(t)){if(r=t.stateNode,n=t.memoizedProps,r[an]=t,(l=r.nodeValue!==n)&&(e=Et,e!==null))switch(e.tag){case 3:yo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yo(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[an]=t,t.stateNode=r}return st(t),null;case 13:if(Se(be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&Ct!==null&&t.mode&1&&!(t.flags&128))Nm(),xs(),t.flags|=98560,l=!1;else if(l=xo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(R(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(R(317));l[an]=t}else xs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),l=!1}else Xt!==null&&(Pu(Xt),Xt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?Ue===0&&(Ue=3):jc())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return ws(),Su(e,t),e===null&&_l(t.stateNode.containerInfo),st(t),null;case 10:return ic(t.type._context),st(t),null;case 17:return vt(t.type)&&Zo(),st(t),null;case 19:if(Se(be),l=t.memoizedState,l===null)return st(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)Zs(l,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=oi(e),o!==null){for(t.flags|=128,Zs(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe(be,be.current&1|2),t.child}e=e.sibling}l.tail!==null&&De()>Ns&&(t.flags|=128,r=!0,Zs(l,!1),t.lanes=4194304)}else{if(!r)if(e=oi(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!ke)return st(t),null}else 2*De()-l.renderingStartTime>Ns&&n!==1073741824&&(t.flags|=128,r=!0,Zs(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=De(),t.sibling=null,n=be.current,xe(be,r?n&1|2:n&1),t):(st(t),null);case 22:case 23:return kc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bt&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function Iy(e,t){switch(rc(t),t.tag){case 1:return vt(t.type)&&Zo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ws(),Se(xt),Se(ot),fc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dc(t),null;case 13:if(Se(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));xs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(be),null;case 4:return ws(),null;case 10:return ic(t.type._context),null;case 22:case 23:return kc(),null;case 24:return null;default:return null}}var So=!1,lt=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,B=null;function ls(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function Nu(e,t,n){try{n()}catch(r){Te(e,t,r)}}var kf=!1;function Ly(e,t){if(lu=Yo,e=um(),tc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,u=-1,c=-1,d=0,x=0,N=e,v=null;t:for(;;){for(var j;N!==n||s!==0&&N.nodeType!==3||(u=o+s),N!==l||r!==0&&N.nodeType!==3||(c=o+r),N.nodeType===3&&(o+=N.nodeValue.length),(j=N.firstChild)!==null;)v=N,N=j;for(;;){if(N===e)break t;if(v===n&&++d===s&&(u=o),v===l&&++x===r&&(c=o),(j=N.nextSibling)!==null)break;N=v,v=N.parentNode}N=j}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ou={focusedElem:e,selectionRange:n},Yo=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var k=b.memoizedProps,Y=b.memoizedState,h=t.stateNode,p=h.getSnapshotBeforeUpdate(t.elementType===t.type?k:Yt(t.type,k),Y);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(E){Te(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return b=kf,kf=!1,b}function gl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&Nu(t,n,l)}s=s.next}while(s!==r)}}function _i(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ku(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function lh(e){var t=e.alternate;t!==null&&(e.alternate=null,lh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[an],delete t[Tl],delete t[uu],delete t[yy],delete t[xy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oh(e){return e.tag===5||e.tag===3||e.tag===4}function jf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ju(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qo));else if(r!==4&&(e=e.child,e!==null))for(ju(e,t,n),e=e.sibling;e!==null;)ju(e,t,n),e=e.sibling}function bu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(bu(e,t,n),e=e.sibling;e!==null;)bu(e,t,n),e=e.sibling}var Qe=null,Jt=!1;function Mn(e,t,n){for(n=n.child;n!==null;)ih(e,t,n),n=n.sibling}function ih(e,t,n){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(wi,n)}catch{}switch(n.tag){case 5:lt||ls(n,t);case 6:var r=Qe,s=Jt;Qe=null,Mn(e,t,n),Qe=r,Jt=s,Qe!==null&&(Jt?(e=Qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(Jt?(e=Qe,n=n.stateNode,e.nodeType===8?Sa(e.parentNode,n):e.nodeType===1&&Sa(e,n),bl(e)):Sa(Qe,n.stateNode));break;case 4:r=Qe,s=Jt,Qe=n.stateNode.containerInfo,Jt=!0,Mn(e,t,n),Qe=r,Jt=s;break;case 0:case 11:case 14:case 15:if(!lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&Nu(n,t,o),s=s.next}while(s!==r)}Mn(e,t,n);break;case 1:if(!lt&&(ls(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Te(n,t,u)}Mn(e,t,n);break;case 21:Mn(e,t,n);break;case 22:n.mode&1?(lt=(r=lt)||n.memoizedState!==null,Mn(e,t,n),lt=r):Mn(e,t,n);break;default:Mn(e,t,n)}}function bf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ay),t.forEach(function(r){var s=Hy.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Qt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,o=t,u=o;e:for(;u!==null;){switch(u.tag){case 5:Qe=u.stateNode,Jt=!1;break e;case 3:Qe=u.stateNode.containerInfo,Jt=!0;break e;case 4:Qe=u.stateNode.containerInfo,Jt=!0;break e}u=u.return}if(Qe===null)throw Error(R(160));ih(l,o,s),Qe=null,Jt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Te(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ah(t,e),t=t.sibling}function ah(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qt(t,e),sn(e),r&4){try{gl(3,e,e.return),_i(3,e)}catch(k){Te(e,e.return,k)}try{gl(5,e,e.return)}catch(k){Te(e,e.return,k)}}break;case 1:Qt(t,e),sn(e),r&512&&n!==null&&ls(n,n.return);break;case 5:if(Qt(t,e),sn(e),r&512&&n!==null&&ls(n,n.return),e.flags&32){var s=e.stateNode;try{Sl(s,"")}catch(k){Te(e,e.return,k)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&l.type==="radio"&&l.name!=null&&Tp(s,l),Ya(u,o);var d=Ya(u,l);for(o=0;o<c.length;o+=2){var x=c[o],N=c[o+1];x==="style"?Lp(s,N):x==="dangerouslySetInnerHTML"?Ip(s,N):x==="children"?Sl(s,N):Bu(s,x,N,d)}switch(u){case"input":Ha(s,l);break;case"textarea":Rp(s,l);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var j=l.value;j!=null?is(s,!!l.multiple,j,!1):v!==!!l.multiple&&(l.defaultValue!=null?is(s,!!l.multiple,l.defaultValue,!0):is(s,!!l.multiple,l.multiple?[]:"",!1))}s[Tl]=l}catch(k){Te(e,e.return,k)}}break;case 6:if(Qt(t,e),sn(e),r&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(k){Te(e,e.return,k)}}break;case 3:if(Qt(t,e),sn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bl(t.containerInfo)}catch(k){Te(e,e.return,k)}break;case 4:Qt(t,e),sn(e);break;case 13:Qt(t,e),sn(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Sc=De())),r&4&&bf(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?(lt=(d=lt)||x,Qt(t,e),lt=d):Qt(t,e),sn(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!x&&e.mode&1)for(B=e,x=e.child;x!==null;){for(N=B=x;B!==null;){switch(v=B,j=v.child,v.tag){case 0:case 11:case 14:case 15:gl(4,v,v.return);break;case 1:ls(v,v.return);var b=v.stateNode;if(typeof b.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(k){Te(r,n,k)}}break;case 5:ls(v,v.return);break;case 22:if(v.memoizedState!==null){Ef(N);continue}}j!==null?(j.return=v,B=j):Ef(N)}x=x.sibling}e:for(x=null,N=e;;){if(N.tag===5){if(x===null){x=N;try{s=N.stateNode,d?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(u=N.stateNode,c=N.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Ap("display",o))}catch(k){Te(e,e.return,k)}}}else if(N.tag===6){if(x===null)try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(k){Te(e,e.return,k)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===e)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===e)break e;for(;N.sibling===null;){if(N.return===null||N.return===e)break e;x===N&&(x=null),N=N.return}x===N&&(x=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:Qt(t,e),sn(e),r&4&&bf(e);break;case 21:break;default:Qt(t,e),sn(e)}}function sn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(oh(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Sl(s,""),r.flags&=-33);var l=jf(e);bu(e,l,s);break;case 3:case 4:var o=r.stateNode.containerInfo,u=jf(e);ju(e,u,o);break;default:throw Error(R(161))}}catch(c){Te(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Oy(e,t,n){B=e,uh(e)}function uh(e,t,n){for(var r=(e.mode&1)!==0;B!==null;){var s=B,l=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||So;if(!o){var u=s.alternate,c=u!==null&&u.memoizedState!==null||lt;u=So;var d=lt;if(So=o,(lt=c)&&!d)for(B=s;B!==null;)o=B,c=o.child,o.tag===22&&o.memoizedState!==null?_f(s):c!==null?(c.return=o,B=c):_f(s);for(;l!==null;)B=l,uh(l),l=l.sibling;B=s,So=u,lt=d}Cf(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,B=l):Cf(e)}}function Cf(e){for(;B!==null;){var t=B;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:lt||_i(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!lt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Yt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&cf(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cf(t,o,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var x=d.memoizedState;if(x!==null){var N=x.dehydrated;N!==null&&bl(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}lt||t.flags&512&&ku(t)}catch(v){Te(t,t.return,v)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function Ef(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function _f(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_i(4,t)}catch(c){Te(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Te(t,s,c)}}var l=t.return;try{ku(t)}catch(c){Te(t,l,c)}break;case 5:var o=t.return;try{ku(t)}catch(c){Te(t,o,c)}}}catch(c){Te(t,t.return,c)}if(t===e){B=null;break}var u=t.sibling;if(u!==null){u.return=t.return,B=u;break}B=t.return}}var My=Math.ceil,ui=_n.ReactCurrentDispatcher,vc=_n.ReactCurrentOwner,Ut=_n.ReactCurrentBatchConfig,ue=0,He=null,Me=null,Ye=0,bt=0,os=sr(0),Ue=0,Ol=null,Cr=0,Pi=0,wc=0,yl=null,gt=null,Sc=0,Ns=1/0,xn=null,ci=!1,Cu=null,Yn=null,No=!1,Wn=null,di=0,xl=0,Eu=null,Mo=-1,Fo=0;function dt(){return ue&6?De():Mo!==-1?Mo:Mo=De()}function Jn(e){return e.mode&1?ue&2&&Ye!==0?Ye&-Ye:wy.transition!==null?(Fo===0&&(Fo=Gp()),Fo):(e=pe,e!==0||(e=window.event,e=e===void 0?16:em(e.type)),e):1}function Zt(e,t,n,r){if(50<xl)throw xl=0,Eu=null,Error(R(185));Fl(e,n,r),(!(ue&2)||e!==He)&&(e===He&&(!(ue&2)&&(Pi|=n),Ue===4&&$n(e,Ye)),wt(e,r),n===1&&ue===0&&!(t.mode&1)&&(Ns=De()+500,bi&&lr()))}function wt(e,t){var n=e.callbackNode;w0(e,t);var r=Qo(e,e===He?Ye:0);if(r===0)n!==null&&Od(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Od(n),t===1)e.tag===0?vy(Pf.bind(null,e)):vm(Pf.bind(null,e)),hy(function(){!(ue&6)&&lr()}),n=null;else{switch(Qp(r)){case 1:n=Gu;break;case 4:n=Vp;break;case 16:n=Go;break;case 536870912:n=Kp;break;default:n=Go}n=yh(n,ch.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ch(e,t){if(Mo=-1,Fo=0,ue&6)throw Error(R(327));var n=e.callbackNode;if(fs()&&e.callbackNode!==n)return null;var r=Qo(e,e===He?Ye:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fi(e,r);else{t=r;var s=ue;ue|=2;var l=fh();(He!==e||Ye!==t)&&(xn=null,Ns=De()+500,Sr(e,t));do try{zy();break}catch(u){dh(e,u)}while(!0);oc(),ui.current=l,ue=s,Me!==null?t=0:(He=null,Ye=0,t=Ue)}if(t!==0){if(t===2&&(s=eu(e),s!==0&&(r=s,t=_u(e,s))),t===1)throw n=Ol,Sr(e,0),$n(e,r),wt(e,De()),n;if(t===6)$n(e,r);else{if(s=e.current.alternate,!(r&30)&&!Fy(s)&&(t=fi(e,r),t===2&&(l=eu(e),l!==0&&(r=l,t=_u(e,l))),t===1))throw n=Ol,Sr(e,0),$n(e,r),wt(e,De()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:hr(e,gt,xn);break;case 3:if($n(e,r),(r&130023424)===r&&(t=Sc+500-De(),10<t)){if(Qo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){dt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=au(hr.bind(null,e,gt,xn),t);break}hr(e,gt,xn);break;case 4:if($n(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-qt(r);l=1<<o,o=t[o],o>s&&(s=o),r&=~l}if(r=s,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*My(r/1960))-r,10<r){e.timeoutHandle=au(hr.bind(null,e,gt,xn),r);break}hr(e,gt,xn);break;case 5:hr(e,gt,xn);break;default:throw Error(R(329))}}}return wt(e,De()),e.callbackNode===n?ch.bind(null,e):null}function _u(e,t){var n=yl;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=fi(e,t),e!==2&&(t=gt,gt=n,t!==null&&Pu(t)),e}function Pu(e){gt===null?gt=e:gt.push.apply(gt,e)}function Fy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!en(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $n(e,t){for(t&=~wc,t&=~Pi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function Pf(e){if(ue&6)throw Error(R(327));fs();var t=Qo(e,0);if(!(t&1))return wt(e,De()),null;var n=fi(e,t);if(e.tag!==0&&n===2){var r=eu(e);r!==0&&(t=r,n=_u(e,r))}if(n===1)throw n=Ol,Sr(e,0),$n(e,t),wt(e,De()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hr(e,gt,xn),wt(e,De()),null}function Nc(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(Ns=De()+500,bi&&lr())}}function Er(e){Wn!==null&&Wn.tag===0&&!(ue&6)&&fs();var t=ue;ue|=1;var n=Ut.transition,r=pe;try{if(Ut.transition=null,pe=1,e)return e()}finally{pe=r,Ut.transition=n,ue=t,!(ue&6)&&lr()}}function kc(){bt=os.current,Se(os)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,my(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(rc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zo();break;case 3:ws(),Se(xt),Se(ot),fc();break;case 5:dc(r);break;case 4:ws();break;case 13:Se(be);break;case 19:Se(be);break;case 10:ic(r.type._context);break;case 22:case 23:kc()}n=n.return}if(He=e,Me=e=Xn(e.current,null),Ye=bt=t,Ue=0,Ol=null,wc=Pi=Cr=0,gt=yl=null,xr!==null){for(t=0;t<xr.length;t++)if(n=xr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=s,r.next=o}n.pending=r}xr=null}return e}function dh(e,t){do{var n=Me;try{if(oc(),Ao.current=ai,ii){for(var r=Ce.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ii=!1}if(br=0,We=Fe=Ce=null,hl=!1,Il=0,vc.current=null,n===null||n.return===null){Ue=1,Ol=t,Me=null;break}e:{var l=e,o=n.return,u=n,c=t;if(t=Ye,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,x=u,N=x.tag;if(!(x.mode&1)&&(N===0||N===11||N===15)){var v=x.alternate;v?(x.updateQueue=v.updateQueue,x.memoizedState=v.memoizedState,x.lanes=v.lanes):(x.updateQueue=null,x.memoizedState=null)}var j=gf(o);if(j!==null){j.flags&=-257,yf(j,o,u,l,t),j.mode&1&&hf(l,d,t),t=j,c=d;var b=t.updateQueue;if(b===null){var k=new Set;k.add(c),t.updateQueue=k}else b.add(c);break e}else{if(!(t&1)){hf(l,d,t),jc();break e}c=Error(R(426))}}else if(ke&&u.mode&1){var Y=gf(o);if(Y!==null){!(Y.flags&65536)&&(Y.flags|=256),yf(Y,o,u,l,t),sc(Ss(c,u));break e}}l=c=Ss(c,u),Ue!==4&&(Ue=2),yl===null?yl=[l]:yl.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=Qm(l,c,t);uf(l,h);break e;case 1:u=c;var p=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Yn===null||!Yn.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t;var E=Ym(l,u,t);uf(l,E);break e}}l=l.return}while(l!==null)}mh(n)}catch(A){t=A,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function fh(){var e=ui.current;return ui.current=ai,e===null?ai:e}function jc(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),He===null||!(Cr&268435455)&&!(Pi&268435455)||$n(He,Ye)}function fi(e,t){var n=ue;ue|=2;var r=fh();(He!==e||Ye!==t)&&(xn=null,Sr(e,t));do try{Uy();break}catch(s){dh(e,s)}while(!0);if(oc(),ue=n,ui.current=r,Me!==null)throw Error(R(261));return He=null,Ye=0,Ue}function Uy(){for(;Me!==null;)ph(Me)}function zy(){for(;Me!==null&&!d0();)ph(Me)}function ph(e){var t=gh(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?mh(e):Me=t,vc.current=null}function mh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Iy(n,t),n!==null){n.flags&=32767,Me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,Me=null;return}}else if(n=Dy(n,t,bt),n!==null){Me=n;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Ue===0&&(Ue=5)}function hr(e,t,n){var r=pe,s=Ut.transition;try{Ut.transition=null,pe=1,$y(e,t,n,r)}finally{Ut.transition=s,pe=r}return null}function $y(e,t,n,r){do fs();while(Wn!==null);if(ue&6)throw Error(R(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(S0(e,l),e===He&&(Me=He=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||No||(No=!0,yh(Go,function(){return fs(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Ut.transition,Ut.transition=null;var o=pe;pe=1;var u=ue;ue|=4,vc.current=null,Ly(e,n),ah(n,e),iy(ou),Yo=!!lu,ou=lu=null,e.current=n,Oy(n),f0(),ue=u,pe=o,Ut.transition=l}else e.current=n;if(No&&(No=!1,Wn=e,di=s),l=e.pendingLanes,l===0&&(Yn=null),h0(n.stateNode),wt(e,De()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ci)throw ci=!1,e=Cu,Cu=null,e;return di&1&&e.tag!==0&&fs(),l=e.pendingLanes,l&1?e===Eu?xl++:(xl=0,Eu=e):xl=0,lr(),null}function fs(){if(Wn!==null){var e=Qp(di),t=Ut.transition,n=pe;try{if(Ut.transition=null,pe=16>e?16:e,Wn===null)var r=!1;else{if(e=Wn,Wn=null,di=0,ue&6)throw Error(R(331));var s=ue;for(ue|=4,B=e.current;B!==null;){var l=B,o=l.child;if(B.flags&16){var u=l.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(B=d;B!==null;){var x=B;switch(x.tag){case 0:case 11:case 15:gl(8,x,l)}var N=x.child;if(N!==null)N.return=x,B=N;else for(;B!==null;){x=B;var v=x.sibling,j=x.return;if(lh(x),x===d){B=null;break}if(v!==null){v.return=j,B=v;break}B=j}}}var b=l.alternate;if(b!==null){var k=b.child;if(k!==null){b.child=null;do{var Y=k.sibling;k.sibling=null,k=Y}while(k!==null)}}B=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,B=o;else e:for(;B!==null;){if(l=B,l.flags&2048)switch(l.tag){case 0:case 11:case 15:gl(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,B=h;break e}B=l.return}}var p=e.current;for(B=p;B!==null;){o=B;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,B=y;else e:for(o=p;B!==null;){if(u=B,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:_i(9,u)}}catch(A){Te(u,u.return,A)}if(u===o){B=null;break e}var E=u.sibling;if(E!==null){E.return=u.return,B=E;break e}B=u.return}}if(ue=s,lr(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(wi,e)}catch{}r=!0}return r}finally{pe=n,Ut.transition=t}}return!1}function Tf(e,t,n){t=Ss(n,t),t=Qm(e,t,1),e=Qn(e,t,1),t=dt(),e!==null&&(Fl(e,1,t),wt(e,t))}function Te(e,t,n){if(e.tag===3)Tf(e,e,n);else for(;t!==null;){if(t.tag===3){Tf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yn===null||!Yn.has(r))){e=Ss(n,e),e=Ym(t,e,1),t=Qn(t,e,1),e=dt(),t!==null&&(Fl(t,1,e),wt(t,e));break}}t=t.return}}function By(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,He===e&&(Ye&n)===n&&(Ue===4||Ue===3&&(Ye&130023424)===Ye&&500>De()-Sc?Sr(e,0):wc|=n),wt(e,t)}function hh(e,t){t===0&&(e.mode&1?(t=fo,fo<<=1,!(fo&130023424)&&(fo=4194304)):t=1);var n=dt();e=Cn(e,t),e!==null&&(Fl(e,t,n),wt(e,n))}function Wy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hh(e,n)}function Hy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),hh(e,n)}var gh;gh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)yt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yt=!1,Ry(e,t,n);yt=!!(e.flags&131072)}else yt=!1,ke&&t.flags&1048576&&wm(t,ni,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Oo(e,t),e=t.pendingProps;var s=ys(t,ot.current);ds(t,n),s=mc(null,t,r,e,s,n);var l=hc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(r)?(l=!0,ei(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,uc(t),s.updater=Ei,t.stateNode=s,s._reactInternals=t,hu(t,r,e,n),t=xu(null,t,r,!0,l,n)):(t.tag=0,ke&&l&&nc(t),ct(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Oo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Ky(r),e=Yt(r,e),s){case 0:t=yu(null,t,r,e,n);break e;case 1:t=wf(null,t,r,e,n);break e;case 11:t=xf(null,t,r,e,n);break e;case 14:t=vf(null,t,r,Yt(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Yt(r,s),yu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Yt(r,s),wf(e,t,r,s,n);case 3:e:{if(Zm(t),e===null)throw Error(R(387));r=t.pendingProps,l=t.memoizedState,s=l.element,Cm(e,t),li(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Ss(Error(R(423)),t),t=Sf(e,t,r,n,s);break e}else if(r!==s){s=Ss(Error(R(424)),t),t=Sf(e,t,r,n,s);break e}else for(Ct=Gn(t.stateNode.containerInfo.firstChild),Et=t,ke=!0,Xt=null,n=jm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xs(),r===s){t=En(e,t,n);break e}ct(e,t,r,n)}t=t.child}return t;case 5:return Em(t),e===null&&fu(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,o=s.children,iu(r,s)?o=null:l!==null&&iu(r,l)&&(t.flags|=32),qm(e,t),ct(e,t,o,n),t.child;case 6:return e===null&&fu(t),null;case 13:return eh(e,t,n);case 4:return cc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vs(t,null,r,n):ct(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Yt(r,s),xf(e,t,r,s,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,o=s.value,xe(ri,r._currentValue),r._currentValue=o,l!==null)if(en(l.value,o)){if(l.children===s.children&&!xt.current){t=En(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var u=l.dependencies;if(u!==null){o=l.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=Nn(-1,n&-n),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var x=d.pending;x===null?c.next=c:(c.next=x.next,x.next=c),d.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),pu(l.return,n,t),u.lanes|=n;break}c=c.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(R(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),pu(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}ct(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ds(t,n),s=zt(s),r=r(s),t.flags|=1,ct(e,t,r,n),t.child;case 14:return r=t.type,s=Yt(r,t.pendingProps),s=Yt(r.type,s),vf(e,t,r,s,n);case 15:return Jm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Yt(r,s),Oo(e,t),t.tag=1,vt(r)?(e=!0,ei(t)):e=!1,ds(t,n),Gm(t,r,s),hu(t,r,s,n),xu(null,t,r,!0,e,n);case 19:return th(e,t,n);case 22:return Xm(e,t,n)}throw Error(R(156,t.tag))};function yh(e,t){return Hp(e,t)}function Vy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,t,n,r){return new Vy(e,t,n,r)}function bc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ky(e){if(typeof e=="function")return bc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hu)return 11;if(e===Vu)return 14}return 2}function Xn(e,t){var n=e.alternate;return n===null?(n=Ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Uo(e,t,n,r,s,l){var o=2;if(r=e,typeof e=="function")bc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Jr:return Nr(n.children,s,l,t);case Wu:o=8,s|=8;break;case Ua:return e=Ft(12,n,t,s|2),e.elementType=Ua,e.lanes=l,e;case za:return e=Ft(13,n,t,s),e.elementType=za,e.lanes=l,e;case $a:return e=Ft(19,n,t,s),e.elementType=$a,e.lanes=l,e;case Ep:return Ti(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bp:o=10;break e;case Cp:o=9;break e;case Hu:o=11;break e;case Vu:o=14;break e;case Fn:o=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Ft(o,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function Nr(e,t,n,r){return e=Ft(7,e,r,t),e.lanes=n,e}function Ti(e,t,n,r){return e=Ft(22,e,r,t),e.elementType=Ep,e.lanes=n,e.stateNode={isHidden:!1},e}function Pa(e,t,n){return e=Ft(6,e,null,t),e.lanes=n,e}function Ta(e,t,n){return t=Ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gy(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ca(0),this.expirationTimes=ca(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ca(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cc(e,t,n,r,s,l,o,u,c){return e=new Gy(e,t,n,u,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Ft(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uc(l),e}function Qy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xh(e){if(!e)return tr;e=e._reactInternals;e:{if(Rr(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(vt(n))return xm(e,n,t)}return t}function vh(e,t,n,r,s,l,o,u,c){return e=Cc(n,r,!0,e,s,l,o,u,c),e.context=xh(null),n=e.current,r=dt(),s=Jn(n),l=Nn(r,s),l.callback=t??null,Qn(n,l,s),e.current.lanes=s,Fl(e,s,r),wt(e,r),e}function Ri(e,t,n,r){var s=t.current,l=dt(),o=Jn(s);return n=xh(n),t.context===null?t.context=n:t.pendingContext=n,t=Nn(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qn(s,t,o),e!==null&&(Zt(e,s,o,l),Io(e,s,o)),o}function pi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ec(e,t){Rf(e,t),(e=e.alternate)&&Rf(e,t)}function Yy(){return null}var wh=typeof reportError=="function"?reportError:function(e){console.error(e)};function _c(e){this._internalRoot=e}Di.prototype.render=_c.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Ri(e,t,null,null)};Di.prototype.unmount=_c.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Er(function(){Ri(null,e,null,null)}),t[bn]=null}};function Di(e){this._internalRoot=e}Di.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zn.length&&t!==0&&t<zn[n].priority;n++);zn.splice(n,0,e),n===0&&Zp(e)}};function Pc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ii(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Df(){}function Jy(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var d=pi(o);l.call(d)}}var o=vh(t,r,e,0,null,!1,!1,"",Df);return e._reactRootContainer=o,e[bn]=o.current,_l(e.nodeType===8?e.parentNode:e),Er(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var d=pi(c);u.call(d)}}var c=Cc(e,0,!1,null,null,!1,!1,"",Df);return e._reactRootContainer=c,e[bn]=c.current,_l(e.nodeType===8?e.parentNode:e),Er(function(){Ri(t,c,n,r)}),c}function Ai(e,t,n,r,s){var l=n._reactRootContainer;if(l){var o=l;if(typeof s=="function"){var u=s;s=function(){var c=pi(o);u.call(c)}}Ri(t,o,e,s)}else o=Jy(n,t,e,s,r);return pi(o)}Yp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ll(t.pendingLanes);n!==0&&(Qu(t,n|1),wt(t,De()),!(ue&6)&&(Ns=De()+500,lr()))}break;case 13:Er(function(){var r=Cn(e,1);if(r!==null){var s=dt();Zt(r,e,1,s)}}),Ec(e,1)}};Yu=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var n=dt();Zt(t,e,134217728,n)}Ec(e,134217728)}};Jp=function(e){if(e.tag===13){var t=Jn(e),n=Cn(e,t);if(n!==null){var r=dt();Zt(n,e,t,r)}Ec(e,t)}};Xp=function(){return pe};qp=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}};Xa=function(e,t,n){switch(t){case"input":if(Ha(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ji(r);if(!s)throw Error(R(90));Pp(r),Ha(r,s)}}}break;case"textarea":Rp(e,n);break;case"select":t=n.value,t!=null&&is(e,!!n.multiple,t,!1)}};Fp=Nc;Up=Er;var Xy={usingClientEntryPoint:!1,Events:[zl,es,ji,Op,Mp,Nc]},el={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qy={bundleType:el.bundleType,version:el.version,rendererPackageName:el.rendererPackageName,rendererConfig:el.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bp(e),e===null?null:e.stateNode},findFiberByHostInstance:el.findFiberByHostInstance||Yy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{wi=ko.inject(qy),un=ko}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xy;Pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pc(t))throw Error(R(200));return Qy(e,t,null,n)};Pt.createRoot=function(e,t){if(!Pc(e))throw Error(R(299));var n=!1,r="",s=wh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Cc(e,1,!1,null,null,n,!1,r,s),e[bn]=t.current,_l(e.nodeType===8?e.parentNode:e),new _c(t)};Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Bp(t),e=e===null?null:e.stateNode,e};Pt.flushSync=function(e){return Er(e)};Pt.hydrate=function(e,t,n){if(!Ii(t))throw Error(R(200));return Ai(null,e,t,!0,n)};Pt.hydrateRoot=function(e,t,n){if(!Pc(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",o=wh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=vh(t,null,e,1,n??null,s,!1,l,o),e[bn]=t.current,_l(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Di(t)};Pt.render=function(e,t,n){if(!Ii(t))throw Error(R(200));return Ai(null,e,t,!1,n)};Pt.unmountComponentAtNode=function(e){if(!Ii(e))throw Error(R(40));return e._reactRootContainer?(Er(function(){Ai(null,null,e,!1,function(){e._reactRootContainer=null,e[bn]=null})}),!0):!1};Pt.unstable_batchedUpdates=Nc;Pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ii(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Ai(e,t,n,!1,r)};Pt.version="18.3.1-next-f1338f8080-20240426";function Sh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sh)}catch(e){console.error(e)}}Sh(),Sp.exports=Pt;var Zy=Sp.exports,If=Zy;Ma.createRoot=If.createRoot,Ma.hydrateRoot=If.hydrateRoot;const ex={1:[{rows:1,cols:1}],2:[{rows:1,cols:2},{rows:2,cols:1}],3:[{rows:2,cols:2},{rows:1,cols:3},{rows:3,cols:1}],4:[{rows:2,cols:2},{rows:1,cols:4},{rows:4,cols:1}],5:[{rows:2,cols:3},{rows:3,cols:2},{rows:1,cols:5},{rows:5,cols:1}],6:[{rows:2,cols:3},{rows:3,cols:2},{rows:1,cols:6},{rows:6,cols:1}],7:[{rows:2,cols:4},{rows:4,cols:2}],8:[{rows:2,cols:4},{rows:4,cols:2},{rows:3,cols:3}],9:[{rows:3,cols:3},{rows:2,cols:5},{rows:5,cols:2}],10:[{rows:2,cols:5},{rows:5,cols:2}]},ps=(e,t)=>{if(!Number.isFinite(e))return t;const n=Math.floor(e);return n>0?n:t};function tx(e){const t=ps(e,1);return(ex[t]||[]).map(r=>({...r}))}function Tu(e,t){if(!e)return null;const n=ps(t,1),r=ps(e.rows,1),s=ps(e.cols,1),l=r*s;if(l<n)return null;let o=e.emptySeatIndex??null;return l>n?(o==null||o<0||o>=l)&&(o=l-1):o=null,{rows:r,cols:s,emptySeatIndex:o}}const Af=(e,t)=>{const n=ps(e,1),r=(t||0)===90,s=Math.ceil(Math.sqrt(n)),l=r?s:Math.ceil(n/s),o=Math.ceil(n/l);return Tu({rows:l,cols:o},n)||{rows:1,cols:n}};function Nh(e,t,n){const r=ps(e,1),s=Tu(n,r);if(s)return s;const l=tx(r);if(!l.length)return Af(r,t);const o=(t||0)===90,c=l.filter(d=>o?d.rows>=d.cols:d.cols>=d.rows)[0]||l[0];return Tu(c,r)||Af(r,t)}const nx="newui_app_state",Ru=1;function rx(e){const t=Math.max(0,e.capacity||0),n=Array.isArray(e.preferredSeatIndexes)?e.preferredSeatIndexes:[],r=[];for(const s of n){const l=typeof s=="number"?s:parseInt(String(s),10);!Number.isFinite(l)||!Number.isInteger(l)||l<0||l>=t||r.push(l)}return Array.from(new Set(r)).sort((s,l)=>s-l)}function sx(e){const t=(e.seatIds??[]).slice(),n=Math.max(0,e.capacity||0);if(t.length<n)for(let l=t.length;l<n;l++)t[l]=String(e.id)+"_s"+l;else t.length>n&&(t.length=n);const r=rx(e),s=Nh(n,e.rotation||0,e.seatLayout);return{...e,seatIds:t,preferredSeatIndexes:r,seatLayout:s}}function lx(e){return{...e,tables:e.tables.map(sx)}}function ox(e){const n=((e||{layouts:[]}).layouts||[]).map(lx);return{version:Ru,layouts:n}}function ix(){try{const e=localStorage.getItem(nx);if(!e)return{version:Ru,layouts:[]};const t=JSON.parse(e);return ox(t)}catch{return{version:Ru,layouts:[]}}}function ax(){return ix().layouts}const ux="newui_periods_state";function cx(){try{const e=localStorage.getItem(ux);if(!e)return{periods:[],currentId:null};const t=JSON.parse(e);return{periods:t.periods??[],currentId:t.currentId??null}}catch{return{periods:[],currentId:null}}}function Du(){return cx()}const dx="newui_tags_state_v1";function fx(){try{const e=localStorage.getItem(dx);return e?{version:1,tags:JSON.parse(e).tags??[]}:{version:1,tags:[]}}catch{return{version:1,tags:[]}}}function px(){return fx().tags}const mx=f.createContext(null),hx="newui_students_state_v1";function gx(){try{const e=localStorage.getItem(hx);return e?{version:1,students:JSON.parse(e).students??[]}:{version:1,students:[]}}catch{return{version:1,students:[]}}}function yx(){return gx().students}function xx(){return"pro"}function vx(e=xx()){return{tier:e,canUseDriveSync:e!=="free",canUseLocalSave:!0,canExportPDF:e!=="free",canUseAdvancedReports:e==="school"||e==="pro",canUseImports:!0,canUseMobile:!0}}function wx({studentId:e,hasPhoto:t=!1,src:n=null,onClick:r,widthPx:s,heightPx:l,sizePx:o=44}){const d={width:s??o,height:l??o};return i.jsx("button",{type:"button","aria-label":t?"Update student photo":"Add student photo",className:"flex-shrink-0 rounded-xl border border-slate-200 bg-white/60 overflow-hidden active:scale-[0.98]",style:d,onClick:x=>{x.stopPropagation(),r==null||r(e)},children:t&&n?i.jsx("img",{src:n,alt:"Student photo",className:"w-full h-full object-cover",draggable:!1}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":"true",className:"text-slate-500",children:i.jsx("path",{fill:"currentColor",d:"M9.5 4.5h5l1.2 1.8H19a2.5 2.5 0 0 1 2.5 2.5v8.7A2.5 2.5 0 0 1 19 20H5a2.5 2.5 0 0 1-2.5-2.5V8.8A2.5 2.5 0 0 1 5 6.3h3.3l1.2-1.8ZM12 9a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm0 1.7a2.3 2.3 0 1 1 0 4.6 2.3 2.3 0 0 1 0-4.6Z"})})})})}function Sx(e){const t=(e||"").trim();if(!t)return{first:"Unknown",last:"Unknown"};if(t.includes(",")){const[l,o]=t.split(",",2),u=(l||"").trim()||"Unknown";return{first:(o||"").trim().split(/\s+/).filter(Boolean)[0]||"Unknown",last:u}}const n=t.split(/\s+/).filter(Boolean);if(n.length===1)return{first:n[0],last:"Unknown"};const r=n[0]||"Unknown",s=n[n.length-1]||"Unknown";return{first:r,last:s}}function Lf(e){return(e||"").trim().replace(/\s+/g,"_").replace(/[^A-Za-z0-9_-]/g,"").replace(/_+/g,"_")||"Unknown"}function Tc(e,t){const n=Sx(t),r=Lf(n.first);return`${Lf(n.last)}_${r}__id_${e}.jpg`}var ap,up;const Iu=((up=(ap=import.meta)==null?void 0:ap.env)==null?void 0:up.VITE_GOOGLE_CLIENT_ID)??"403722152172-rm3rvd6kba8s10a8svv60jbj2s93kv1e.apps.googleusercontent.com",Nx="https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/userinfo.email",Of="ClassSeats",kh="classseats_mobile_drive_session_v2",Rc="classseats_mobile_drive_folder_v1",Dc="classseats_student_docs_folder_v1",kx={classseats:"data_v1"},Mf="Student Docs",Ff="studentPhotos",jh="https://us-east1-classseats-sync.cloudfunctions.net/exchangecode",zo="classseats_mobile_drive_pkce_verifier",vl="classseats_mobile_drive_return_to",$o="classseats_mobile_drive_redirect_uri",bh="https://app.classseats.app/ClassSeatsMobile";function jx(){if(typeof window>"u")return bh;const e=window.location.origin;return e==="https://app.classseats.app"?"https://app.classseats.app/ClassSeatsMobile":e==="https://mifish3474.github.io"?"https://mifish3474.github.io/ClassSeats-Mobile-Testing/ClassSeatsMobile":`${e}/ClassSeatsMobile`}const bx=45*60*1e3,Cx="classseats_auth",Ex=1,nr="driveSession",mi="singleton";let gr=null,on=null,il=!1,Bo="none";function _x(e){const{sessionLoaded:t}=e,n=(e.lastWriteReason||"").trim();return t?"ok":n?n==="explicit-disconnect"?"user-logged-out":n==="fatal-oauth-error"?"oauth-failure":n==="login-success"?"device-storage-wipe":"unknown":"no-session-yet"}function Ic(){return new Promise((e,t)=>{const n=indexedDB.open(Cx,Ex);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(nr)||r.createObjectStore(nr,{keyPath:"id"})},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error||new Error("IndexedDB open failed"))})}async function Px(){const e=await Ic();return new Promise((t,n)=>{const l=e.transaction(nr,"readonly").objectStore(nr).get(mi);l.onsuccess=()=>{const o=l.result;if(o){on={lastWriteAt:o.lastWriteAt,lastWriteReason:o.lastWriteReason};const{id:u,lastWriteAt:c,lastWriteReason:d,...x}=o;t(x)}else t(null)},l.onerror=()=>n(l.error||new Error("IDB get failed"))})}async function Ch(e,t){const n=await Ic();return new Promise((r,s)=>{const l=n.transaction(nr,"readwrite"),o=l.objectStore(nr);if(!e)console.info("[Drive][IDB] CLEAR session",{reason:t}),o.delete(mi),on={lastWriteAt:Date.now(),lastWriteReason:t};else{const u={id:mi,...e,lastWriteAt:Date.now(),lastWriteReason:t};console.info("[Drive][IDB] WRITE session",{reason:t,hasRefresh:!!e.refreshToken,expiresAt:e.expiresAt}),o.put(u),on={lastWriteAt:u.lastWriteAt,lastWriteReason:u.lastWriteReason}}l.oncomplete=()=>r(),l.onerror=()=>s(l.error||new Error("IDB put/delete failed"))})}async function Tx(){try{const e=await Ic();return await new Promise((t,n)=>{const l=e.transaction(nr,"readonly").objectStore(nr).get(mi);l.onsuccess=()=>{const o=l.result;o?(on={lastWriteAt:o.lastWriteAt,lastWriteReason:o.lastWriteReason},t(o)):t(null)},l.onerror=()=>n(l.error||new Error("IDB get failed"))})}catch(e){return console.warn("[Drive][IDB] getDriveSessionRecord failed",e),null}}async function Rx(){const e=await Tx(),t=!!e,n=!!(e!=null&&e.refreshToken),r=(e==null?void 0:e.expiresAt)??null,s=(e==null?void 0:e.lastWriteAt)??(on==null?void 0:on.lastWriteAt)??null,l=(e==null?void 0:e.lastWriteReason)??(on==null?void 0:on.lastWriteReason)??null,o=e?"idb":"none",u=e==null?void 0:e.profile,c=_x({sessionLoaded:t,lastWriteReason:l}),d={sessionLoaded:t,hasRefresh:n,expiresAt:r,source:o,lastWriteAt:s,lastWriteReason:l,state:c,profile:u};return console.info("startup:",d),console.info("[Drive] startupSessionState",{state:c,lastWriteReason:l}),d}function Dx(){if(typeof window>"u")return null;try{const e=window.localStorage.getItem(kh);return e?JSON.parse(e):null}catch{return null}}function Ix(){typeof window>"u"||window.localStorage.removeItem(kh)}async function Li(){if(il)return gr;try{const t=await Px();if(t)return gr=t,Bo="idb",il=!0,gr}catch{}const e=Dx();if(e){gr=e,Bo="legacy",il=!0;try{await Ch(e,"startup-migration")}catch{}return gr}return gr=null,Bo="none",il=!0,null}async function Ac(e,t){gr=e,il=!0,Bo=e?"idb":"none";try{await Ch(e,t)}catch(n){console.warn("[Drive][IDB] persistSession failed",n)}}async function Eh(e){await Ac(null,e),Ix()}async function Ax(){return Li()}function Lx(e,t=5*60*1e3){return!e||e.expiresAt<=Date.now()+t}function Ox(e){return e.replace(/^#/,"").split("&").map(t=>t.split("=")).reduce((t,[n,r])=>(n&&(t[decodeURIComponent(n)]=decodeURIComponent(r||"")),t),{})}function _h(e,t,n,r){const s=t?t*1e3:bx;return{accessToken:e,expiresAt:Date.now()+s-60*1e3,refreshToken:n,profile:r}}async function Ph(e){try{const t=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)return;const n=await t.json();return{email:n.email,name:n.name,picture:n.picture}}catch{return}}async function Mx(){const e=new Uint8Array(32);return crypto.getRandomValues(e),btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fx(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=Array.from(new Uint8Array(r));return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ux(e,t){const n=await Mx(),r=await Fx(n),s=btoa(JSON.stringify({v:n,r:t||null}));return window.localStorage.setItem(zo,n),t?window.localStorage.setItem(vl,t):window.localStorage.removeItem(vl),window.localStorage.setItem($o,e),`https://accounts.google.com/o/oauth2/v2/auth?${new URLSearchParams({client_id:Iu,redirect_uri:e,response_type:"code",scope:Nx,include_granted_scopes:"true",state:s,prompt:"consent",access_type:"offline",code_challenge:r,code_challenge_method:"S256"}).toString()}`}async function zx(e,t,n){const r={grant_type:"authorization_code",code:e,code_verifier:t,redirect_uri:n,client_id:Iu};console.info("[Drive] Exchanging code",{redirect_uri:n,client_id:Iu,code_preview:e?`${e.slice(0,4)}...${e.slice(-4)}`:"none"});const s=await fetch(jh,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok){const l=await s.text().catch(()=>"");throw new Error(l||"Failed to exchange code for tokens.")}return s.json()}async function $x(){if(typeof window>"u")return null;const e=window.location.search||"",t=new URLSearchParams(e);let n=t.get("code"),r=t.get("state");if(!n&&window.location.hash){const u=Ox(window.location.hash);n=u.code||n,r=u.state||r}if(!n)return null;let s=null,l=null,o=null;if(r)try{const u=JSON.parse(atob(r));u!=null&&u.v&&typeof u.v=="string"&&(s=u.v),u!=null&&u.r&&typeof u.r=="string"&&(l=u.r),u!=null&&u.d&&typeof u.d=="string"&&(o=u.d)}catch{}if(s||(s=window.localStorage.getItem(zo)),l||(l=window.localStorage.getItem(vl)),o||(o=window.localStorage.getItem($o)||bh),!s)return null;try{const u=await zx(n,s,o),c=await Ph(u.access_token),d=_h(u.access_token,u.expires_in,u.refresh_token,c||void 0);return await Ac(d,"login-success"),window.localStorage.removeItem(zo),window.localStorage.removeItem(vl),window.localStorage.removeItem($o),l&&l!==o?window.location.replace(l):window.history.replaceState(null,document.title,o),d}catch{return window.localStorage.removeItem(zo),window.localStorage.removeItem(vl),window.localStorage.removeItem($o),null}}async function Bx(e,t){if(typeof window>"u")throw new Error("Browser required.");const n=jx(),r=await Ux(n,window.location.href);return window.location.href=r,new Promise(()=>{})}async function Th(){const e=await Li();if(!e)return console.warn("[Drive] refreshDriveSession: no stored session"),null;if(e.expiresAt>Date.now()+60*1e3)return console.debug("[Drive] refreshDriveSession: not expiring soon; skipping refresh",{expiresAt:e.expiresAt}),e;if(!e.refreshToken)return console.warn("[Drive] refreshDriveSession: missing refresh token; cannot refresh; keeping existing session",{expiresAt:e.expiresAt}),e;try{const t=await fetch(jh,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({grant_type:"refresh_token",refresh_token:e.refreshToken})});if(!t.ok){const l=await t.text().catch(()=>"");throw console.warn("[Drive] refreshDriveSession: HTTP error from token endpoint",{status:t.status,statusText:t.statusText,bodySnippet:l.slice(0,200)}),new Error("Refresh failed: "+t.status)}const n=await t.json(),r=await Ph(n.access_token),s=_h(n.access_token,n.expires_in,e.refreshToken,r||e.profile);return await Ac(s,"refresh-success"),s}catch(t){const n=String((t==null?void 0:t.message)||"");return console.warn("[Drive] refreshDriveSession: caught error",{message:n}),/invalid_grant|invalid_client/i.test(n)?(console.warn("[Drive] refreshDriveSession: treating as fatal OAuth error; clearing session"),await Eh("fatal-oauth-error")):console.warn("[Drive] refreshDriveSession: non-fatal error; keeping stored session in IDB"),null}}async function ms(e){let t=e??await Li();return t?Lx(t)?await Th():t:null}async function Wx(){const e=await $x();if(e)return e;const t=await Li();return t&&t.expiresAt>Date.now()+60*1e3?t:Th()}async function Hx(){await Eh("explicit-disconnect")}async function St(e,t,n){const r=await fetch(t,{...n,headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",...(n==null?void 0:n.headers)||{}}});if(!r.ok){const s=await r.text().catch(()=>"");throw new Error(s||"Google Drive request failed.")}return r}function hi(e){return e.replace(/'/g,"\\'")}async function Oi(e){const t=Vx();if(t){if(await Rh(e,t))return t;Kx()}const n=new URLSearchParams({q:`name='${Of}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,fields:"files(id)",spaces:"drive"}),s=await(await St(e,`https://www.googleapis.com/drive/v3/files?${n.toString()}`)).json();if(Array.isArray(s.files)&&s.files.length>0)return Uf(s.files[0].id),s.files[0].id;const o=await(await St(e,"https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:Of,mimeType:"application/vnd.google-apps.folder"})})).json();return Uf(o.id),o.id}function Uf(e){typeof window>"u"||window.localStorage.setItem(Rc,e)}function Vx(){return typeof window>"u"?null:window.localStorage.getItem(Rc)}function Kx(){typeof window>"u"||window.localStorage.removeItem(Rc)}function zf(e){typeof window>"u"||window.localStorage.setItem(Dc,e)}function Gx(){return typeof window>"u"?null:window.localStorage.getItem(Dc)}function Qx(){typeof window>"u"||window.localStorage.removeItem(Dc)}async function Rh(e,t){try{return(await St(e,`https://www.googleapis.com/drive/v3/files/${t}?fields=id`)).ok}catch{return!1}}async function Yx(e){const t=Gx();if(t){if(await Rh(e,t))return t;Qx()}const n=await Oi(e),r=new URLSearchParams({q:`'${n}' in parents and name='${hi(Mf)}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,fields:"files(id)",spaces:"drive"}),l=await(await St(e,`https://www.googleapis.com/drive/v3/files?${r.toString()}`)).json();if(Array.isArray(l.files)&&l.files.length>0)return zf(l.files[0].id),l.files[0].id;const u=await(await St(e,"https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:Mf,mimeType:"application/vnd.google-apps.folder",parents:[n]})})).json();if(!(u!=null&&u.id))throw new Error("Unable to create Student Docs folder.");return zf(u.id),u.id}async function Jx(e){const t=await Oi(e),n=new URLSearchParams({q:`'${t}' in parents and name='${hi(Ff)}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,fields:"files(id)",spaces:"drive"}),s=await(await St(e,`https://www.googleapis.com/drive/v3/files?${n.toString()}`)).json();if(Array.isArray(s.files)&&s.files.length>0)return s.files[0].id;const o=await(await St(e,"https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:Ff,mimeType:"application/vnd.google-apps.folder",parents:[t]})})).json();if(!(o!=null&&o.id))throw new Error("Unable to create student photos folder.");return o.id}async function Xx(e,t,n){const r=(n||"").trim();if(!r)throw new Error("Document title is required.");const l=await(await St(e,"https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:r,mimeType:"application/vnd.google-apps.document",parents:[t]})})).json();if(!(l!=null&&l.id))throw new Error("Unable to create Google Doc.");return{fileId:l.id,title:l.name||r}}async function qx(e){const t=await ms();if(!(t!=null&&t.accessToken))throw new Error("Sign in with Google Drive first.");const n=t.accessToken,r=await Jx(n),s=Tc(e.studentId,e.studentFullName);let l=e.fileId?String(e.fileId):null;if(!l){const N=`name='${hi(s)}' and '${r}' in parents and trashed=false`,v=new URLSearchParams({q:N,fields:"files(id)",spaces:"drive"}),b=await(await St(n,`https://www.googleapis.com/drive/v3/files?${v.toString()}`)).json();l=Array.isArray(b.files)&&b.files.length>0?b.files[0].id:null}if(!l){const N=`student_${e.studentId}.jpg`,v=`name='${hi(N)}' and '${r}' in parents and trashed=false`,j=new URLSearchParams({q:v,fields:"files(id)",spaces:"drive"}),k=await(await St(n,`https://www.googleapis.com/drive/v3/files?${j.toString()}`)).json();l=Array.isArray(k.files)&&k.files.length>0?k.files[0].id:null}const o=l?{name:s,mimeType:"image/jpeg"}:{name:s,parents:[r],mimeType:"image/jpeg"},u=new FormData;u.append("metadata",new Blob([JSON.stringify(o)],{type:"application/json"})),u.append("file",e.jpegBlob,s);const c=l?`https://www.googleapis.com/upload/drive/v3/files/${l}?uploadType=multipart&fields=id,name,modifiedTime`:"https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id,name,modifiedTime",d=await fetch(c,{method:l?"PATCH":"POST",headers:{Authorization:`Bearer ${n}`},body:u,signal:e.signal});if(!d.ok){const N=await d.text().catch(()=>"");throw new Error(N||"Failed to upload student photo.")}const x=await d.json();if(!(x!=null&&x.id))throw new Error("Unable to upload student photo.");return{fileId:x.id,folderId:r,fileName:x.name||s,modifiedTime:x.modifiedTime}}async function $f(e){const t=await Oi(e),n=new URLSearchParams({q:`'${t}' in parents and trashed=false`,fields:"files(id,name,modifiedTime,size,headRevisionId)",orderBy:"modifiedTime desc",spaces:"drive"});return((await(await St(e,`https://www.googleapis.com/drive/v3/files?${n.toString()}`)).json()).files||[]).map(Mi)}async function Zx(e,t,n){const r=await Oi(e),s="classseats_drive_boundary",l={name:t,mimeType:"application/json",parents:[r],appProperties:kx},o=[`--${s}`,"Content-Type: application/json; charset=UTF-8","",JSON.stringify(l),`--${s}`,"Content-Type: application/json","",n,`--${s}--`,""].join(`\r
`),u=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id,name,modifiedTime,size,headRevisionId",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":`multipart/related; boundary=${s}`},body:o});if(!u.ok){const d=await u.text().catch(()=>"");throw new Error(d||"Failed to create Google Drive file.")}const c=await u.json();return Mi(c)}async function Ra(e,t){return(await St(e,`https://www.googleapis.com/drive/v3/files/${t}?alt=media`,{method:"GET"})).text()}async function ev(e,t,n){const r=await fetch(`https://www.googleapis.com/upload/drive/v3/files/${t}?uploadType=media`,{method:"PATCH",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:n});if(!r.ok){const o=await r.text().catch(()=>"");throw new Error(o||"Failed to upload file to Google Drive.")}const l=await(await St(e,`https://www.googleapis.com/drive/v3/files/${t}?fields=id,name,modifiedTime,size,headRevisionId`,{method:"GET"})).json();return Mi(l)}function Mi(e){var t;return e?{id:e.id,name:e.name,modifiedTime:e.modifiedTime,size:e.size,revisionId:e.headRevisionId||e.revisionId||((t=e==null?void 0:e.appProperties)==null?void 0:t.revisionId)}:{id:"",name:""}}async function tv(e){const t=new URLSearchParams({q:"mimeType='application/json' and trashed=false",fields:"files(id,name,modifiedTime,size,headRevisionId)",orderBy:"modifiedTime desc",spaces:"drive"});return((await(await St(e,`https://www.googleapis.com/drive/v3/files?${t.toString()}`)).json()).files||[]).map(Mi)}const wr=new Map;function Dh(e,t){const n=wr.get(e);if((n==null?void 0:n.value)!==void 0)return Promise.resolve(n.value);if(n!=null&&n.promise)return n.promise;const r=t().then(s=>(wr.set(e,{value:s}),s)).catch(s=>{throw wr.delete(e),s});return wr.set(e,{promise:r}),r}function ks(e){if(!e){wr.clear();return}for(const t of wr.keys())t.startsWith(e)&&wr.delete(t)}const nv="classseats-cache",rv=1,kn="driveFolders",qn="studentPhotoMap",Zn="photoBlobs";function Fi(){return typeof indexedDB>"u"?Promise.resolve(null):new Promise((e,t)=>{const n=indexedDB.open(nv,rv);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(kn)||r.createObjectStore(kn,{keyPath:"key"}),r.objectStoreNames.contains(qn)||r.createObjectStore(qn,{keyPath:"studentId"}),r.objectStoreNames.contains(Zn)||r.createObjectStore(Zn,{keyPath:"fileId"})},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error||new Error("IndexedDB open failed"))})}function Lc(e,t){return t?Date.now()-e>t:!1}async function Ps(e,t){const n=await Fi();return n?new Promise((r,s)=>{const u=n.transaction(e,"readonly").objectStore(e).get(t);u.onsuccess=()=>r(u.result||null),u.onerror=()=>s(u.error||new Error("IDB get failed"))}):null}async function Ui(e,t){const n=await Fi();if(n)return new Promise((r,s)=>{const l=n.transaction(e,"readwrite");l.objectStore(e).put(t),l.oncomplete=()=>r(),l.onerror=()=>s(l.error||new Error("IDB put failed"))})}async function js(e,t){const n=await Fi();if(n)return new Promise((r,s)=>{const l=n.transaction(e,"readwrite");l.objectStore(e).delete(t),l.oncomplete=()=>r(),l.onerror=()=>s(l.error||new Error("IDB delete failed"))})}async function Da(e){const t=await Fi();if(t)return new Promise((n,r)=>{const s=t.transaction(e,"readwrite");s.objectStore(e).clear(),s.oncomplete=()=>n(),s.onerror=()=>r(s.error||new Error("IDB clear failed"))})}async function Ih(e,t,n){const r=await Ps(kn,e);return r?n&&r.accountKey&&r.accountKey!==n?(await js(kn,e),null):Lc(r.updatedAt,t)?(await js(kn,e),null):r:null}async function Ah(e){await Ui(kn,e)}async function sv(e,t,n){const r=await Ps(qn,e);return r?n&&r.accountKey&&r.accountKey!==n?(await js(qn,e),null):Lc(r.fetchedAt,t)?(await js(qn,e),null):r:null}async function lv(e,t){const n=await Ps(qn,e);return!n||t&&n.accountKey&&n.accountKey!==t?null:n}async function ov(e){await Ui(qn,e)}async function iv(e,t,n){const r=await Ps(Zn,e);return r?n&&r.accountKey&&r.accountKey!==n?(await js(Zn,e),null):Lc(r.fetchedAt,t)?(await js(Zn,e),null):r:null}async function av(e,t){const n=await Ps(Zn,e);return!n||t&&n.accountKey&&n.accountKey!==t?null:n}async function Lh(e){await Ui(Zn,e)}async function uv(){await Promise.all([Da(kn),Da(qn),Da(Zn)])}const Oh="driveAccountKey";async function cv(){const e=await Ps(kn,Oh);return(e==null?void 0:e.value)||null}async function dv(e){const t={key:Oh,value:e,updatedAt:Date.now(),accountKey:e};await Ui(kn,t)}const Bf="ClassSeats",Wf="studentPhotos",Mh=30*24*60*60*1e3,fv=7*24*60*60*1e3,pv=7*24*60*60*1e3,mv=5*60*1e3,hv="classseats_studentPhotoRefs_v1",gv=()=>{if(typeof window>"u")return!1;try{return window.localStorage.getItem("classseats_debug_drive")==="1"}catch{return!1}},Fh=(e,t)=>{gv()&&console.debug(`[PhotoService] ${e}`,t)},Ia={folderLookups:0,photoMetaLookups:0,mediaDownloads:0};function bs(e){Ia[e]+=1,Fh(`${e}=${Ia[e]}`,{count:Ia[e]})}const gi=new Map,yi=new Map,_r=new Map;let Wo=null;const Uh=(e,t)=>`${e}:${t||0}`;function zh(e){return e.replace(/'/g,"\\'")}function yv(e){if(typeof window>"u")return null;try{const t=window.localStorage.getItem(hv);if(!t)return null;const n=JSON.parse(t);if(!n||typeof n!="object")return null;const r=n[e];return!r||typeof r.fileId!="string"?null:r.fileId}catch{return null}}function $h(e){let t=0;const n=[],r=()=>{if(t>=e)return;const s=n.shift();s&&s()};return async function(l){t>=e&&await new Promise(o=>n.push(o)),t+=1;try{return await l()}finally{t-=1,r()}}}const Oc=$h(4),Hf=$h(3);async function Pr(e,t,n){const r={Authorization:`Bearer ${e}`},s=(n==null?void 0:n.body)instanceof FormData;n!=null&&n.body&&!s&&(r["Content-Type"]="application/json");const l=await fetch(t,{...n,headers:{...r,...(n==null?void 0:n.headers)||{}}});if(!l.ok){const o=await l.text().catch(()=>"");throw new Error(o||"Google Drive request failed.")}return l}async function xv(e){var n,r,s,l,o;if((r=(n=e.driveSession)==null?void 0:n.profile)!=null&&r.email)return e.driveSession.profile.email;if((s=e.driveClient)!=null&&s.getStatus)try{const u=await e.driveClient.getStatus();if(u.connected)return((l=u.profile)==null?void 0:l.email)||null}catch{}const t=await ms(e.driveSession);return((o=t==null?void 0:t.profile)==null?void 0:o.email)||null}async function Bl(e){const t=await xv(e);if(!t)return null;Wo&&Wo!==t&&await xi("account-change");const n=await cv();return n&&n!==t&&await xi("account-change"),Wo=t,n!==t&&await dv(t),t}async function zi(e){var n,r;if((n=e.driveSession)!=null&&n.accessToken)return e.driveSession.accessToken;if(((r=e.driveClient)==null?void 0:r.kind)==="desktop")return null;const t=await ms(e.driveSession);return(t==null?void 0:t.accessToken)||null}async function Mc(e,t){const n=await Dh(e,t);return n==null&&ks(e),n}function al(e,t){const n=_r.get(e);n!=null&&n.url&&URL.revokeObjectURL(n.url);const r=URL.createObjectURL(t);return _r.set(e,{url:r}),r}function vv(e){const t=_r.get(e);return(t==null?void 0:t.url)||null}function Bh(e,t){const n=`${e}:`;for(const[r,s]of _r.entries())r!==e&&!r.startsWith(n)||t&&r===t||(s!=null&&s.url&&URL.revokeObjectURL(s.url),_r.delete(r))}function wv(e){const t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),t}function Sv(e){const t=e.replace(/\s+/g,"");return t.length<32||t.length%4!==0?!1:/^[A-Za-z0-9+/=]+$/.test(t)}function Vf(e,t){try{const n=e.replace(/\s+/g,""),r=atob(n),s=new Uint8Array(r.length);for(let l=0;l<r.length;l+=1)s[l]=r.charCodeAt(l);return new Blob([s],{type:t||"image/jpeg"})}catch{return null}}function Nv(e){if(!e)return null;if(e instanceof Blob)return e;if(e instanceof ArrayBuffer)return new Blob([e]);if(ArrayBuffer.isView(e))return new Blob([wv(e)]);if(typeof e=="string"){if(e.startsWith("data:")){const t=e.split(",",2);if(t.length===2){const n=t[0].match(/data:([^;]+)/),r=Vf(t[1],n==null?void 0:n[1]);if(r)return r}}if(Sv(e)){const t=Vf(e);if(t)return t}return new Blob([e])}return null}async function Kf(e,t,n,r){const s=`name='${zh(n)}' and '${t}' in parents and trashed=false`,l=new URLSearchParams({q:s,fields:"files(id,name,modifiedTime)",spaces:"drive"});return bs("photoMetaLookups"),Oc(async()=>{const u=await(await Pr(e,`https://www.googleapis.com/drive/v3/files?${l.toString()}`,{method:"GET",signal:r})).json();return!Array.isArray(u.files)||u.files.length===0?null:u.files[0]})}async function kv(e,t,n){return bs("photoMetaLookups"),Oc(async()=>{const s=await(await Pr(e,`https://www.googleapis.com/drive/v3/files/${t}?fields=id,name,modifiedTime`,{method:"GET",signal:n})).json();return s!=null&&s.id?{id:s.id,name:s.name,modifiedTime:s.modifiedTime}:null})}async function jv(e,t,n,r){return Oc(async()=>{const l=await(await Pr(e,`https://www.googleapis.com/drive/v3/files/${t}?fields=id,name,modifiedTime`,{method:"PATCH",body:JSON.stringify({name:n}),signal:r})).json();return l!=null&&l.id?{id:l.id,name:l.name,modifiedTime:l.modifiedTime}:null})}async function bv(e){return Mc("driveFolder:classSeats",async()=>{const t=await Bl(e),n=await Ih("classSeatsFolderId",Mh,t||void 0);if(n!=null&&n.value)return n.value;const r=await zi(e);if(!r)return null;bs("folderLookups");const s=new URLSearchParams({q:`name='${Bf}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,fields:"files(id)",spaces:"drive"}),o=await(await Pr(r,`https://www.googleapis.com/drive/v3/files?${s.toString()}`,{method:"GET"})).json();let u=null;if(Array.isArray(o.files)&&o.files.length>0&&(u=o.files[0].id),!u){const d=await(await Pr(r,"https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:Bf,mimeType:"application/vnd.google-apps.folder"})})).json();u=(d==null?void 0:d.id)||null}return u?(await Ah({key:"classSeatsFolderId",value:u,updatedAt:Date.now(),accountKey:t||void 0}),u):null})}async function Cv(e){return Mc("driveFolder:studentPhotos",async()=>{const t=await Bl(e),n=await Ih("studentPhotosFolderId",Mh,t||void 0);if(n!=null&&n.value)return n.value;const r=await zi(e);if(!r)return null;const s=await bv(e);if(!s)return null;bs("folderLookups");const l=new URLSearchParams({q:`'${s}' in parents and name='${zh(Wf)}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,fields:"files(id)",spaces:"drive"}),u=await(await Pr(r,`https://www.googleapis.com/drive/v3/files?${l.toString()}`,{method:"GET"})).json();let c=null;if(Array.isArray(u.files)&&u.files.length>0&&(c=u.files[0].id),!c){const x=await(await Pr(r,"https://www.googleapis.com/drive/v3/files",{method:"POST",body:JSON.stringify({name:Wf,mimeType:"application/vnd.google-apps.folder",parents:[s]})})).json();c=(x==null?void 0:x.id)||null}return c?(await Ah({key:"studentPhotosFolderId",value:c,updatedAt:Date.now(),accountKey:t||void 0}),c):null})}async function ul(e){gi.set(e.studentId,e),yi.delete(e.studentId),ks(`studentPhoto:${e.studentId}`),await ov(e)}async function Ev(e,t,n,r){const s=String(e),l=await Bl(n),o=gi.get(s);if(o&&(!l||o.accountKey===l))return o;const u=await sv(s,fv,l||void 0);if(u)return gi.set(s,u),u;const c=await lv(s,l||void 0),d=yi.get(s);if(d&&Date.now()-d<mv)return c||null;const x=await zi(n);if(!x)return c||null;if(c!=null&&c.fileId)try{const b=await kv(x,c.fileId,r);if(b){const k={studentId:s,fileId:b.id,fileName:b.name,updatedTime:b.modifiedTime,fetchedAt:Date.now(),accountKey:l||void 0};return await ul(k),k}}catch{}const N=await Cv(n);if(!N)return c||null;const v=t?Tc(e,t):c==null?void 0:c.fileName;if(v)try{const b=await Kf(x,N,v,r);if(b){const k={studentId:s,fileId:b.id,fileName:b.name,updatedTime:b.modifiedTime,fetchedAt:Date.now(),accountKey:l||void 0};return await ul(k),k}}catch{return c||null}try{const b=`student_${e}.jpg`,k=await Kf(x,N,b,r);if(k){let Y=k.name,h=k.modifiedTime;if(v&&k.name!==v){const y=await jv(x,k.id,v,r);y!=null&&y.name&&(Y=y.name,h=y.modifiedTime)}const p={studentId:s,fileId:k.id,fileName:Y,updatedTime:h,fetchedAt:Date.now(),accountKey:l||void 0};return await ul(p),p}}catch{return c||null}const j=yv(s);if(j){const b={studentId:s,fileId:j,fileName:v||void 0,fetchedAt:Date.now(),accountKey:l||void 0};return await ul(b),b}return yi.set(s,Date.now()),c||null}async function _v(e,t,n){var s;if(((s=t.driveClient)==null?void 0:s.kind)==="desktop"&&t.driveClient.downloadFile)return bs("mediaDownloads"),Hf(async()=>{var o,u;const l=await((u=(o=t.driveClient)==null?void 0:o.downloadFile)==null?void 0:u.call(o,e));return Nv(l==null?void 0:l.data)});const r=await zi(t);return r?(bs("mediaDownloads"),Hf(async()=>{const l=await fetch(`https://www.googleapis.com/drive/v3/files/${e}?alt=media`,{method:"GET",headers:{Authorization:`Bearer ${r}`},signal:n});return l.ok?l.blob():null})):null}async function Pv(e,t,n,r){const s=Uh(e,t);Bh(e,s);const l=vv(s);if(l)return l;const o=await Bl(n),u=await iv(s,pv,o||void 0);if(u)return al(s,u.blob);const c=await av(s,o||void 0);try{const d=await Dh(`photoBlob:${s}`,async()=>_v(e,n,r));if(!d)return ks(`photoBlob:${s}`),c?al(s,c.blob):null;const x={fileId:s,blob:d,fetchedAt:Date.now(),accountKey:o||void 0};return await Lh(x),al(s,d)}catch{return ks(`photoBlob:${s}`),c?al(s,c.blob):null}}async function Tv(e){const t=e.photoFileId?String(e.photoFileId):"";if(!t)return{fileId:null,url:null};const n=await Pv(t,e.photoUpdatedAt,{driveClient:e.driveClient,driveSession:e.driveSession},e.signal);return{fileId:t,url:n}}async function Rv(e){const t=`studentPhoto:${String(e.studentId)}`;return Mc(t,async()=>Ev(e.studentId,e.fullName,{driveClient:e.driveClient,driveSession:e.driveSession},e.signal))}async function Dv(e){const t=Uh(e.fileId,e.photoUpdatedAt);ks(`photoBlob:${t}`);const n=String(e.studentId),r=await Bl({driveClient:e.driveClient,driveSession:e.driveSession}),s=Tc(e.studentId,e.fullName),l={studentId:n,fileId:e.fileId,fileName:s,updatedTime:e.updatedTime,fetchedAt:Date.now(),accountKey:r||void 0};await ul(l);const o={fileId:t,blob:e.blob,updatedTime:e.updatedTime,fetchedAt:Date.now(),accountKey:r||void 0};await Lh(o),Bh(e.fileId,t),al(t,e.blob)}async function xi(e){e&&Fh("cache clear",{reason:e});for(const t of _r.values())URL.revokeObjectURL(t.url);_r.clear(),gi.clear(),yi.clear(),Wo=null,ks(),await uv()}function Wh({studentId:e,fullName:t,photoFileId:n,photoUpdatedAt:r,driveClient:s,driveSession:l,driveAccountKey:o}){const[u,c]=f.useState(null),[d,x]=f.useState(null),[N,v]=f.useState(!1),j=f.useMemo(()=>String(e),[e]),b=f.useMemo(()=>n?String(n):"",[n]),k=(l==null?void 0:l.accessToken)||"",Y=o||"";return f.useEffect(()=>{let h=!0;const p=new AbortController;return b?(v(!0),c(null),Tv({photoFileId:b,photoUpdatedAt:r,driveClient:s,driveSession:l,signal:p.signal}).then(y=>{h&&(c(y.url),x(y.fileId))}).catch(()=>{h&&(c(null),x(null))}).finally(()=>{h&&v(!1)}),()=>{h=!1,p.abort()}):(c(null),x(null),v(!1),()=>{h=!1,p.abort()})},[j,b,r,s,l,k,Y,t]),{photoUrl:u,fileId:d,loading:N}}const Gf=72,Iv=64,Av={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","6xl":"max-w-6xl","7xl":"max-w-7xl"};function Lv({isOpen:e,onRequestClose:t,title:n,subtitle:r,headerRight:s,footer:l,children:o,maxWidth:u="6xl",bodyClassName:c,bodyPadding:d=!0,showCloseX:x=!1}){if(f.useEffect(()=>{if(!e)return;const j=b=>{b.key==="Escape"&&t()};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[e,t]),!e)return null;const N=l?`max-h-[calc(90vh-${Gf}px-${Iv}px)]`:`max-h-[calc(90vh-${Gf}px)]`,v=d?"px-5 py-4":"";return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-50 bg-black/40",style:{width:"100dvw",height:"100dvh"},onMouseDown:t}),i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{width:"100dvw",height:"100dvh"},children:i.jsxs("div",{role:"dialog","aria-modal":"true",className:`relative w-full rounded-xl bg-white shadow-xl border border-slate-200 max-h-[90vh] overflow-hidden ${Av[u]}`,onMouseDown:j=>j.stopPropagation(),children:[i.jsx("div",{className:"border-b border-slate-200 px-5 py-4 bg-white",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"min-w-0",children:[n&&i.jsx("div",{className:"text-lg font-semibold text-slate-900",children:n}),r&&i.jsx("div",{className:"text-sm text-slate-500",children:r})]}),(s||x)&&i.jsxs("div",{className:"flex items-center gap-2",children:[s,x&&i.jsx("button",{type:"button","aria-label":"Close",onClick:t,className:"rounded-md p-2 text-slate-500 hover:bg-slate-100 hover:text-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:i.jsx("span",{"aria-hidden":"true",className:"text-lg leading-none",children:""})})]})]})}),i.jsx("div",{className:`overflow-y-auto overscroll-contain ${N} ${v} ${c??""}`,children:o}),l&&i.jsx("div",{className:"border-t border-slate-200 px-5 py-4 bg-slate-50",children:l})]})})]})}const Ov="newui_constraints_v1";function Mv(){try{const e=localStorage.getItem(Ov);return e?{byPeriod:JSON.parse(e).byPeriod||{}}:{byPeriod:{}}}catch{return{byPeriod:{}}}}function Fv(){return Mv()}const Hh=f.createContext(null);function Uv({children:e}){const[t,n]=f.useState([]),r=f.useCallback(o=>{n(u=>u.filter(c=>c.id!==o))},[]),s=f.useCallback(o=>{const u=`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,c=o.tone||"info",d=o.duration??4e3;n(x=>[...x,{...o,id:u,tone:c}]),d>0&&typeof window<"u"&&window.setTimeout(()=>r(u),d)},[r]),l=f.useMemo(()=>s,[s]);return i.jsxs(Hh.Provider,{value:l,children:[e,i.jsx("div",{className:"pointer-events-none fixed top-6 left-1/2 -translate-x-1/2 z-[1000] flex flex-col gap-4 w-full max-w-lg items-center",children:t.map(o=>{const u=o.tone==="success"?"bg-emerald-600 text-white shadow-emerald-500/40":o.tone==="error"?"bg-rose-600 text-white shadow-rose-500/40":o.tone==="warning"?"bg-amber-500 text-slate-900 shadow-amber-400/40":"bg-slate-800 text-white shadow-slate-900/40";return i.jsxs("div",{className:`pointer-events-auto rounded-3xl px-5 py-4 shadow-2xl flex items-start gap-4 text-base font-semibold w-full ${u}`,children:[i.jsx("div",{className:"flex-1 text-sm font-semibold",children:o.message}),i.jsx("button",{className:"text-base font-bold opacity-80 hover:opacity-100",onClick:()=>r(o.id),"aria-label":"Dismiss notification",children:""})]},o.id)})})]})}function Vh(){const e=f.useContext(Hh);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const zv="newui_history_v1";function $v(){try{const e=localStorage.getItem(zv);return e?{byPeriod:JSON.parse(e).byPeriod||{}}:{byPeriod:{}}}catch{return{byPeriod:{}}}}function Bv(){return $v()}console.log(" GroupingAlgorithm.js (FIXED v2) file loaded!");console.log(" GroupingAlgorithm v2 loaded successfully!");const Wv="newui_groupings_v1";function Hv(){try{const e=localStorage.getItem(Wv);return e?{byPeriod:JSON.parse(e).byPeriod||{}}:{byPeriod:{}}}catch{return{byPeriod:{}}}}function Vv(){return Hv()}const Kv="newui_print_settings_v1",Gv={seatingChartEditor:{lastUpdated:new Date(0).toISOString()}};function Qv(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function tl(e,t,n,r){const s=typeof e=="number"?e:parseFloat(String(e));return Number.isFinite(s)?Math.min(r,Math.max(n,s)):t}function Yv(e){return e==="a4"||e==="legal"||e==="tabloid"?e:"letter"}function Jv(e){return Array.isArray(e)?e.filter(t=>typeof t=="string"||typeof t=="number"):null}function Xv(){const e=Qv(localStorage.getItem(Kv)),t=(e==null?void 0:e.seatingChartEditor)??{};return{seatingChartEditor:{paper:Yv(t.paper),orientation:t.orientation==="portrait"?"portrait":"landscape",marginMode:t.marginMode==="max"?"max":"safe",showPhotos:t.showPhotos!==!1,showTags:t.showTags!==!1,showSeatNumbers:t.showSeatNumbers===!0,selectedTagIds:Jv(t.selectedTagIds),textScale:tl(t.textScale,1,.5,2.5),photoScale:tl(t.photoScale,1,.5,2),zoom:tl(t.zoom,1,.1,4),offsetX:tl(t.offsetX,0,-5e3,5e3),offsetY:tl(t.offsetY,0,-5e3,5e3),lastUpdated:typeof t.lastUpdated=="string"?t.lastUpdated:Gv.seatingChartEditor.lastUpdated}}}function Kh(e,t=50){const n=t>0?t:50,r=Math.ceil(n*.9),s=Math.ceil(n*.7),l=Math.ceil(n*.5);return e>=r?{label:"Good Standing",color:"green",emoji:"",min:r}:e>=s?{label:"Caution",color:"yellow",emoji:"",min:s,max:r-1}:e>=l?{label:"Warning",color:"orange",emoji:"",min:l,max:s-1}:{label:"Alert",color:"red",emoji:"",min:0,max:l-1}}function qv(){return{periods:Du().periods.map(t=>({id:t.id,behaviorNotes:t.behaviorNotes||{},pointsByStudent:t.pointsByStudent||{},pointsHistory:t.pointsHistory||[],pointsEnabled:t.pointsEnabled,startingPoints:t.startingPoints}))}}const Zv=e=>{const[t,n,r]=e.split("-").map(s=>Number(s));return!Number.isFinite(t)||!Number.isFinite(n)||!Number.isFinite(r)?null:new Date(Date.UTC(t,n-1,r))},ew=e=>{const t=e.getUTCFullYear(),n=String(e.getUTCMonth()+1).padStart(2,"0"),r=String(e.getUTCDate()).padStart(2,"0");return`${t}-${n}-${r}`},tw=e=>{const t=Zv(e);return t?(t.setUTCDate(t.getUTCDate()-1),ew(t)):e},Gh=(e,t,n)=>{if(!e)return null;const r=e[String(t)];return r&&r[n]||null},nw=e=>{if(!e)return null;const t=Object.keys(e);return t.length===0?null:t.reduce((n,r)=>r<n?r:n,t[0])};function jo(e){var x;const{attendance:t,studentId:n,date:r,status:s,resets:l}=e;if(!t)return 0;const o=String(n),c=Gh(l,n,s==="left_early"?"leftEarly":s==="tardy"?"tardy":"absent");let d=0;for(const N of Object.keys(t))N>r||c&&N<c||((x=t[N])==null?void 0:x[o])===s&&(d+=1);return d}function rw(e){var N,v;const{attendance:t,studentId:n,date:r,resets:s}=e;if(!t)return 0;const l=String(n);if((((N=t[r])==null?void 0:N[l])||"unmarked")!=="absent")return 0;const u=Gh(s,n,"absent");if(u&&r<u)return 0;const c=nw(t);let d=r,x=0;for(;!(u&&d<u);){const j=((v=t[d])==null?void 0:v[l])||"unmarked";if(j==="absent")x+=1;else if(j!=="unmarked")break;if(!c||d<=c)break;d=tw(d)}return x}const Qh="https://www.classseats.com/updates",Fc="https://classseats.com",sw=`${Fc}/privacy.html`,lw=`${Fc}/terms.html`;function ow({variant:e="floating",className:t}){const n=new Date().getFullYear(),r=i.jsxs("div",{className:"w-full max-w-[420px] rounded-xl border border-indigo-100 bg-white/95 px-3 py-3 text-left text-slate-800 shadow-lg backdrop-blur",children:[i.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-indigo-700 flex flex-wrap items-center gap-1",children:["Early Access   ",n," ClassSeats "," ",i.jsx("a",{href:Qh,target:"_blank",rel:"noreferrer",className:"text-indigo-700 underline decoration-indigo-300 decoration-2 underline-offset-4 hover:text-indigo-800",children:"Get updates"})]}),i.jsx("p",{className:"mt-1 text-[11px] leading-snug text-slate-700",children:"ClassSeats is in active development. Features and pricing may change."})]});return e==="floating"?i.jsx("div",{className:`pointer-events-none fixed bottom-3 left-3 right-3 z-40 flex justify-end md:left-auto md:right-4 md:max-w-[420px] ${t??""}`,children:i.jsx("div",{className:"pointer-events-auto w-full md:w-auto",children:r})}):i.jsx("div",{className:t,children:r})}const iw="0.1.0",aw=new Date().toLocaleDateString();function uw({open:e,onClose:t,buildRevision:n}){const r=new Date().getFullYear();return e?i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),i.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl bg-white p-6 shadow-2xl",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-indigo-700",children:"ClassSeats (Early Access)"}),i.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"About"})]}),i.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:t,"aria-label":"Close about",children:""})]}),i.jsx("p",{className:"mt-2 text-sm leading-relaxed text-slate-700",children:"ClassSeats is in active development. Features and pricing may change. Data is stored in your Google Drive or locally on your device  ClassSeats does not store student data on its servers."}),i.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 bg-slate-50 p-3 text-sm text-slate-800 space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-semibold",children:"App version"}),i.jsx("span",{children:iw})]}),n&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-semibold",children:"Build revision"}),i.jsxs("span",{children:["Rev ",n]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-semibold",children:"Build date"}),i.jsx("span",{children:aw})]})]}),i.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[i.jsx(bo,{href:Fc,label:"Home"}),i.jsx(bo,{href:sw,label:"Privacy"}),i.jsx(bo,{href:lw,label:"Terms"}),i.jsx(bo,{href:Qh,label:"Get updates"})]}),i.jsxs("p",{className:"mt-4 text-[11px] text-slate-500",children:[" ",r," ClassSeats. All rights reserved."]}),i.jsx("p",{className:"mt-1 text-[10px] text-slate-400",children:"Google Drive is a trademark of Google LLC"})]})]}):null}function bo({href:e,label:t}){return i.jsxs("a",{href:e,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-800 shadow-sm hover:border-indigo-200 hover:text-indigo-700",children:[t,i.jsx("span",{"aria-hidden":"true",children:""})]})}function cw({current:e,onGoDesktop:t,onGoMobile:n}){const r="px-3 py-1.5 text-xs font-semibold rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500",s="bg-slate-900 text-white",l="bg-white text-slate-700 border border-slate-200 hover:bg-slate-50";return i.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-white/80 p-1 shadow-sm",children:[i.jsx("button",{type:"button","aria-pressed":e==="desktop",className:`${r} ${e==="desktop"?s:l}`,onClick:t,children:"Desktop"}),i.jsx("button",{type:"button","aria-pressed":e==="mobile",className:`${r} ${e==="mobile"?s:l}`,onClick:n,children:"Mobile"})]})}function dw(){var n;if(typeof navigator>"u")return!1;const e=(n=navigator.userAgentData)==null?void 0:n.mobile;if(typeof e=="boolean")return e;const t=navigator.userAgent||"";return/iPhone|Android.+Mobile|Windows Phone|iPod/i.test(t)}function fw(e,t,n){const r=Du().currentId,s=r!=null?String(r):null,l=new Date().toISOString();return{schemaVersion:1,version:1,exportedAt:l,updatedAt:l,lastWriter:"unknown",layouts:ax(),periodsState:Du(),lastEditedPeriodId:s,lastEditedDate:null,students:n||yx(),tags:px(),behaviorState:qv(),constraintsState:Fv(),historyState:Bv(),groupingsState:Vv(),printSettings:Xv()}}const Qr=e=>!!e&&typeof e=="object",pw=e=>e===!0||e==="true"||e===1||e==="1",Yh=e=>{const t=typeof e=="number"?e:parseInt(String(e),10);return Number.isFinite(t)&&Number.isInteger(t)?t:null};function mw(e,t){if(!Array.isArray(e))return[];const n=[];for(const r of e){const s=Yh(r);s!=null&&(s<0||s>=t||n.push(s))}return Array.from(new Set(n)).sort((r,s)=>r-s)}function hw(e){var u;if(!e||typeof e!="object"||(e.schemaVersion??(e.version===1?1:void 0))!==1)return null;const n=typeof e.exportedAt=="string"?e.exportedAt:new Date().toISOString(),r=typeof e.updatedAt=="string"?e.updatedAt:n,s=e.lastWriter==="desktop"||e.lastWriter==="mobile"||e.lastWriter==="unknown"?e.lastWriter:"unknown",l={...e,schemaVersion:1,version:e.version??1,exportedAt:n,updatedAt:r,lastWriter:s};if(l.behaviorState=Qr(e.behaviorState)?e.behaviorState:{},!Qr(l.periodsState)||!Array.isArray((u=l.periodsState)==null?void 0:u.periods)||!Array.isArray(l.students)||!Array.isArray(l.layouts)||!Qr(l.behaviorState)||!Qr(l.constraintsState)||!Qr(l.historyState)||!Qr(l.groupingsState))return null;switch((e.schemaVersion!==l.schemaVersion||e.updatedAt!==l.updatedAt||e.exportedAt!==l.exportedAt||e.lastWriter!==l.lastWriter)&&console.log("[Payload] migrated to schema v1",{hadSchemaVersion:e.schemaVersion,hadVersion:e.version,addedUpdatedAt:e.updatedAt!==l.updatedAt,addedLastWriter:e.lastWriter!==l.lastWriter}),l.schemaVersion){case 1:return l.students=(l.students||[]).map(c=>({...c,needsPreferredSeating:pw(c.needsPreferredSeating),quickNote:(typeof c.quickNote=="string",c.quickNote),quickNoteUpdatedAt:(typeof c.quickNoteUpdatedAt=="string",c.quickNoteUpdatedAt),photoFileId:typeof c.photoFileId=="string"?c.photoFileId:c.photoFileId==null?null:String(c.photoFileId),photoUpdatedAt:Yh(c.photoUpdatedAt)})),l.layouts=(l.layouts||[]).map(c=>({...c,tables:(c.tables||[]).map(d=>{const x=Math.max(0,d.capacity||0);return{...d,preferredSeatIndexes:mw(d.preferredSeatIndexes,x),seatLayout:Nh(x||1,d.rotation||0,d.seatLayout||null)}})})),l;default:return null}}function gw(e){return e.isOffline?{action:"skip",reason:"offline"}:e.isLocked?{action:"skip",reason:"locked"}:e.inFlight?{action:"skip",reason:"in-flight"}:e.hasFile?e.dirty?{action:"upload",reason:"ready"}:{action:"skip",reason:"clean"}:{action:"skip",reason:"no-file"}}function yw(e){const t=e.graceMs;return e.isOffline?{action:"skip",reason:"offline"}:e.isLocked?{action:"skip",reason:"locked"}:e.inFlight?{action:"skip",reason:"in-flight"}:e.dirty?{action:"skip",reason:"dirty"}:e.lastLocalEditAt&&e.now-e.lastLocalEditAt<t?{action:"skip",reason:"grace-window"}:{action:"pull",reason:"ready"}}function xw(e){const t=e.incomingUpdatedAt?Date.parse(e.incomingUpdatedAt):NaN,n=e.lastAppliedUpdatedAt?Date.parse(e.lastAppliedUpdatedAt):NaN;return Number.isFinite(t)&&Number.isFinite(n)&&t<=n?{action:"skip",reason:"stale-updatedAt"}:e.incomingRevisionId&&e.lastRevisionId&&e.incomingRevisionId===e.lastRevisionId?{action:"skip",reason:"same-revision"}:{action:"apply",reason:"fresh"}}const vw=new Set(["students","periodsState","layouts","tags","constraintsState","historyState","groupingsState","behaviorNotes","attendance","notes","alerts","payload"]),Au=(e,t,n)=>{if(vw.has(t))return"[omitted]";if(typeof e=="string")return e.length>200?`[string ${e.length}]`:e;if(Array.isArray(e)){const r=e.slice(0,5).map(s=>Au(s,"",n+1));return e.length>5&&r.push(`[+${e.length-5} more]`),n>1?`[array len=${e.length}]`:r}if(e&&typeof e=="object"){if(n>1)return"[object]";const r=Object.entries(e).slice(0,10).map(([s,l])=>[s,Au(l,s,n+1)]);return r.length===0?e:Object.fromEntries(r)}return e};function nl(e,t){if(!(typeof console>"u"))try{const n=t?Au(t,"",0):void 0;n!==void 0?console.log(e,n):console.log(e)}catch{console.log(e)}}const Qf=e=>e?{...e}:{},Yf=(e,t)=>{if(t.size===0)return e;const n={...e};return t.forEach(r=>{delete n[r]}),n},ww=e=>{if(!e||typeof e!="object"||typeof e.note!="string")return null;const t=typeof e.timestamp=="string"?e.timestamp:"";return{note:e.note,timestamp:t}},Sw=e=>{const t=e!=null&&e.note&&typeof e.note=="object"?e.note:e,n={};return Object.entries(t||{}).forEach(([r,s])=>{const l=ww(s);l&&(n[String(r)]=l)}),n};function Nw(e,t,n){const r={};return Object.entries(e||{}).forEach(([l,o])=>{const u=Yf(Qf(o),n);Object.keys(u).length>0&&(r[l]=u)}),t&&Object.entries(t).forEach(([l,o])=>{const u=Yf(Qf(o),n);Object.keys(u).length===0?delete r[l]:r[l]=u}),r}function kw(e,t,n,r){const s={};return Object.entries(e||{}).forEach(([o,u])=>{const c={};Object.entries(Sw(u)).forEach(([d,x])=>{n.has(d)||(c[d]=x)}),Object.keys(c).length>0&&(s[o]=c)}),t&&Object.entries(t).forEach(([o,u])=>{const c=s[o]||{},d={};Object.entries(u||{}).forEach(([x,N])=>{if(n.has(x))return;const v=c[x];v&&v.note===N?d[x]=v:d[x]={note:N,timestamp:r}}),Object.keys(d).length===0?delete s[o]:s[o]=d}),s}function jw({children:e}){return i.jsx(i.Fragment,{children:e})}function bw(e){const t=e.slice();for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}function Lt(e){return String(e)}function Jf(e){try{const t=localStorage.getItem(e);if(!t)return new Set;const n=JSON.parse(t);return Array.isArray(n)?new Set(n.map(String)):new Set}catch{return new Set}}function Aa(e,t){try{localStorage.setItem(e,JSON.stringify(Array.from(t)))}catch{}}function Xf({open:e,title:t,body:n,confirmText:r,cancelText:s,onConfirm:l,onCancel:o,danger:u}){return e?i.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center p-4 sm:items-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:o}),i.jsxs("div",{className:"relative w-full max-w-md overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-2xl",children:[i.jsxs("div",{className:"space-y-2 p-5",children:[i.jsx("div",{className:"text-base font-semibold text-slate-900",children:t}),i.jsx("div",{className:"text-sm text-slate-600",children:n})]}),i.jsxs("div",{className:"flex gap-2 p-4 pt-0",children:[i.jsx("button",{className:"flex-1 rounded-xl border border-slate-200 bg-white px-4 py-2.5 text-sm font-semibold text-slate-700 hover:bg-slate-50",onClick:o,children:s}),i.jsx("button",{className:`flex-1 rounded-xl px-4 py-2.5 text-sm font-semibold text-white ${u?"bg-rose-600 hover:bg-rose-700":"bg-violet-600 hover:bg-violet-700"}`,onClick:l,children:r})]})]})]}):null}function Cw({students:e,periodId:t,driveFileId:n,driveClient:r,driveSession:s}){const l=n??"local",o=`cs_mobile_flashcards_learned_v1:${l}:${t}`,[u,c]=f.useState(!1),[d,x]=f.useState(()=>Jf(o)),N=f.useRef(d);f.useEffect(()=>{N.current=d},[d]),f.useEffect(()=>{const Q=Jf(o);N.current=Q,x(Q),c(!1)},[o]);const v=e.length,[j,b]=f.useState([]),[k,Y]=f.useState(0),[h,p]=f.useState(!1),[y,E]=f.useState(null),[A,M]=f.useState(null),F=f.useMemo(()=>{if(u)return e;const Q=d;return e.filter(te=>!Q.has(Lt(te.id))||Lt(te.id)===y)},[e,u,d,y]),$=f.useMemo(()=>e.map(Q=>Lt(Q.id)).join("|"),[e]),de=f.useMemo(()=>F.map(Q=>Lt(Q.id)).join("|"),[F]),X=f.useMemo(()=>{const Q=new Set(e.map(re=>Lt(re.id)));let te=0;return d.forEach(re=>{Q.has(re)&&te++}),te},[e,d]),ve=Math.max(0,v-X),[Xe,it]=f.useState(!1),[oe,qe]=f.useState(!1);f.useEffect(()=>{const Q=N.current,te=(u?e:e.filter(re=>!Q.has(Lt(re.id)))).map(re=>Lt(re.id));b(te),Y(0),p(!1),E(null),M(null)},[u,t,l,$]),f.useEffect(()=>{const Q=new Set(F.map(te=>Lt(te.id)));b(te=>{const re=te.filter(je=>Q.has(je));return re.length===te.length?te:(Y(je=>Math.min(je,Math.max(0,re.length-1))),re)})},[de]);const O=f.useMemo(()=>new Map(F.map(Q=>[Lt(Q.id),Q])),[F]),ye=j[k]??null,T=ye?O.get(ye)??null:null,{photoUrl:G}=Wh({studentId:(T==null?void 0:T.id)??"unknown",fullName:(T==null?void 0:T.fullName)??null,photoFileId:(T==null?void 0:T.photoFileId)??null,photoUpdatedAt:(T==null?void 0:T.photoUpdatedAt)??null,driveClient:r,driveSession:s}),q=Q=>!ye||y!==ye||u?!1:(b(te=>{const re=te.filter(je=>je!==ye);return Y(je=>re.length===0?0:Q==="prev"?Math.max(0,je-1):Math.min(je,re.length-1)),re}),E(null),!0),me=()=>{p(!1),M(null),!q("next")&&Y(Q=>j.length===0?0:Math.min(Q+1,j.length-1))},he=()=>{p(!1),M(null),!q("prev")&&Y(Q=>Math.max(0,Q-1))},Bt=()=>{if(!T)return;const Q=Lt(T.id);M(null),x(te=>{const re=new Set(te);return re.add(Q),Aa(o,re),re}),E(Q)},L=()=>{if(!T)return;const Q=Lt(T.id);E(null),M(te=>te===Q?null:Q),x(te=>{if(!te.has(Q))return te;const re=new Set(te);return re.delete(Q),Aa(o,re),re})},Ve=()=>{it(!1),p(!1),E(null),M(null),b(Q=>bw(Q)),Y(0)},ze=()=>{qe(!1),p(!1),E(null),M(null);const Q=new Set;x(Q),Aa(o,Q);const te=e.map(re=>Lt(re.id));b(te),Y(0)},$e=!u&&ve===0&&v>0;return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Flashcards"}),i.jsxs("div",{className:"text-xs text-slate-600",children:["Learned ",X," / ",v,"  Remaining ",ve]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50",disabled:j.length<2,onClick:()=>it(!0),children:"Shuffle"}),i.jsx("button",{className:`rounded-xl border px-3 py-2 text-xs font-semibold ${u?"border-violet-200 bg-violet-50 text-violet-900":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"}`,onClick:()=>{c(Q=>!Q),p(!1),E(null),M(null)},children:u?"Including learned":"Include learned"}),i.jsx("button",{className:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-2 text-xs font-semibold text-rose-700 hover:bg-rose-100",onClick:()=>qe(!0),children:"Clear learned"})]})]}),$e?i.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 text-center space-y-2",children:[i.jsx("div",{className:"text-base font-semibold text-slate-900",children:"All learned!"}),i.jsx("div",{className:"text-sm text-slate-600",children:"Youve marked everyone in this period as learned."}),i.jsxs("div",{className:"flex flex-col gap-2 pt-2",children:[i.jsx("button",{className:"rounded-xl bg-violet-600 px-4 py-3 text-sm font-semibold text-white hover:bg-violet-700",onClick:()=>c(!0),children:"Review learned students"}),i.jsx("button",{className:"rounded-xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm font-semibold text-rose-700 hover:bg-rose-100",onClick:()=>qe(!0),children:"Clear learned for this period"})]})]}):i.jsx("div",{className:"space-y-3",children:T?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"relative w-full",style:{perspective:1200},children:i.jsx("button",{type:"button",onClick:()=>p(Q=>!Q),className:"w-full text-left","aria-label":"Flip flashcard",children:i.jsxs("div",{className:"relative h-[380px] w-full",style:{transformStyle:"preserve-3d",transition:"transform 420ms cubic-bezier(0.2, 0.8, 0.2, 1)",transform:h?"rotateY(180deg)":"rotateY(0deg)"},children:[i.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-xl",style:{backfaceVisibility:"hidden"},children:i.jsxs("div",{className:"h-full w-full bg-slate-50 flex items-center justify-center",children:[G?i.jsx("img",{src:G,alt:"",className:"h-full w-full object-cover"}):i.jsxs("div",{className:"p-6 text-center",children:[i.jsx("div",{className:"mx-auto flex h-20 w-20 items-center justify-center rounded-2xl bg-slate-200 text-2xl font-bold text-slate-700",children:T.fullName.split(" ").slice(0,2).map(Q=>{var te;return((te=Q[0])==null?void 0:te.toUpperCase())??""}).join("")}),i.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"No photo"})]}),i.jsx("div",{className:"absolute bottom-3 left-0 right-0 text-center text-xs font-semibold text-slate-500",children:"Tap to flip"})]})}),i.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-xl",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:i.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center p-6 text-center",children:[i.jsx("div",{className:"text-2xl font-bold leading-tight text-slate-900",children:T.fullName}),i.jsx("div",{className:"mt-2 text-sm text-slate-600",children:"Tap again to see photo"}),i.jsxs("div",{className:"mt-6 w-full max-w-sm space-y-2",children:[i.jsx("button",{className:`w-full rounded-2xl px-4 py-3 text-sm font-semibold transition ${y===ye?"bg-emerald-600 text-white hover:bg-emerald-700":"border border-slate-200 bg-white text-slate-800 hover:bg-slate-50"}`,onClick:Q=>{Q.preventDefault(),Q.stopPropagation(),Bt()},children:" Ive learned this"}),i.jsx("button",{className:`w-full rounded-2xl px-4 py-3 text-sm font-semibold transition ${A===ye?"bg-violet-600 text-white hover:bg-violet-700":"border border-slate-200 bg-white text-slate-800 hover:bg-slate-50"}`,onClick:Q=>{Q.preventDefault(),Q.stopPropagation(),L()},children:" Still learning"})]})]})})]})})}),i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("button",{className:"flex-1 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50",disabled:k===0,onClick:he,children:"Prev"}),i.jsx("div",{className:"px-2 text-xs font-semibold text-slate-500",children:j.length===0?"0 / 0":`${k+1} / ${j.length}`}),i.jsx("button",{className:"flex-1 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50",disabled:j.length===0||k>=j.length-1,onClick:me,children:"Next"})]})]}):i.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 text-center space-y-2",children:[i.jsx("div",{className:"text-base font-semibold text-slate-900",children:"No students found."}),i.jsx("div",{className:"text-sm text-slate-600",children:"This period doesnt have any students yet."})]})}),i.jsx(Xf,{open:Xe,title:"Shuffle deck?",body:"This will randomize the order of the current deck once.",confirmText:"Shuffle",cancelText:"Cancel",onConfirm:Ve,onCancel:()=>it(!1)}),i.jsx(Xf,{open:oe,title:"Clear learned students?",body:"This resets learned progress for this period on this device.",confirmText:"Clear",cancelText:"Cancel",danger:!0,onConfirm:ze,onCancel:()=>qe(!1)})]})}const Ew=.85,_w=900,Pw=1200,Tw=4,Rw=60,Dw=160;function Iw({studentId:e,studentFullName:t,existingPhotoFileId:n,open:r,onClose:s,onAccept:l,onUploadComplete:o,title:u="Take Photo"}){const c=Vh(),d=f.useRef(null),x=f.useRef(null),N=f.useRef(null),v=f.useRef(null),j=f.useRef(null),b=f.useRef(!1),k=f.useRef(new Map),Y=f.useRef(null),h=f.useRef(null),p=f.useRef(1),y=f.useRef(null),E=f.useRef(null),[A,M]=f.useState(null),[F,$]=f.useState(!1),[de,X]=f.useState(!1),[ve,Xe]=f.useState(!1),[it,oe]=f.useState(1),[qe,O]=f.useState(!1),[ye,T]=f.useState(!1),G=f.useRef(null),q=f.useMemo(()=>{if(typeof navigator>"u")return{isIOS:!1,isAndroid:!1};const U=navigator.userAgent||"",z=/iPad|iPhone|iPod/i.test(U)||U.includes("Mac")&&typeof document<"u"&&"ontouchend"in document,V=/Android/i.test(U);return{isIOS:z,isAndroid:V}},[]),me=()=>{k.current.clear(),Y.current=null,y.current&&(cancelAnimationFrame(y.current),y.current=null),E.current=null},he=()=>{v.current=null,h.current=null,p.current=1,oe(1),Xe(!1),me()},Bt=()=>(G.current||(G.current=document.createElement("canvas")),G.current),L=U=>{const z=Bt(),V=z.getContext("2d");if(!V)return 0;const K=Dw,se=Math.max(U.width,U.height)/K,fe=Math.max(1,Math.round(U.width/(se||1))),Ne=Math.max(1,Math.round(U.height/(se||1)));z.width=fe,z.height=Ne,V.drawImage(U,0,0,fe,Ne);const _e=V.getImageData(0,0,fe,Ne).data;let Ie=0;for(let Ze=0;Ze<Ne;Ze++){const Ts=Ze*fe*4;for(let Ae=0;Ae<fe;Ae++){const Vt=Ts+Ae*4,Rs=(_e[Vt]+_e[Vt+1]+_e[Vt+2])/3;if(Ae<fe-1){const It=Vt+4,Ar=(_e[It]+_e[It+1]+_e[It+2])/3;Ie+=Math.abs(Rs-Ar)}if(Ze<Ne-1){const It=Vt+fe*4,Ar=(_e[It]+_e[It+1]+_e[It+2])/3;Ie+=Math.abs(Rs-Ar)}}}return Ie},Ve=U=>{const{width:z,height:V}=U;if(!z||!V)return U;const K=_w/z,se=Pw/V,fe=Math.min(1,K,se);if(fe>=.999)return U;const Ne=Math.max(1,Math.round(z*fe)),_e=Math.max(1,Math.round(V*fe)),Ie=document.createElement("canvas");Ie.width=Ne,Ie.height=_e;const Ze=Ie.getContext("2d");return Ze?(Ze.drawImage(U,0,0,Ne,_e),Ie):U},ze=async U=>new Promise(z=>{U.toBlob(V=>{if(V){z(V);return}U.toBlob(K=>z(K),"image/png")},"image/jpeg",Ew)}),$e=async U=>{const z=Ve(U);return ze(z)},Q=async U=>{try{const z=await createImageBitmap(U),V=document.createElement("canvas");V.width=z.width,V.height=z.height;const K=V.getContext("2d");if(!K)return null;if(K.drawImage(z,0,0),"close"in z)try{z.close()}catch{}return V}catch{return new Promise(z=>{const V=URL.createObjectURL(U),K=new Image;K.onload=()=>{const se=document.createElement("canvas");se.width=K.naturalWidth||K.width,se.height=K.naturalHeight||K.height;const fe=se.getContext("2d");if(URL.revokeObjectURL(V),!fe){z(null);return}fe.drawImage(K,0,0),z(se)},K.onerror=()=>{URL.revokeObjectURL(V),z(null)},K.src=V})}},te=async(U,z)=>{const V=d.current,K=x.current;if(!V||!K)return null;const se=V.videoWidth,fe=V.videoHeight;if(!se||!fe)return null;K.width=se,K.height=fe;const Ne=K.getContext("2d");if(!Ne)return null;let _e=-1/0,Ie=null;for(let Ze=0;Ze<U;Ze++){if(!b.current)return null;Ze===0?await new Promise(Ae=>requestAnimationFrame(()=>Ae())):z>0&&await new Promise(Ae=>setTimeout(Ae,z)),Ne.drawImage(V,0,0,se,fe);const Ts=L(K);if(Ts>=_e){_e=Ts,Ie||(Ie=document.createElement("canvas")),Ie.width=se,Ie.height=fe;const Ae=Ie.getContext("2d");Ae&&Ae.drawImage(K,0,0,se,fe)}}return Ie||K},re=async()=>{if(typeof window>"u")return null;const U=v.current,z=window.ImageCapture;if(!U||!z)return null;try{const V=new z(U);return typeof V.takePhoto!="function"?null:await V.takePhoto()}catch{return null}},je=()=>{N.current&&(N.current.getTracks().forEach(U=>U.stop()),N.current=null),d.current&&(d.current.srcObject=null),he()},Rt=()=>{A&&URL.revokeObjectURL(A),j.current=null,M(null)},Dt=()=>{je(),Rt(),$(!1),O(!1),T(!1),s()},Pn=U=>{const z=h.current;if(!z)return U;let V=Math.min(z.max,Math.max(z.min,U));if(typeof z.step=="number"&&z.step>0){const K=Math.round((V-z.min)/z.step);V=z.min+K*z.step,V=Math.min(z.max,Math.max(z.min,V))}return V},or=U=>{const z=v.current;if(!z)return;const V=Pn(U);E.current=V,!y.current&&(y.current=requestAnimationFrame(()=>{y.current=null;const K=E.current;E.current=null,typeof K=="number"&&z.applyConstraints({advanced:[{zoom:K}]}).then(()=>{p.current=K,oe(K)}).catch(()=>{})}))},Wt=async U=>{var z,V;X(!0),$(!1),he();try{let K;try{K=await navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:"environment"},width:{ideal:1280},height:{ideal:960},frameRate:{ideal:30}},audio:!1})}catch{K=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1})}if(!U()){K.getTracks().forEach(fe=>fe.stop());return}N.current=K;const se=K.getVideoTracks()[0]||null;if(v.current=se,se){const fe=(z=se.getCapabilities)==null?void 0:z.call(se),Ne=fe==null?void 0:fe.zoom;if(Ne&&typeof Ne.min=="number"&&typeof Ne.max=="number"){h.current={min:Ne.min,max:Ne.max,step:typeof Ne.step=="number"?Ne.step:void 0};const _e=(V=se.getSettings)==null?void 0:V.call(se),Ie=typeof(_e==null?void 0:_e.zoom)=="number"?_e.zoom:Ne.min,Ze=Pn(Ie);p.current=Ze,oe(Ze),Xe(!0)}}if(d.current){d.current.srcObject=K;try{await d.current.play()}catch{}}}catch{U()&&$(!0),je()}finally{U()&&X(!1)}};f.useEffect(()=>{let U=!0;return b.current=r,r?Wt(()=>U):(je(),Rt(),$(!1),T(!1)),()=>{U=!1,b.current=!1,je(),Rt(),$(!1),T(!1)}},[r]);const dn=async()=>{if(!ye){T(!0);try{let U=null;if(q.isAndroid){const V=await re();if(V){const K=await Q(V);K&&(U=await $e(K))}}if(!U){const V=q.isIOS?Tw:1,K=q.isIOS?Rw:0,se=await te(V,K);se&&(U=await $e(se))}if(!U)return;j.current=U;const z=URL.createObjectURL(U);M(z),je()}finally{T(!1)}}},Dr=async()=>{if(qe)return;const U=j.current;if(U){l(U),O(!0);try{const z=n?null:await Rv({studentId:e,fullName:t}),V=await qx({studentId:e,studentFullName:t,jpegBlob:U,fileId:n||(z==null?void 0:z.fileId)}),K=Date.now();await Dv({studentId:e,fullName:t,fileId:V.fileId,updatedTime:V.modifiedTime,photoUpdatedAt:K,blob:U}),o==null||o({fileId:V.fileId,photoUpdatedAt:K}),Dt()}catch(z){O(!1);const K=(z instanceof Error?z.message:"").toLowerCase();K.includes("sign in")&&K.includes("drive")?c({message:"Please reconnect Google Drive to upload photos.",tone:"error"}):c({message:"Couldn't upload the photo. Your preview is still saved here - try again.",tone:"error"})}}},Wl=()=>{Rt(),T(!1),Wt(()=>b.current)},at=U=>{if(!(!ve||A)&&(U.preventDefault(),U.currentTarget.setPointerCapture(U.pointerId),k.current.set(U.pointerId,{x:U.clientX,y:U.clientY}),k.current.size===2)){const z=Array.from(k.current.values()),V=Math.hypot(z[0].x-z[1].x,z[0].y-z[1].y);Y.current={initialDistance:V,initialZoom:p.current}}},$i=U=>{if(!ve||A||!k.current.has(U.pointerId)||(U.preventDefault(),k.current.set(U.pointerId,{x:U.clientX,y:U.clientY}),k.current.size<2||!Y.current))return;const z=Array.from(k.current.values()),V=Math.hypot(z[0].x-z[1].x,z[0].y-z[1].y);if(Y.current.initialDistance<=0)return;const K=V/Y.current.initialDistance,se=Y.current.initialZoom*K;or(se)},Ir=U=>{ve&&(k.current.delete(U.pointerId),k.current.size<2&&(Y.current=null))};if(!r)return null;const Ht=ve&&!A;return i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:Dt}),i.jsxs("div",{className:"relative w-full max-w-md rounded-2xl bg-white p-4 shadow-2xl space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-sm font-semibold text-slate-800",children:u}),i.jsx("button",{type:"button",className:"text-slate-500 hover:text-slate-700",onClick:Dt,"aria-label":"Close",children:""})]}),F?i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-slate-600",children:"Camera unavailable. Check permissions and try again."}),i.jsx("button",{type:"button",className:"w-full rounded-lg bg-slate-900 text-white font-semibold py-2 text-sm",onClick:Dt,children:"Close"})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"w-full aspect-[3/4] rounded-xl bg-slate-100 overflow-hidden flex items-center justify-center",onPointerDown:Ht?at:void 0,onPointerMove:Ht?$i:void 0,onPointerUp:Ht?Ir:void 0,onPointerCancel:Ht?Ir:void 0,style:Ht?{touchAction:"none"}:void 0,children:A?i.jsx("img",{src:A,alt:"",className:"w-full h-full object-cover"}):i.jsx("video",{ref:d,className:"w-full h-full object-cover",playsInline:!0,muted:!0})}),A?i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",className:"flex-1 rounded-lg bg-slate-200 text-slate-800 font-semibold py-2 text-sm disabled:opacity-50",onClick:Wl,disabled:qe,children:"Retake"}),i.jsx("button",{type:"button",className:"flex-1 rounded-lg bg-indigo-600 text-white font-semibold py-2 text-sm disabled:opacity-50",onClick:Dr,disabled:qe,children:qe?"Uploading...":"Accept"})]}):i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",className:"flex-1 rounded-lg bg-indigo-600 text-white font-semibold py-2 text-sm disabled:opacity-50",onClick:dn,disabled:de||ye,children:ye?"Capturing...":"Take Photo"}),i.jsx("button",{type:"button",className:"flex-1 rounded-lg bg-slate-200 text-slate-800 font-semibold py-2 text-sm",onClick:Dt,children:"Cancel"})]})]})]}),i.jsx("canvas",{ref:x,className:"hidden"})]})}const qf=!1,Zf="588",Aw="https://app.classseats.app",Co="cs_mobile_last_drive_file",Lw="cs_mobile_local_draft_v2",ep="cs_mobile_students_mode_v1",tp="cs_mobile_notes_sort_v1",np="cs_mobile_table_sort_v1",rp="cs_mobile_seat_number_sort_v1",Ow=14*24*60*60*1e3,sp=2e5,lp=14;function La(e){return e?`${Lw}:${e}`:null}function Jh(e){return/^\d{4}-\d{2}-\d{2}$/.test(e)}function op(e,t){const n={};return Object.entries(e||{}).forEach(([r,s])=>{const l=Object.keys(s||{}).filter(u=>Jh(u));l.sort((u,c)=>c.localeCompare(u)),l.slice(0,t).forEach(u=>{const c=(s==null?void 0:s[u])||{};Object.keys(c).length!==0&&(n[r]||(n[r]={}),n[r][u]={...c})})}),n}function Eo(e){const t={};return Object.entries(e||{}).forEach(([n,r])=>{const s={};Object.entries(r||{}).forEach(([l,o])=>{s[l]={...o||{}}}),Object.keys(s).length>0&&(t[n]=s)}),t}function Mw({student:e,attendance:t,points:n,pointsEnabled:r,maxPoints:s,hasNote:l,absenceStreak:o,tardyCount:u,onShowAbsenceHelp:c,onShowTardyHelp:d,seatNumber:x,showSeatNumber:N=!1,statusBg:v,statusLabel:j,tempPhotoUrl:b,onOpenPhoto:k,onOpenMenu:Y,driveClient:h,driveSession:p}){const y=Kh(n,s),{photoUrl:E}=Wh({studentId:e.id,fullName:e.fullName,photoFileId:e.photoFileId,photoUpdatedAt:e.photoUpdatedAt,driveClient:h,driveSession:p}),[A,...M]=(e.fullName||"").split(" "),F=M.join(" "),$=(()=>{switch(t){case"present":return"";case"absent":return"";case"tardy":return"";case"left_early":return"";default:return""}})(),de=j(t),X=b||E,ve=t==="absent"&&(o||0)>=2,Xe=t==="tardy"&&(u||0)>0;return i.jsx("div",{className:`w-full rounded-2xl border px-4 py-3 shadow-sm ${v(t)}`,children:i.jsxs("div",{className:"flex items-start gap-2",children:[N&&i.jsx("div",{className:"flex h-[80px] w-8 shrink-0 items-center justify-center text-sm font-semibold text-slate-500",children:x||""}),i.jsx(wx,{studentId:e.id,hasPhoto:!!X,src:X,onClick:k,widthPx:60,heightPx:80}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsxs("div",{className:"text-left min-w-0 flex-1",children:[i.jsx("div",{className:"text-base font-bold text-slate-900 leading-tight break-words",children:A}),i.jsx("div",{className:"text-base font-bold text-slate-900 leading-tight break-words",children:F||""})]}),i.jsx("button",{className:"text-xl text-slate-600 px-3 py-2 rounded-full hover:bg-slate-200 flex-shrink-0",onClick:it=>{it.stopPropagation(),Y()},children:""})]}),i.jsxs("div",{className:"mt-1 flex items-center justify-between text-sm px-1",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:$}),i.jsx("span",{className:"text-slate-700",children:de})]}),(ve||Xe)&&i.jsxs("div",{className:"flex items-center gap-2",children:[ve&&i.jsxs("button",{type:"button",className:"text-[11px] font-semibold text-rose-700 bg-rose-100 border border-rose-200 rounded px-1.5 py-0.5",onClick:c,children:["A",o]}),Xe&&i.jsxs("button",{type:"button",className:"text-[11px] font-semibold text-amber-700 bg-amber-100 border border-amber-200 rounded px-1.5 py-0.5",onClick:d,children:["T",u]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[r&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-lg",children:y.emoji}),i.jsx("span",{className:"text-emerald-700 font-semibold",children:n})]}),l&&i.jsx("span",{className:"text-indigo-600 text-lg",children:""})]})]})]})]})})}function Fw(e,t,n){var N,v,j;if(!(e!=null&&e.activeGrouping)||!(e!=null&&e.tableAssignments))return null;let r=-1,s=-1;if(e.activeGrouping.forEach((b,k)=>{const Y=b==null?void 0:b.findIndex(h=>String(h)===String(n));Y!==-1&&(r=k,s=Y)}),r===-1||s===-1)return null;const l=e.tableAssignments[String(r)];if(!l)return null;const o=String(l),u=((N=e.tableNumbering)==null?void 0:N.perTableSeatNumbers)&&e.tableNumbering.perTableSeatNumbers[o],c=(j=(v=t==null?void 0:t.tables)==null?void 0:v.find(b=>String(b.id)===o))==null?void 0:j.seatNumbers,d=u||c;if(!d)return null;const x=d[s];return x!=null?String(x):null}function Oa(e,t){const n=e==null?void 0:e[t];if(!n||typeof n!="object")return{};const r=n.note&&typeof n.note=="object"?n.note:n,s={};return Object.entries(r||{}).forEach(([l,o])=>{o&&typeof o=="object"&&typeof o.note=="string"&&(s[String(l)]=o.note)}),s}function Uw(){var vd,wd,Sd;const e=Vh(),t=dw(),n=f.useMemo(()=>vx(),[]),r=f.useMemo(()=>({kind:"web",openExternal:a=>typeof window<"u"?window.open(a,"_blank","noopener,noreferrer"):null}),[]),s=!n.canUseDriveSync,l="Drive sync is disabled.",[o,u]=f.useState(null),[c,d]=f.useState([]),[x,N]=f.useState(!1),[v,j]=f.useState(null),[b,k]=f.useState(()=>s?l:null),[Y,h]=f.useState(!1),[p,y]=f.useState(null),[E,A]=f.useState(!1),[M,F]=f.useState([]),[$,de]=f.useState(""),[X,ve]=f.useState(!1),[Xe,it]=f.useState(!1),[oe,qe]=f.useState(null),[O,ye]=f.useState(null),[T,G]=f.useState(!1),[q,me]=f.useState(!1),[he,Bt]=f.useState(null),[L,Ve]=f.useState(null),[ze,$e]=f.useState({}),[Q,te]=f.useState({}),[re,je]=f.useState({}),[Rt,Dt]=f.useState({}),[Pn,or]=f.useState(null),[Wt,dn]=f.useState({note:"",delta:0,reason:""}),[Dr,Wl]=f.useState(""),[at,$i]=f.useState({pointsEnabled:!1,startingPoints:50,currentPoints:0,predictedPoints:0}),[Ir,Ht]=f.useState(null),[U,z]=f.useState(""),[V,K]=f.useState(null),[se,fe]=f.useState(null),[Ne,_e]=f.useState({}),Ie=f.useRef({}),[Ze,Ts]=f.useState({}),[Ae,Vt]=f.useState(null),[Rs,It]=f.useState(0),[Ar,Hl]=f.useState(null),[Uc,Bi]=f.useState(""),[et,Ds]=f.useState(null),[Jw,Xh]=f.useState([]),[Xw,zc]=f.useState(!1),[qw,Wi]=f.useState(null),[Zw,eS]=f.useState(!1),[Le,Kt]=f.useState(null),[At,$c]=f.useState(null),[Bc,Wc]=f.useState(null),[Tn,Is]=f.useState(null),[Hc,As]=f.useState(null),[Ls,Vc]=f.useState(!1),[Vl,Os]=f.useState(null),[fn,tt]=f.useState(!1),[tS,pn]=f.useState(null),Hi=typeof navigator<"u"?navigator.onLine:!0,[Kc,Ms]=f.useState(Hi),[Gc,Vi]=f.useState(Hi),[Be,Fs]=f.useState(!Hi),qh=f.useRef(null),Zh=f.useRef(!1),Rn=f.useRef(!1),eg=f.useRef(15e3),tg=f.useRef(0),Qc=f.useRef(!1),Dn=f.useRef(!1),Lr=f.useRef(!1),Ki=f.useRef(new Set),Nt=f.useRef(null),Yc=f.useRef(null),Jc=f.useRef(void 0),Xc=f.useRef(null),Gi=()=>{const a=new Date,m=a.getFullYear(),g=String(a.getMonth()+1).padStart(2,"0"),S=String(a.getDate()).padStart(2,"0");return`${m}-${g}-${S}`},[Z,Us]=f.useState(Gi()),[ir,ng]=f.useState("table"),[kt,Qi]=f.useState(()=>{try{const a=localStorage.getItem(ep);return a==="notes"||a==="flashcards"?a:"attendance"}catch{return"attendance"}});f.useEffect(()=>{try{localStorage.setItem(ep,kt)}catch{}},[kt]);const[Kl,rg]=f.useState(()=>{try{return localStorage.getItem(tp)==="last-first"?"last-first":"first-last"}catch{return"first-last"}});f.useEffect(()=>{try{localStorage.setItem(tp,Kl)}catch{}},[Kl]);const[zs,sg]=f.useState(()=>{try{return localStorage.getItem(np)==="desc"?"desc":"asc"}catch{return"asc"}});f.useEffect(()=>{try{localStorage.setItem(np,zs)}catch{}},[zs]);const[Gl,lg]=f.useState(()=>{try{return localStorage.getItem(rp)==="desc"?"desc":"asc"}catch{return"asc"}});f.useEffect(()=>{try{localStorage.setItem(rp,Gl)}catch{}},[Gl]);const og=f.useMemo(()=>new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}),[]);f.useEffect(()=>{Ie.current=Ne},[Ne]),f.useEffect(()=>()=>{Object.values(Ie.current).forEach(a=>URL.revokeObjectURL(a))},[]);const[Ke,In]=f.useState(!1),An=f.useRef(0),jt=f.useRef(null),qc=f.useRef({}),Zc=f.useRef({}),Ql=f.useRef(null),Or=f.useRef({}),Mr=f.useRef({}),ar=f.useRef(null),ed=f.useRef(null),Yl=f.useRef(!1),Yi=f.useRef(!1),[td,$s]=f.useState(!1),Jl=f.useRef(0),mn=f.useRef(null),nd=1500,ur=f.useRef(null),Ji=f.useCallback(a=>a?qc.current[a]??null:null,[]),mt=f.useCallback((a,m)=>{a&&(qc.current[a]=m||null)},[]),Xl=f.useCallback(a=>a||"__local__",[]),rd=f.useCallback(a=>Zc.current[Xl(a)]??null,[Xl]),cr=f.useCallback((a,m)=>{m&&(Zc.current[Xl(a)]=m)},[Xl]),Ln=f.useCallback(a=>{Or.current={},Mr.current={};const m=La(a??(O==null?void 0:O.id));if(m)try{window.localStorage.removeItem(m)}catch{}ar.current&&(window.clearTimeout(ar.current),ar.current=null)},[O==null?void 0:O.id]),Fr=f.useCallback((a,m,g)=>{const S=Or.current;S[a]||(S[a]={}),S[a][m]={...g}},[]),sd=f.useCallback((a,m,g)=>{const S=Mr.current;S[a]||(S[a]={}),S[a][m]={...g}},[]),ld=f.useCallback(()=>{const a=O==null?void 0:O.id,m=La(a);if(!m)return;const g=op(Eo(Or.current),lp),S=op(Eo(Mr.current),lp),w={savedAt:Date.now(),lastEditAt:ur.current??Date.now(),selectedDate:Z,selectedPeriodId:et,pendingAttendanceByDate:g,pendingNotesByDate:S,pointsLocal:re,pointsHistoryLocal:Rt};let C=JSON.stringify(w);if(C.length>sp){const P={...w,pointsHistoryLocal:{}};C=JSON.stringify(P)}if(!(C.length>sp))try{window.localStorage.setItem(m,C)}catch{}},[O==null?void 0:O.id,Rt,re,Z,et]),od=f.useCallback(()=>{Ke&&(ar.current&&window.clearTimeout(ar.current),ar.current=window.setTimeout(()=>{ld(),ar.current=null},250))},[Ke,ld]),Xi=a=>{var m;return JSON.stringify({periodsState:((m=a.periodsState)==null?void 0:m.periods)||[],students:a.students||[]})},dr=f.useRef(0),[nS,Bs]=f.useState("unknown"),[rS,qi]=f.useState(0);f.useCallback(async()=>{const a=await ms(o);return a&&u(a),a},[o]);const tn=f.useCallback(a=>{const m=`${new Date().toISOString()} ${a}`;F(g=>[m,...g].slice(0,200))},[]);f.useEffect(()=>{s&&k(l)},[l,s]);const ig=f.useCallback(async()=>{var m;const a=await Rx();if(y(a),tn(`startup info: state=${a.state} sessionLoaded=${a.sessionLoaded} hasRefresh=${a.hasRefresh} expiresAt=${a.expiresAt} source=${a.source} lastWriteAt=${a.lastWriteAt} lastWriteReason=${a.lastWriteReason}`),a.state==="ok"){const g=await Ax();g&&(u(g),(m=g.profile)!=null&&m.email&&k(null))}return a},[tn]),Ur=f.useCallback(async a=>{const m=(o==null?void 0:o.expiresAt)||null,g=await ms(o);return tn(`${a}: ensureFreshDriveSession ok=${!!g} before=${m} new=${g==null?void 0:g.expiresAt} hasRefresh=${!!(g!=null&&g.refreshToken)}`),g&&(u(g),h(!1)),g},[o,tn]),ag=f.useCallback(()=>{Jl.current+=1,mn.current&&window.clearTimeout(mn.current),mn.current=window.setTimeout(()=>{Jl.current=0,mn.current=null},2e3),Jl.current>=5&&(A(a=>!a),Jl.current=0,mn.current&&(window.clearTimeout(mn.current),mn.current=null))},[]),ug=()=>{const a=new URL(Aw);new URL(window.location.href).searchParams.forEach((g,S)=>a.searchParams.set(S,g)),a.searchParams.set("from","mobile"),window.location.assign(a.toString())},cg=a=>{var S,w;if(!L)return;const m=L.students.find(C=>String(C.id)===String(a));if(!m)return;const g=((S=m.periodIds)==null?void 0:S[0])||et||((w=L.periods[0])!=null&&w.id?String(L.periods[0].id):"");Is({name:m.fullName,gender:m.gender||"F",periodId:g?String(g):""}),Wc({id:String(a)})},ql=()=>{Wc(null),Is(null)},dg=a=>{if(!L)return;const m=L.students.find(S=>String(S.id)===String(a));!m||!window.confirm(`Delete ${m.fullName}? This removes them from this class list.`)||(Ki.current.add(String(a)),Ve(S=>{if(!S)return S;const w=S.students.filter(P=>String(P.id)!==String(a)),C=S.periods.map(P=>{const I={...P.attendance||{}};Object.keys(I).forEach(ae=>{const D={...I[ae]||{}};delete D[String(a)],Object.keys(D).length===0?delete I[ae]:I[ae]=D});const _={...P.behaviorNotes||{}};Object.keys(_).forEach(ae=>{const D={..._[ae]||{}};delete D[String(a)],Object.keys(D).length===0?delete _[ae]:_[ae]=D});const H={...P.pointsByStudent||{}};delete H[String(a)];const J={...P.attendanceResets||{}};delete J[String(a)];const ee=P.activeGrouping?P.activeGrouping.map(ae=>ae.filter(D=>String(D)!==String(a))):P.activeGrouping;return{...P,attendance:I,behaviorNotes:_,pointsByStudent:H,attendanceResets:J,activeGrouping:ee}});return{...S,students:w,periods:C}}),$e(S=>{const w={...S||{}};return Object.keys(w).forEach(C=>{if(w[C]){const P={...w[C]||{}};delete P[String(a)],w[C]=P}}),w}),te(S=>{const w={...S||{}};return Object.keys(w).forEach(C=>{if(w[C]){const P={...w[C]||{}};delete P[String(a)],w[C]=P}}),w}),je(S=>{const w={...S||{}};return Object.keys(w).forEach(C=>{if(w[C]){const P={...w[C]||{}};delete P[String(a)],w[C]=P}}),w}),Dt(S=>{const w={...S||{}};return Object.keys(w).forEach(C=>{w[C]=(w[C]||[]).filter(P=>String(P.studentId)!==String(a))}),w}),ut(),ht({silent:!0}),Kt(null),$c(null),ql())};f.useEffect(()=>()=>{mn.current&&window.clearTimeout(mn.current)},[]),f.useEffect(()=>{Fs(!Kc||!Gc)},[Kc,Gc]);const id=f.useCallback(()=>{if(typeof window>"u")return!1;try{return window.localStorage.getItem("classseats_debug_drive")==="1"}catch{return!1}},[]),Ws=f.useCallback(a=>{id()&&console.debug(a.startsWith("[Ping]")?a:`[Ping] ${a}`)},[id]);f.useEffect(()=>{Rn.current=!1;const a=qh,m=Zh,g=eg,S=tg,w=()=>{a.current&&(window.clearTimeout(a.current),a.current=null)},C=J=>{if(Rn.current)return;w();const ee=typeof J=="number"?J:g.current;Ws(`[Ping] next ${ee}`),a.current=window.setTimeout(()=>{a.current=null,P()},ee)},P=async()=>{if(Rn.current)return;if(S.current=Date.now(),Ws("[Ping] tick"),typeof document<"u"&&document.visibilityState!=="visible"){C(5e3);return}if(m.current){C(2e3);return}m.current=!0;const J=new AbortController,ee=window.setTimeout(()=>J.abort(),5e3),ae=(()=>{try{return new URL(`/ping.txt?t=${Date.now()}`,window.location.origin).toString()}catch{return`/ping.txt?t=${Date.now()}`}})();let D=!1;try{const W=await fetch(ae,{cache:"no-store",signal:J.signal});D=!!(W!=null&&W.ok),D?(Ms(!0),Vi(!0),Fs(!1),g.current=15e3,Ws("[Ping] ok")):(Ms(!1),Vi(!1),Fs(!0),g.current=Math.min(6e4,g.current*2),Ws(`[Ping] fail status=${W==null?void 0:W.status}`))}catch(W){Ms(!1),Vi(!1),Fs(!0),g.current=Math.min(6e4,g.current*2),Ws(`[Ping] fail ${(W==null?void 0:W.message)||W}`)}finally{window.clearTimeout(ee),m.current=!1,Rn.current||C()}},I=()=>{Rn.current||(Ms(!0),P())},_=()=>{Rn.current||(Ms(!1),Fs(!0),C(2e3))},H=()=>{Rn.current||typeof document<"u"&&document.visibilityState==="visible"&&P()};return P(),window.addEventListener("online",I),window.addEventListener("offline",_),document.addEventListener("visibilitychange",H),()=>{Rn.current=!0,w(),window.removeEventListener("online",I),window.removeEventListener("offline",_),document.removeEventListener("visibilitychange",H)}},[]);const Zl=f.useCallback((a,m)=>{$e(m.periods.reduce((g,S)=>{var C,P;const w=(C=Or.current[String(S.id)])==null?void 0:C[a];return g[S.id]=w?{...w}:(P=S.attendance)!=null&&P[a]?{...S.attendance[a]}:{},g},{})),te(m.periods.reduce((g,S)=>{var C;const w=(C=Mr.current[String(S.id)])==null?void 0:C[a];return g[S.id]=w?{...w}:Oa(S.behaviorNotes,a),g},{}))},[]);f.useEffect(()=>{if(!L)return;const a=Jc.current!==L.periods,m=Xc.current!==Z;!a&&!m||(Jc.current=L.periods,Xc.current=Z,Zl(Z,L))},[Zl,L,Z]),f.useEffect(()=>{const a=O==null?void 0:O.id;if(!a||ed.current===a)return;ed.current=a;const m=La(a);if(!m)return;let g=null;try{const C=window.localStorage.getItem(m);if(!C)return;g=JSON.parse(C)}catch{return}if(!g||typeof g.savedAt!="number")return;if(Date.now()-g.savedAt>Ow){Ln(a);return}Or.current=g.pendingAttendanceByDate||{},Mr.current=g.pendingNotesByDate||{},g.pointsLocal&&je(g.pointsLocal),g.pointsHistoryLocal&&Dt(g.pointsHistoryLocal),g.selectedPeriodId&&Ds(g.selectedPeriodId),g.lastEditAt&&(ur.current=g.lastEditAt);const S=g.selectedDate&&Jh(g.selectedDate)?g.selectedDate:Z;g.selectedDate&&S!==Z&&Us(S),L&&Zl(S,L),(Object.keys(g.pendingAttendanceByDate||{}).length>0||Object.keys(g.pendingNotesByDate||{}).length>0||Object.keys(g.pointsHistoryLocal||{}).length>0)&&(An.current+=1,In(!0),tt(!0))},[O==null?void 0:O.id,Ln,Zl,L,Z]),f.useEffect(()=>{od()},[ze,Q,re,Rt,Ke,od]);const ad=f.useCallback(a=>{const m={};return!a||typeof a!="object"||Object.entries(a).forEach(([g,S])=>{if(!S||typeof S!="object")return;const w={},C=S.note&&typeof S.note=="object"?S.note:S;Object.entries(C).forEach(([P,I])=>{I&&typeof I=="object"&&typeof I.note=="string"&&(w[String(P)]={note:I.note,timestamp:I.timestamp||new Date().toISOString()})}),Object.keys(w).length>0&&(m[g]=w)}),m},[]),zr=a=>e({tone:"success",message:a}),Ge=a=>e({tone:"error",message:a}),$r=a=>e({tone:"info",message:a}),Hs=["unmarked","absent","tardy","left_early","present"],eo=f.useCallback(a=>{if(!a)return!1;const m=a.toLowerCase();return m.includes("401")||m.includes("unauthorized")||m.includes("403")||m.includes("sign in with google drive first")},[]),fg=a=>{switch(a){case"present":return"bg-emerald-50 border-emerald-100";case"absent":return"bg-rose-50 border-rose-100";case"tardy":return"bg-amber-50 border-amber-100";case"left_early":return"bg-blue-50 border-blue-100";default:return"bg-slate-50 border-slate-200"}},ud=a=>{switch(a){case"present":return"Present";case"absent":return"Absent";case"tardy":return"Tardy";case"left_early":return"Left Early";default:return"Unmarked"}},Zi=(a,m)=>Kh(a,m).emoji,pg=()=>`${Date.now()}-${Math.random().toString(36).slice(2)}`,mg=a=>{const m=String(a.getMonth()+1).padStart(2,"0"),g=String(a.getDate()).padStart(2,"0");return`${m}-${g}-${a.getFullYear()}`},ea=a=>`https://docs.google.com/document/d/${a}/edit`,ta=f.useCallback(a=>{if(!a)return;const m=Date.now(),g=Yc.current;if(g&&g.url===a&&m-g.at<600)return;Yc.current={url:a,at:m};try{if(r!=null&&r.openExternal){r.openExternal(a);return}}catch{}window.open(a,"_blank","noopener,noreferrer")||k==null||k("Pop-up blocked  please allow pop-ups to open Google Docs.")},[r]),On=f.useCallback(a=>hw(a),[]),Re=f.useCallback(async(a,m="preflight")=>{if(s)return k(l),null;if(Be)return k("Offline  will sync when back online."),h(!0),tn(`${m}: offline; skipping refresh`),null;try{const g=await Ur(m);if(g)return g}catch(g){console.warn("[Drive] refresh failed",g),tn(`${m}: refresh failed ${(g==null?void 0:g.message)||g}`)}if(!a)return h(!0),k("Reconnect to Google Drive to continue syncing."),tn(`${m}: interactive=false; would trigger OAuth if allowed`),null;tn(`triggerOAuth: reason=${m} hadSession=${!!o} hasRefresh=${!!(o!=null&&o.refreshToken)}`);try{await Bx()}catch(g){Ge((g==null?void 0:g.message)||"Google sign-in was cancelled.")}return null},[l,o,s,Ge,Be,tn,Ur]),to=f.useCallback(async(a,m,g)=>{let S=!1;const w=async()=>{let C=g;if(C||(C=await Re(!0,`${m}-download`)),!C)throw new Error("Reconnect to Google Drive to continue.");try{return{data:await Ra(C.accessToken,a)}}catch(P){const I=(P==null?void 0:P.message)||"";if(!S&&eo(I))return S=!0,nl("[Drive][Mobile] auth error on download, retrying once",{context:m,error:I}),g=null,w();throw P}};return w()},[Re,eo]),cd=f.useCallback(async(a,m,g,S)=>{let w=!1;const C=async()=>{let P=S;if(P||(P=await Re(!0,`${g}-upload`)),!P)throw new Error("Reconnect to Google Drive to continue.");try{return await ev(P.accessToken,a,m)}catch(I){const _=(I==null?void 0:I.message)||"";if(!w&&eo(_))return w=!0,nl("[Drive][Mobile] auth error on upload, retrying once",{context:g,error:_}),S=null,C();throw I}};return C()},[Re,eo]),Br=f.useCallback((a,m)=>{var I;if(!((I=a==null?void 0:a.periodsState)!=null&&I.periods)||!(a!=null&&a.students))return"failed";const g=Xi(a),S=(m==null?void 0:m.id)||jt.current;if(S){const _=xw({incomingUpdatedAt:a.updatedAt,lastAppliedUpdatedAt:rd(S),incomingRevisionId:(m==null?void 0:m.revisionId)||null,lastRevisionId:Ji(S)??null});if(nl("[Sync][Mobile] apply decision",{fileKey:S,decision:_}),_.action==="skip")return m&&(jt.current=m.id,ye(m),mt(m.id,m.revisionId||null)),dr.current=Date.now(),"skipped"}An.current=0,Dn.current=!1,Lr.current=!1,In(!1),tt(!1),pn(null),$s(!1),Ln(),Nt.current&&(window.clearTimeout(Nt.current),Nt.current=null);const w=(a.layouts||[]).reduce((_,H)=>(_[String(H.id)]={id:String(H.id),name:H.name,tables:(H.tables||[]).map(J=>({id:String(J.id),name:J.name||"Table",seatNumbers:Array.isArray(J.seatNumbers)?J.seatNumbers:void 0}))},_),{}),C=a.periodsState.periods.map(_=>({id:String(_.id),name:_.name,layoutId:_.layoutId||null,tableAssignments:_.tableAssignments||{},activeGrouping:_.activeGrouping||[],tableNumbering:_.tableNumbering||void 0,attendance:_.attendance||{},attendanceResets:_.attendanceResets||{},behaviorNotes:ad(_.behaviorNotes),pointsByStudent:_.pointsByStudent||{},pointsEnabled:_.pointsEnabled??!1,startingPoints:_.startingPoints??50,pointsHistory:_.pointsHistory||[]})),P=(a.students||[]).map(_=>{var H;return{id:String(_.id),fullName:_.fullName||_.name||"Student",gender:typeof _.gender=="string"?_.gender:void 0,periodIds:((H=_.periodIds)==null?void 0:H.map(J=>String(J)))||[],profileUpdatedAt:typeof _.profileUpdatedAt=="string"?_.profileUpdatedAt:void 0,quickNote:typeof _.quickNote=="string"?_.quickNote:void 0,quickNoteUpdatedAt:typeof _.quickNoteUpdatedAt=="string"?_.quickNoteUpdatedAt:void 0,photoFileId:typeof _.photoFileId=="string"?_.photoFileId:_.photoFileId==null?null:String(_.photoFileId),photoUpdatedAt:(()=>{if(typeof _.photoUpdatedAt=="number")return _.photoUpdatedAt;if(typeof _.photoUpdatedAt=="string"){const J=Number.parseInt(_.photoUpdatedAt,10);return Number.isFinite(J)?J:null}return null})(),docs:Array.isArray(_.docs)?_.docs.map(J=>({...J,id:String(J.id),driveFileId:String(J.driveFileId)})):[]}});return Ve({periods:C,students:P,layouts:w}),Ds(_=>{var D;const H=_?String(_):null,J=a.periodsState.currentId?String(a.periodsState.currentId):null;return[H,J,((D=C[0])==null?void 0:D.id)||null].filter(Boolean).find(W=>C.some(ce=>String(ce.id)===W))||null}),$e(C.reduce((_,H)=>{var J;return _[H.id]=(J=H.attendance)!=null&&J[Z]?{...H.attendance[Z]}:{},_},{})),te(C.reduce((_,H)=>(_[H.id]=Oa(H.behaviorNotes,Z),_),{})),je(C.reduce((_,H)=>{var ee;const J=H.pointsByStudent?{...H.pointsByStudent}:{};return H.pointsEnabled&&((ee=H.studentsIds)==null||ee.forEach(ae=>{J[ae]===void 0&&(J[ae]=H.startingPoints??50)})),_[H.id]=J,_},{})),Ql.current=g,Bs(a.lastWriter||"unknown"),m?(jt.current=m.id,ye(m),mt(m.id,m.revisionId||null)):mt(jt.current,null),Os(null),qi(_=>_+1),cr(S,a.updatedAt),dr.current=Date.now(),"applied"},[Z,rd,ad,Oa,$e,te,je,Ds,Ve,In,tt,ye,mt,pn,$s,Bs,Os,qi,cr,Ln]),ut=f.useCallback(()=>{An.current+=1,ur.current=Date.now(),In(!0),tt(!0)},[]),na=f.useCallback((a,m,g)=>{Ve(S=>S&&{...S,periods:S.periods.map(w=>{if(String(w.id)!==String(a))return w;const C={...w.attendanceResets||{}},P={...C[String(m)]||{}};return P[g]=Z,C[String(m)]=P,{...w,attendanceResets:C}})}),ut()},[ut,Z]),ra=f.useCallback((a,m,g)=>{$e(S=>{const w={...S||{}};return w[a]={...w[a]||{}},g==="unmarked"?delete w[a][m]:w[a][m]=g,Fr(String(a),Z,w[a]),w}),ut()},[ut,Z,Fr]);f.useCallback((a,m)=>{var C;const g=((C=ze[a])==null?void 0:C[m])||"unmarked",S=Hs.indexOf(g),w=Hs[(S+1)%Hs.length];ra(a,m,w)},[ze,ra,Hs]);const no=f.useCallback((a,m)=>{$e(g=>{const S={...g||{}};return S[a]={...S[a]||{}},m.forEach(w=>{S[a][w]||(S[a][w]="present")}),Fr(String(a),Z,S[a]),S}),ut()},[ut,Z,Fr]),hg=f.useCallback((a,m,g,S)=>{if(g===0||m.length===0)return;const w=(S==null?void 0:S.trim())||"Bulk points update",C=L==null?void 0:L.periods.find(I=>I.id===a),P=(C==null?void 0:C.startingPoints)??50;je(I=>{const _={...I||{}};return _[a]={..._[a]||{}},m.forEach(H=>{const J=_[a][H]??P;_[a][H]=Math.max(0,J+g)}),_}),Dt(I=>{const _={...I||{}},H=_[a]?[..._[a]]:[];return m.forEach(J=>H.push({studentId:J,delta:g,reason:w,date:Z})),_[a]=H,_}),ut()},[L==null?void 0:L.periods,Z,ut]),dd=f.useCallback(a=>{$e(m=>{const g={...m||{}};return g[a]={},Fr(String(a),Z,g[a]),g}),$r("Reset attendance to unmarked for this date."),ut()},[$r,ut,Z,Fr]),gg=f.useCallback(()=>{if(!Pn)return;const{periodId:a,studentId:m}=Pn,{note:g,delta:S,reason:w}=Wt,C=at;if(C.pointsEnabled&&S!==0&&!w.trim()){Ge("Please provide a reason when changing points.");return}te(P=>{const I={...P||{}};return I[a]={...I[a]||{}},g.trim()?I[a][m]=g.trim():delete I[a][m],sd(String(a),Z,I[a]),I}),C.pointsEnabled&&S!==0&&(je(P=>{const I={...P||{}};I[a]={...I[a]||{}};const _=I[a][m]??C.startingPoints??0,H=Math.max(0,_+S);return I[a][m]=H,I}),Dt(P=>{const I={...P||{}},_=I[a]?[...I[a]]:[];return _.push({studentId:m,delta:S,reason:w||"Behavior note",date:Z}),I[a]=_,I})),ut(),or(null),dn({note:"",delta:0,reason:""})},[Pn,Wt,at,ut,Z,sd,te,je,Ge]),fd=f.useCallback((a,m,g)=>{var I,_;const S=((I=Q[a])==null?void 0:I[m])||"",w=L==null?void 0:L.periods.find(H=>H.id===a),C=(w==null?void 0:w.startingPoints)??50,P=((_=re[a])==null?void 0:_[m])??C;dn({note:S,delta:0,reason:""}),$i({pointsEnabled:!!(w!=null&&w.pointsEnabled),startingPoints:C,currentPoints:P,predictedPoints:P}),or({periodId:a,studentId:m,studentName:g})},[Q,re,L]),yg=f.useCallback((a,m,g)=>{fd(a,m,g)},[fd]);f.useEffect(()=>{if(s){k(l);return}let a=!0;return(async()=>{await ig();const g=await Wx().catch(()=>null);if(!g||!a)return;const S=await ms(g),w=S||g;if(tn(`startup refresh result: ok=${!!S} expiresAt=${S==null?void 0:S.expiresAt}`),!!a&&(u(w),!Qc.current)){Qc.current=!0;try{const C=localStorage.getItem(Co);if(!C){Yl.current=!0;return}const P=JSON.parse(C);if(P!=null&&P.id&&(P!=null&&P.name)){Yi.current=!0;const I={id:P.id,name:P.name,modifiedTime:P.modifiedTime,size:P.size,revisionId:P.revisionId};qe(I),k(`Restoring ${I.name}`);const _=await Ra(g.accessToken,I.id),H=typeof _=="string"?JSON.parse(_):_,J=On(H);if(!J)throw new Error("Drive file could not be parsed.");const ee=Br(J,I);ee==="applied"?(ye(I),k(`Loaded ${I.name} from Drive.`),Os(new Date().toISOString())):ee==="skipped"&&(ye(I),k("Drive file is older than current data  keeping existing state."))}Yl.current=!0}catch(C){console.error("[Drive] Restore failed",C),k("Google sign-in failed. Please try again."),Yi.current=!1,Yl.current=!0}}})(),()=>{a=!1}},[]),f.useEffect(()=>{s||o&&(T||L||O!=null&&O.id||Yl.current&&(Yi.current||G(!0)))},[O,o,s,L,T]),f.useEffect(()=>{const a=window.setInterval(async()=>{if(!o)return;const m=await Ur("timer");m&&u(m)},3e5);return()=>window.clearInterval(a)},[o,Ur]),f.useEffect(()=>{const a=async()=>{if(!o)return;const m=await Ur("visibility");m&&u(m)};return document.addEventListener("visibilitychange",a),()=>document.removeEventListener("visibilitychange",a)},[o,Ur]),f.useEffect(()=>{if(x){const a=window.setTimeout(()=>{N(!1),j("Still loading Drive files. Try Sign in with Google then tap Refresh Cloud Files.")},12e3);return Bt(a),()=>window.clearTimeout(a)}he&&(window.clearTimeout(he),Bt(null)),Nt.current&&(window.clearTimeout(Nt.current),Nt.current=null)},[x,he]);const xg=f.useCallback(()=>{Hx(),u(null),d([]),qe(null),ye(null),k(null),$r("Signed out of Google Drive."),xi("drive-disconnect")},[$r,xi]),vg=f.useCallback(async()=>{var a;!O||!((a=window.desktopBridge)!=null&&a.uploadDriveFile)||confirm(`Delete ${O.name} from Drive? This cannot be undone.`)&&(await window.desktopBridge.uploadDriveFile({fileId:O.id,content:JSON.stringify({deleted:!0,message:"File deleted by user."})}),Ve(null),$e({}),te({}),je({}),Dt({}),Ln(),ye(null),Ds(null),k("Deleted active file from Drive."))},[O,Ln]);f.useCallback(async()=>{},[Br,On,ye,mt]);const wg=f.useCallback(async(a=!0,m=!1)=>{if(!(x&&!m)){N(!0),j(null);try{const g=await Re(a,"refreshFiles");if(!g){j("Sign in with Google to view cloud files.");return}const S=await $f(g.accessToken);d(S),k(null)}catch(g){const S=(g==null?void 0:g.message)||"Unable to load Drive files.";j(S),Ge(S)}finally{N(!1)}}},[Re,Ge,x]);f.useCallback(async()=>{zc(!0),Wi(null);try{const a=await Re(!0,"importList");if(!a){Wi("Sign in first to import.");return}const m=await tv(a.accessToken);Xh(m)}catch(a){const m=(a==null?void 0:a.message)||"Unable to list Drive files.";Wi(m),Ge(m)}finally{zc(!1)}},[Re,Ge]);const Sg=f.useCallback(async()=>{if(!oe){j("Select a cloud file first.");return}if(Dn.current){j("Sync in progress. Please wait.");return}if(Ke||fn)if(window.confirm("You have unsynced changes. Sync them to Drive before switching files? Click OK to sync, Cancel to discard changes.")){if(await ht({silent:!0}),Ke||fn){j("Sync did not complete. Try again before switching files.");return}}else{if(!window.confirm("Discard unsynced changes and load the selected file?"))return;An.current=0,In(!1),tt(!1),pn(null)}if(await Re(!0,"loadSelected")){it(!0);try{const m=await to(oe.id,"loadSelected"),g=typeof m.data=="string"?JSON.parse(m.data):m.data,S=On(g);if(!S)throw new Error("File could not be parsed.");const w=Br(S,oe);if(w==="applied")k(`Loaded ${oe.name}. Data available locally.`);else if(w==="skipped")k("Drive file is older than current data. Keeping existing data.");else throw new Error("File could not be parsed.");localStorage.setItem(Co,JSON.stringify({id:oe.id,name:oe.name,modifiedTime:oe.modifiedTime,size:oe.size,revisionId:oe.revisionId})),zr(`Loaded ${oe.name} from Drive.`)}catch(m){const g=(m==null?void 0:m.message)||"Unable to load Drive file.";j(g),Ge(g)}finally{it(!1)}}},[Re,oe,Ge,zr,Br,On,Ke,fn,to]),Ng=f.useCallback(async()=>{const a=$.trim();if(!a){j("Enter a file name first.");return}const m=await Re(!0,"createFile");if(m){ve(!0),j(null);try{const S={...fw(void 0,void 0,L==null?void 0:L.students),lastWriter:"mobile",updatedAt:new Date().toISOString()},w=await Zx(m.accessToken,a,JSON.stringify(S,null,2));d(C=>[w,...C]),ye(w),jt.current=w.id,mt(w.id,w.revisionId||null),cr(w.id,S.updatedAt),qe(w),de(""),localStorage.setItem(Co,JSON.stringify({id:w.id,name:w.name,modifiedTime:w.modifiedTime,size:w.size,revisionId:w.revisionId})),zr(`Created ${w.name} in Drive.`)}catch(g){const S=(g==null?void 0:g.message)||"Unable to create Drive file.";j(S),Ge(S)}finally{ve(!1)}}},[$,Re,L,cr,Ge,zr]),pd=f.useCallback((a,m)=>{const g={...a||{}};return Object.entries(m||{}).forEach(([S,w])=>{if(!w||typeof w!="object")return;const C=g[S]||{},P={...C};["absent","tardy","leftEarly"].forEach(I=>{const _=w[I],H=C[I];_&&(!H||_>H)?P[I]=_:H&&(P[I]=H)}),g[S]=P}),g},[]),ht=f.useCallback(async a=>{var g,S,w;if(s){k(l);return}if(Dn.current||a!=null&&a.silent&&!Ke)return;if(!((g=L==null?void 0:L.periods)!=null&&g.length)||!((S=L==null?void 0:L.students)!=null&&S.length)){k("Cannot sync until data is loaded. Open a file first.");return}if(Be){tt(!0),pn("Offline - changes will sync when back online."),$s(!0);return}if(Lr.current){k("Sync already running.");return}const m=An.current;try{const C=await Re(!(a!=null&&a.silent),"syncUpload");if(!C){pn("Reconnect to Google Drive to continue syncing."),tt(!0);return}if(!O){k("Select a cloud file before syncing."),pn("Select a cloud file before syncing."),tt(!0);return}const P=gw({isOffline:Be,isLocked:Lr.current,inFlight:Dn.current,hasSession:!0,hasFile:!!O,dirty:Ke,now:Date.now(),lastLocalEditAt:ur.current,graceMs:nd});if(nl("[Sync][Mobile] upload decision",P),P.action==="skip"&&!(P.reason==="clean"&&!(a!=null&&a.silent))){P.reason==="no-file"&&(k("Select a cloud file before syncing."),pn("Select a cloud file before syncing."),tt(!0));return}Lr.current=!0,Dn.current=!0,Vc(!0);const I=Eo(Or.current),_=Eo(Mr.current),H=await to(O.id,"syncUpload",C),J=typeof H.data=="string"?JSON.parse(H.data):H.data,ee=On(J);if(!((w=ee==null?void 0:ee.periodsState)!=null&&w.periods))throw new Error("Drive file missing periods.");const ae=Ki.current,D=new Date().toISOString(),W=(ee.periodsState.periods||[]).map(ie=>{const Pe=String(ie.id),Gt=re[Pe]||{},nn=Array.isArray(ie.pointsHistory)?[...ie.pointsHistory]:[],gn=Rt[Pe]||[],rn=L==null?void 0:L.periods.find(yn=>String(yn.id)===Pe),pr=pd(ie.attendanceResets||{},(rn==null?void 0:rn.attendanceResets)||{}),Ks=Nw(ie.attendance,I[Pe],ae),lo=kw(ie.behaviorNotes,_[Pe],ae,D),kg=[...nn,...gn].filter(yn=>!ae.has(String(yn.studentId))),Nd={...Gt};ae.forEach(yn=>{delete Nd[yn]});const kd={...pr||{}};ae.forEach(yn=>{delete kd[yn]});const jg=ie.activeGrouping?ie.activeGrouping.map(yn=>yn.filter(bg=>!ae.has(String(bg)))):ie.activeGrouping;return{...ie,attendance:Ks,attendanceResets:kd,behaviorNotes:lo,pointsByStudent:Nd,pointsHistory:kg,activeGrouping:jg}}),ce=ee.students||[],le=(L==null?void 0:L.students)||[],Oe=new Map(le.map(ie=>[String(ie.id),ie])),nt=ce.filter(ie=>!ae.has(String(ie.id))).map(ie=>{const Pe=Oe.get(String(ie.id));if(!Pe)return ie;let Gt={...ie};const nn=Pe.profileUpdatedAt||"",gn=ie.profileUpdatedAt||"";nn&&(!gn||nn>gn)&&(Gt={...Gt,fullName:Pe.fullName,gender:Pe.gender,periodIds:Pe.periodIds,profileUpdatedAt:nn});const rn=Pe.quickNoteUpdatedAt||"",pr=ie.quickNoteUpdatedAt||"";rn&&(!pr||rn>pr)&&(Gt={...Gt,quickNote:Pe.quickNote,quickNoteUpdatedAt:Pe.quickNoteUpdatedAt});const Ks=typeof Pe.photoUpdatedAt=="number"?Pe.photoUpdatedAt:0,lo=typeof ie.photoUpdatedAt=="number"?ie.photoUpdatedAt:0;return Ks&&(!lo||Ks>lo)&&(Gt={...Gt,photoFileId:Pe.photoFileId??null,photoUpdatedAt:Ks}),Gt}),fr=new Set(ce.map(ie=>String(ie.id)));le.forEach(ie=>{ae.has(String(ie.id))||fr.has(String(ie.id))||nt.push(ie)});const hn={...ee,schemaVersion:1,version:1,lastWriter:"mobile",lastEditedPeriodId:et?String(et):null,lastEditedDate:Z,updatedAt:D,students:nt,periodsState:{...ee.periodsState,periods:W}},Vs=JSON.stringify(hn,null,2),ge=await cd(O.id,Vs,"syncUpload",C);Dt(ie=>{const Pe={...ie||{}};return delete Pe[et||""],Pe}),ge?(Ql.current=Xi(hn),mt(ge.id,ge.revisionId||null),jt.current=ge.id,ye(ge),cr(ge.id,hn.updatedAt),dr.current=Date.now()):cr(O.id,hn.updatedAt),Ki.current.clear(),Bs("mobile"),a!=null&&a.silent||(k("Synced with Google Drive."),zr("Synced with Google Drive.")),Os(new Date().toISOString()),tt(!1),localStorage.setItem(Co,JSON.stringify({id:(ge==null?void 0:ge.id)||O.id,name:(ge==null?void 0:ge.name)||O.name,modifiedTime:(ge==null?void 0:ge.modifiedTime)||O.modifiedTime,size:(ge==null?void 0:ge.size)||O.size,revisionId:(ge==null?void 0:ge.revisionId)||O.revisionId})),An.current===m&&(In(!1),tt(!1),Ln())}catch(C){const P=(C==null?void 0:C.message)||"Failed to sync with Drive.";k(P),Ge(P),tt(!0)}finally{Vc(!1),Dn.current=!1,Lr.current=!1}},[O,Re,Ge,zr,re,Rt,L,Z,et,Ke,l,s,Be,On,Ln,cr,mt,to,cd,pd]),ro=f.useCallback(()=>{s||Be||Ke&&O&&o&&(tt(!0),ht({silent:!0}))},[Ke,O,o,s,ht,Be]);f.useEffect(()=>{const a=()=>{document.visibilityState==="visible"&&ro()};return window.addEventListener("online",ro),document.addEventListener("visibilitychange",a),()=>{window.removeEventListener("online",ro),document.removeEventListener("visibilitychange",a)}},[ro]),f.useEffect(()=>{if(Be){$s(!0);return}if(!td||!O||!o)return;(async()=>{tt(!0),pn("Reconnected  refreshing data"),await ht({silent:!0}),$s(!1),pn(null)})()},[Be,td,O,o,ht]),f.useEffect(()=>{if(!O||!Ke||Dn.current)return;const a=window.setTimeout(()=>{ht({silent:!0})},1500);return()=>window.clearTimeout(a)},[Ke,O,ht]),f.useEffect(()=>{O&&mt(O.id,O.revisionId||null)},[O,mt]),f.useEffect(()=>{jt.current=(O==null?void 0:O.id)||null},[O]);const so=f.useCallback(async()=>{if(s)return;const a=jt.current;if(!a)return;const m=yw({isOffline:Be,isLocked:Lr.current||fn||Ls,inFlight:Dn.current,dirty:Ke,now:Date.now(),lastLocalEditAt:ur.current,lastPullAt:dr.current,graceMs:nd});if(nl("[Sync][Mobile] pull decision",m),m.action==="skip")return;const g=await Re(!1,"pull");if(g&&jt.current===a)try{const S=await $f(g.accessToken);if(jt.current!==a)return;const w=S.find(C=>C.id===a);if(w!=null&&w.revisionId&&w.revisionId!==Ji(a)){const C=await Ra(g.accessToken,a);if(jt.current!==a)return;const P=typeof C=="string"?JSON.parse(C):C,I=On(P);if(!I)return;const _=Xi(I);if(Ql.current&&_===Ql.current){mt(a,w.revisionId||null),dr.current=Date.now(),Bs(I.lastWriter||"unknown");return}const H=Br(I,w);H==="applied"&&jt.current===a?(Os(new Date().toISOString()),mt(a,w.revisionId||null),dr.current=Date.now(),Bs(I.lastWriter||"unknown"),qi(J=>J+1),$r("Updated from Drive.")):H==="skipped"&&(mt(a,w.revisionId||null),dr.current=Date.now())}}catch{}},[Br,Re,On,$r,Ke,Ls,fn,Be,s,Ji,mt]);f.useEffect(()=>{if(s)return;let a=null;const m=async()=>{await so(),a=window.setTimeout(m,15e3)};return a=window.setTimeout(m,15e3),()=>{a&&window.clearTimeout(a)}},[s,so]),f.useEffect(()=>{if(Nt.current&&(window.clearTimeout(Nt.current),Nt.current=null),!s&&!(Ke||fn||Ls||Be||!O))return Nt.current=window.setTimeout(()=>{so()},5e3),()=>{Nt.current&&(window.clearTimeout(Nt.current),Nt.current=null)}},[Ke,fn,Ls,Be,O,s,so]);const md=(p==null?void 0:p.state)??"unknown";let hd=md==="ok"&&o?"Connected to Google Drive":"Google Drive Sync",Wr="Link Google Drive to save and sync. Files stay in your Drive.",Hr=o?"Manage Files":"Connect to Drive";switch(md){case"no-session-yet":Hr=o?"Manage Files":"Connect to Google Drive",Wr="Store your seating data in a private folder in your Google Drive.";break;case"device-storage-wipe":Hr=o?"Manage Files":"Reconnect Google Drive",Wr="Your device cleared your Google connection. Tap below to reconnect; your files are still in your Drive.";break;case"oauth-failure":Hr=o?"Manage Files":"Reconnect Google Drive",Wr="There was a Google sign-in problem. Reconnect to continue syncing.";break;case"user-logged-out":Hr=o?"Manage Files":"Connect to Google Drive",Wr="You disconnected from Google Drive.";break}s&&(hd="Drive sync disabled",Wr=l,Hr="Drive disabled");const Vr=Le&&At&&(L!=null&&L.periods)&&L.periods.find(a=>String(a.id)===String(At))||null,Kr=Vr?{...Vr.attendance||{},[Z]:ze[Vr.id]||{}}:null,sa=(Vr==null?void 0:Vr.attendanceResets)||{},gd=Kr&&Le?jo({attendance:Kr,studentId:Le.id,date:Z,status:"absent",resets:sa}):null,yd=Kr&&Le?jo({attendance:Kr,studentId:Le.id,date:Z,status:"tardy",resets:sa}):null,xd=Kr&&Le?jo({attendance:Kr,studentId:Le.id,date:Z,status:"left_early",resets:sa}):null;return i.jsx(jw,{children:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-violet-900 to-indigo-800 text-white flex flex-col relative",children:[i.jsxs("div",{className:"bg-emerald-50 text-emerald-900 text-xs px-4 py-1 text-center",children:[i.jsx("span",{role:"img","aria-label":"lock",className:"mr-1",children:""}),"Privacy: Data stays on this device and in your Google Drive. Use your school Google account. No data is sent to our servers."]}),Be&&i.jsx("div",{className:"bg-slate-900 text-white text-xs px-4 py-1 text-center",children:"Offline  edits are saved locally and will sync when youre back online."}),i.jsxs("div",{className:"px-4 pt-2 flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{className:"text-[11px] px-2 py-1 rounded bg-white/80 text-slate-800 shadow",onClick:ag,title:"Version",type:"button",children:["Rev ",Zf]}),i.jsx("button",{className:"text-[11px] px-2 py-1 rounded border border-white/60 bg-white/20 text-white shadow hover:bg-white/30",onClick:()=>me(!0),type:"button",children:"About"})]}),!t&&i.jsx(cw,{current:"mobile",onGoDesktop:ug,onGoMobile:()=>{}})]}),i.jsx("header",{className:"px-6 pt-10 pb-4 text-center",children:i.jsx("h1",{className:"text-3xl font-black tracking-wide drop-shadow",children:"ClassSeats Mobile"})}),qf,kt==="attendance"&&L&&et&&(()=>{const a=L.periods.find(ee=>ee.id===et);if(!a)return null;const m=L.students.filter(ee=>{var ae;return(ae=ee.periodIds)==null?void 0:ae.includes(String(a.id))}),g=ze[a.id]||{},S=m.length||1,w=m.filter(ee=>g[ee.id]==="present").length,C=m.filter(ee=>g[ee.id]==="absent").length,P=m.filter(ee=>g[ee.id]==="tardy").length,I=m.filter(ee=>g[ee.id]==="left_early").length,_=w+C+P+I,H=Math.round(_/S*100),J=Math.round(w/S*100);return i.jsx("div",{className:"fixed left-0 right-0 z-40 px-4 pt-2",style:{top:"64px"},children:i.jsxs("div",{className:"bg-white/95 border border-slate-200 rounded-2xl shadow px-3 py-2 flex flex-wrap items-center gap-2 text-xs text-slate-800",children:[i.jsxs("span",{className:"font-semibold",children:["Progress: ",H,"%  Present: ",J,"%"]}),i.jsxs("span",{className:"px-2 py-1 rounded-full bg-emerald-100 text-emerald-800 font-semibold",children:[" Present: ",w]}),i.jsxs("span",{className:"px-2 py-1 rounded-full bg-rose-100 text-rose-800 font-semibold",children:[" Absent: ",C]}),i.jsxs("span",{className:"px-2 py-1 rounded-full bg-amber-100 text-amber-800 font-semibold",children:[" Tardy: ",P]}),i.jsxs("span",{className:"px-2 py-1 rounded-full bg-blue-100 text-blue-800 font-semibold",children:[" Left Early: ",I]})]})})})(),i.jsxs("main",{className:"flex-1 overflow-y-auto px-4 pb-28 pt-20 space-y-6 relative",children:[i.jsx(ow,{variant:"inline"}),i.jsx("section",{className:"max-w-2xl mx-auto bg-white/95 text-slate-900 rounded-3xl shadow-xl p-5",children:i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-base font-semibold text-slate-900",children:hd}),i.jsx("p",{className:"text-xs text-slate-600",children:Wr}),i.jsxs("p",{className:"text-[11px] text-slate-500",children:[o?((vd=o.profile)==null?void 0:vd.email)||"Signed in":"Not signed in"," "," ",(O==null?void 0:O.name)||(oe==null?void 0:oe.name)||"No file selected",Be&&"  Offline"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[fn&&i.jsx("span",{className:"text-[11px] px-2 py-1 rounded-full bg-amber-100 text-amber-800",children:"Pending sync"}),Be&&i.jsx("span",{className:"text-[11px] px-2 py-1 rounded-full bg-slate-200 text-slate-700",children:"Offline"}),i.jsx("button",{className:"rounded-full bg-slate-900 text-white font-semibold px-4 py-2 text-sm disabled:opacity-50",disabled:s||!o||!O,onClick:()=>{if(s){k(l);return}ht()},title:s?l:void 0,children:"Sync Now"}),i.jsx("button",{className:"rounded-full bg-emerald-600 text-white font-semibold px-4 py-2 text-sm",onClick:()=>{if(s){k(l);return}return o?G(!0):void Re(!0,"cta")},disabled:s,title:s?l:void 0,children:Hr})]})]})}),s&&i.jsx("p",{className:"max-w-2xl mx-auto text-sm text-rose-100 text-left",children:"Drive sync is disabled."}),E&&i.jsxs("section",{className:"max-w-2xl mx-auto bg-slate-900 text-slate-100 rounded-2xl shadow-inner p-3 space-y-2 text-xs",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"font-semibold",children:"Drive Debug"}),i.jsx("button",{className:"text-slate-200 underline",onClick:()=>A(!1),children:"Close"})]}),i.jsx("button",{className:"text-slate-200 underline",onClick:()=>F([]),children:"Clear"})]}),i.jsxs("div",{className:"border border-slate-700 rounded p-2 h-48 overflow-y-auto space-y-1 bg-slate-800/70",children:[M.length===0&&i.jsx("div",{className:"text-slate-400",children:"No debug entries yet."}),M.map((a,m)=>i.jsx("div",{className:"font-mono text-[11px] whitespace-pre-wrap break-all",children:a},m))]})]}),i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsx("div",{className:"mt-3",children:i.jsx("div",{className:"inline-flex w-full rounded-xl border border-slate-200 bg-slate-50 p-1",children:i.jsxs("div",{className:"grid w-full grid-cols-3 gap-1",children:[i.jsx("button",{className:`rounded-lg px-2 py-2 text-sm font-semibold transition ${kt==="attendance"?"bg-violet-100 text-violet-900 shadow-sm ring-1 ring-violet-200":"text-slate-600"}`,onClick:()=>Qi("attendance"),children:"Attendance"}),i.jsx("button",{className:`rounded-lg px-2 py-2 text-sm font-semibold transition ${kt==="notes"?"bg-violet-100 text-violet-900 shadow-sm ring-1 ring-violet-200":"text-slate-600"}`,onClick:()=>Qi("notes"),children:"Notes"}),i.jsx("button",{className:`rounded-lg px-2 py-2 text-sm font-semibold transition ${kt==="flashcards"?"bg-violet-100 text-violet-900 shadow-sm ring-1 ring-violet-200":"text-slate-600"}`,onClick:()=>Qi("flashcards"),children:"Flashcards"})]})})})}),i.jsxs("section",{className:"max-w-2xl mx-auto bg-white/95 text-slate-900 rounded-3xl shadow-xl p-6 space-y-6",children:[L&&i.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 space-y-3 text-left",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsx("div",{children:i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:kt==="attendance"?"Attendance & Behavior":kt==="notes"?"Student Notes":"Flashcards"})}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[kt==="attendance"&&i.jsxs(i.Fragment,{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Date:"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{className:"px-2 py-1 rounded border border-slate-300 bg-white text-slate-700 text-sm",onClick:()=>{const a=new Date(Z);a.setDate(a.getDate()-1),Us(a.toISOString().slice(0,10))},children:""}),i.jsx("input",{type:"date",className:"rounded border border-slate-300 px-2 py-1 text-sm",value:Z,onChange:a=>Us(a.target.value||Gi())}),i.jsx("button",{className:"px-2 py-1 rounded border border-slate-300 bg-white text-slate-700 text-sm",onClick:()=>{const a=new Date(Z);a.setDate(a.getDate()+1),Us(a.toISOString().slice(0,10))},children:""}),i.jsx("button",{className:"px-2 py-1 rounded border border-emerald-200 bg-emerald-50 text-emerald-700 text-sm font-semibold",onClick:()=>Us(Gi()),children:"Today"})]})]}),kt==="notes"&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Sort:"}),i.jsxs("select",{className:"rounded border border-slate-300 bg-white text-slate-900 px-3 py-2 text-sm shadow-sm",value:Kl,onChange:a=>rg(a.target.value),children:[i.jsx("option",{value:"first-last",children:"First Last"}),i.jsx("option",{value:"last-first",children:"Last, First"})]})]}),kt==="attendance"&&i.jsxs(i.Fragment,{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"View:"}),i.jsxs("select",{className:"rounded border border-slate-300 px-2 py-1 text-sm",value:ir,onChange:a=>ng(a.target.value),children:[i.jsx("option",{value:"table",children:"Table View"}),i.jsx("option",{value:"list-last-first",children:"List (Last, First)"}),i.jsx("option",{value:"list-first-last",children:"List (First Last)"}),i.jsx("option",{value:"list-seat-number",children:"List (Seat Number)"})]}),ir==="table"&&i.jsxs(i.Fragment,{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Table Order:"}),i.jsxs("select",{className:"rounded border border-slate-300 px-2 py-1 text-sm",value:zs,onChange:a=>sg(a.target.value),children:[i.jsx("option",{value:"asc",children:"Ascending (1, 2, 3 / A, B, C)"}),i.jsx("option",{value:"desc",children:"Descending (3, 2, 1 / C, B, A)"})]})]}),ir==="list-seat-number"&&i.jsxs(i.Fragment,{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Seat Order:"}),i.jsxs("select",{className:"rounded border border-slate-300 px-2 py-1 text-sm",value:Gl,onChange:a=>lg(a.target.value),children:[i.jsx("option",{value:"asc",children:"Ascending (1, 2, 3)"}),i.jsx("option",{value:"desc",children:"Descending (3, 2, 1)"})]})]})]}),L.periods.length>0&&i.jsx("select",{className:"rounded border border-slate-300 px-2 py-1 text-sm",value:et||"",onChange:a=>Ds(a.target.value||null),children:L.periods.map(a=>i.jsx("option",{value:a.id,children:a.name},a.id))})]})]}),et?(()=>{const a=L.periods.find(D=>D.id===et);if(!a)return i.jsx("p",{className:"text-sm text-slate-500",children:"Period not found."});if(kt==="notes"){const D=L.students.filter(W=>{var ce;return(ce=W.periodIds)==null?void 0:ce.includes(String(et))}).slice().sort((W,ce)=>{const[le,...Oe]=W.fullName.split(" "),[nt,...fr]=ce.fullName.split(" ");return Kl==="last-first"?Oe.join(" ").localeCompare(fr.join(" ")):le.localeCompare(nt)});return i.jsx("div",{className:"space-y-3",children:D.length===0?i.jsx("p",{className:"text-sm text-slate-500",children:"No students found."}):D.map(W=>{var le;const ce=(le=W.docs)==null?void 0:le.find(Oe=>Oe.pinned);return i.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 shadow-sm",children:i.jsx("div",{className:"flex flex-col gap-3",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsxs("p",{className:"text-sm font-semibold text-slate-800 truncate",children:[W.fullName,"  QuickNote"]}),W.quickNote&&i.jsxs("div",{className:"relative mt-1",children:[i.jsx("div",{className:"text-xs text-slate-600 whitespace-pre-wrap break-words max-h-28 overflow-hidden pr-2",children:W.quickNote}),W.quickNote.length>180&&i.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-10 bg-gradient-to-t from-white to-transparent"}),i.jsx("div",{className:"mt-1 text-[11px] text-slate-400",children:"Open Quick Note to view/edit more."})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{className:"rounded-lg border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:()=>{z(W.quickNote||""),Ht({studentId:W.id,studentName:W.fullName})},children:"Quick Note"}),i.jsx("button",{className:"rounded-lg border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50",disabled:!ce,onClick:Oe=>{Oe.preventDefault(),Oe.stopPropagation(),ce&&ta(ea(ce.driveFileId))},children:"Pinned Note"}),i.jsx("button",{className:"rounded-lg border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-50",onClick:()=>K({studentId:W.id,studentName:W.fullName}),children:"Docs"})]})]})})},W.id)})})}if(kt==="flashcards"){const D=L.students.filter(W=>{var ce;return(ce=W.periodIds)==null?void 0:ce.includes(String(et))});return i.jsx(Cw,{students:D,periodId:String(et),driveFileId:jt.current,driveClient:r,driveSession:o})}const m=a.layoutId?L.layouts[a.layoutId]:null,g=L.students.filter(D=>{var W;return(W=D.periodIds)==null?void 0:W.includes(String(a.id))}),S=g.reduce((D,W)=>(D[String(W.id)]=W,D),{}),w={};m==null||m.tables.forEach(D=>w[D.id]={id:D.id,name:D.name,students:[]});const C=[],P=a.tableAssignments||{};Array.isArray(a.activeGrouping)&&Object.keys(P||{}).length>0?(a.activeGrouping.forEach((D,W)=>{const ce=P[String(W)]||P[W],le=ce?w[ce]:null;D==null||D.forEach(Oe=>{const nt=S[String(Oe)];nt&&(le?le.students.push(nt):C.push(nt))})}),g.forEach(D=>{(a.activeGrouping||[]).some(ce=>ce==null?void 0:ce.some(le=>String(le)===String(D.id)))||C.push(D)})):g.forEach(D=>{const W=P[String(D.id)]||P[D.id];W&&w[W]?w[W].students.push(D):C.push(D)});const I=Object.values(w).sort((D,W)=>{const ce=D.name||"",le=W.name||"",Oe=og.compare(ce,le);if(Oe!==0)return zs==="asc"?Oe:-Oe;const nt=String(D.id).localeCompare(String(W.id));return zs==="asc"?nt:-nt}),_=ze[a.id]||{},H={...a.attendance||{},[Z]:_},J=a.attendanceResets||{};Q[a.id];const ee=re[a.id]||{};Ze[a.id];const ae=(D,W,ce)=>{var ge;const le=_[D.id],Oe=rw({attendance:H,studentId:D.id,date:Z,resets:J}),nt=jo({attendance:H,studentId:D.id,date:Z,status:"tardy",resets:J}),fr=typeof ee[D.id]=="number"?ee[D.id]:a.startingPoints??50,hn=!!((ge=Q[a.id])!=null&&ge[D.id]),Vs=Ne[String(D.id)]||null;return i.jsx(Mw,{student:D,attendance:le,points:fr,pointsEnabled:!!a.pointsEnabled,maxPoints:a.startingPoints??50,hasNote:hn,absenceStreak:Oe,tardyCount:nt,onShowAbsenceHelp:()=>As("absent"),onShowTardyHelp:()=>As("tardy"),seatNumber:W,showSeatNumber:ce,statusBg:fg,statusLabel:ud,tempPhotoUrl:Vs,onOpenPhoto:()=>{fe({id:String(D.id),fullName:D.fullName,photoFileId:D.photoFileId??null})},onOpenMenu:()=>{Kt({id:D.id,name:D.fullName}),$c(a.id)},driveClient:r,driveSession:o},D.id)};if(ir!=="table"){const D=new Map;g.forEach(le=>{D.set(String(le.id),Fw(a,m,le.id))});const W=ir==="list-seat-number",ce=[...g].sort((le,Oe)=>{const[nt,...fr]=le.fullName.split(" "),[hn,...Vs]=Oe.fullName.split(" "),ge=fr.join(" "),ie=Vs.join(" ");if(ir==="list-seat-number"){const Pe=D.get(String(le.id)),Gt=D.get(String(Oe.id)),nn=parseInt(String(Pe??""),10),gn=parseInt(String(Gt??""),10),rn=Number.isFinite(nn),pr=Number.isFinite(gn);return rn!==pr?rn?-1:1:rn&&pr&&nn!==gn?Gl==="asc"?nn-gn:gn-nn:`${le.fullName||""}`.localeCompare(`${Oe.fullName||""}`)}return ir==="list-last-first"?`${ge} ${nt}`.localeCompare(`${ie} ${hn}`):`${nt} ${ge}`.localeCompare(`${hn} ${ie}`)});return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{className:"rounded bg-emerald-500 text-white text-xs font-semibold px-3 py-2",onClick:()=>no(a.id,g.map(le=>le.id)),children:"Mark Rest Present (All)"}),i.jsx("button",{className:"rounded bg-rose-100 text-rose-800 text-xs font-semibold px-3 py-2 border border-rose-200",onClick:()=>dd(a.id),children:"Reset Today"})]}),i.jsx("div",{className:"space-y-2",children:ce.length===0?i.jsx("p",{className:"text-xs text-slate-500",children:"No students found."}):ce.map(le=>ae(le,W?D.get(String(le.id)):null,W))})]})}return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{className:"rounded bg-emerald-500 text-white text-xs font-semibold px-3 py-2",onClick:()=>no(a.id,g.map(D=>D.id)),children:"Mark Rest Present (All)"}),i.jsx("button",{className:"rounded bg-rose-100 text-rose-800 text-xs font-semibold px-3 py-2 border border-rose-200",onClick:()=>dd(a.id),children:"Reset Today"})]}),I.map(D=>{const W=D.students.filter(le=>_[le.id]!=="absent").map(le=>le.id),ce=D.name.replace("Table","").trim()||D.name;return i.jsxs("div",{className:"rounded-xl border border-slate-200",children:[i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-slate-50 border-b border-slate-200 gap-3",children:[i.jsxs("div",{className:"flex flex-col leading-tight text-center min-w-[54px]",children:[i.jsx("span",{className:"text-sm font-semibold text-slate-800",children:"Table"}),i.jsx("span",{className:"text-sm font-semibold text-slate-900",children:ce})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{className:"text-xs rounded bg-emerald-100 text-emerald-800 px-2 py-1",onClick:()=>no(a.id,D.students.map(le=>le.id)),children:"Mark Rest Present"}),a.pointsEnabled&&i.jsx("button",{className:"text-[11px] rounded bg-amber-600 text-white px-3 py-2 font-semibold",onClick:()=>{Hl(null),It(0),Bi(""),Vt({periodId:a.id,tableName:D.name,studentIds:W})},children:"Table Points"})]})]}),i.jsx("div",{className:"p-3 flex flex-wrap gap-2",children:D.students.length===0?i.jsx("p",{className:"text-xs text-slate-500",children:"No students assigned."}):D.students.map(le=>ae(le))})]},D.id)}),i.jsxs("div",{className:"rounded-xl border border-slate-200",children:[i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-slate-50 border-b border-slate-200",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Unassigned"}),i.jsx("button",{className:"text-xs rounded bg-emerald-100 text-emerald-800 px-2 py-1",onClick:()=>no(a.id,C.map(D=>D.id)),children:"Mark Rest Present"})]}),i.jsx("div",{className:"p-3 flex flex-wrap gap-2",children:C.length===0?i.jsx("p",{className:"text-xs text-slate-500",children:"No unassigned students."}):C.map(D=>ae(D))})]})]})})():i.jsx("p",{className:"text-sm text-slate-500",children:"Load and select a period to begin."})]}),se&&i.jsx(Iw,{open:!0,studentId:se.id,studentFullName:se.fullName,existingPhotoFileId:se.photoFileId,onClose:()=>fe(null),onAccept:a=>{const m=se.id;if(!m)return;const g=URL.createObjectURL(a);_e(S=>{const w=S[m];return w&&URL.revokeObjectURL(w),{...S,[m]:g}})},onUploadComplete:({fileId:a,photoUpdatedAt:m})=>{const g=se.id;Ve(S=>S&&{...S,students:S.students.map(w=>w.id===g?{...w,photoFileId:a,photoUpdatedAt:m}:w)}),ut(),ht({silent:!0})}}),Bc&&Tn&&i.jsx(Lv,{isOpen:!0,onRequestClose:ql,title:"Edit Student",maxWidth:"md",showCloseX:!0,footer:i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{className:"rounded border px-4 py-2 text-sm text-slate-600",onClick:ql,children:"Cancel"}),i.jsx("button",{className:"rounded bg-indigo-600 px-4 py-2 text-sm font-semibold text-white",onClick:()=>{const a=Tn.name.trim();if(!a||!Tn.periodId){alert("Name and period are required.");return}const m=Bc.id;Ve(g=>g&&{...g,students:g.students.map(S=>String(S.id)===String(m)?{...S,fullName:a,gender:Tn.gender,periodIds:[String(Tn.periodId)],profileUpdatedAt:new Date().toISOString()}:S)}),ut(),ht({silent:!0}),ql()},children:"Save"})]}),children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-600",children:"Full Name"}),i.jsx("input",{className:"mt-1 w-full rounded border px-3 py-2",value:Tn.name,onChange:a=>Is(m=>m&&{...m,name:a.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-600",children:"Gender"}),i.jsxs("select",{className:"mt-1 w-full rounded border px-3 py-2",value:Tn.gender,onChange:a=>Is(m=>m&&{...m,gender:a.target.value}),children:[i.jsx("option",{value:"F",children:"Female"}),i.jsx("option",{value:"M",children:"Male"}),i.jsx("option",{value:"O",children:"Other/Prefer not"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-600",children:"Class Period"}),i.jsx("select",{className:"mt-1 w-full rounded border px-3 py-2",value:Tn.periodId,onChange:a=>Is(m=>m&&{...m,periodId:a.target.value}),children:((L==null?void 0:L.periods)||[]).map(a=>i.jsx("option",{value:String(a.id),children:a.name},String(a.id)))})]})]})}),Le&&i.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center px-4",onClick:()=>Kt(null),children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-4 w-full max-w-sm space-y-3",onClick:a=>a.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:Le.name}),i.jsx("p",{className:"text-xs text-slate-500",children:"Actions"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{type:"button",className:"rounded-md p-1 text-slate-600 hover:text-slate-800",onClick:()=>{Kt(null),cg(Le.id)},"aria-label":"Edit student",children:""}),i.jsx("button",{type:"button",className:"rounded-md p-1 text-rose-600 hover:text-rose-700",onClick:()=>dg(Le.id),"aria-label":"Delete student",children:""}),i.jsx("button",{className:"rounded-md p-1 text-slate-500 hover:text-slate-700",onClick:()=>Kt(null),children:""})]})]}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:Hs.map(a=>i.jsx("button",{className:"rounded-lg border border-slate-200 px-2 py-2 text-xs text-left hover:bg-slate-50",onClick:()=>{At&&ra(At,Le.id,a),Kt(null)},children:ud(a)},a))}),gd!==null&&yd!==null&&xd!==null&&i.jsxs("div",{className:"rounded-lg border border-slate-200 px-3 py-2 text-xs text-slate-600",children:[i.jsx("div",{className:"font-semibold text-slate-700",children:"Counters (since reset)"}),i.jsxs("div",{children:["Absent ",gd,"  Tardy ",yd,"  Left early ",xd]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("button",{className:"w-full rounded-lg border border-rose-200 px-2 py-2 text-xs text-left hover:bg-rose-50 text-rose-700",onClick:()=>{At&&Le&&na(At,Le.id,"absent"),Kt(null)},children:" Reset absence streak"}),i.jsx("button",{className:"w-full rounded-lg border border-amber-200 px-2 py-2 text-xs text-left hover:bg-amber-50 text-amber-700",onClick:()=>{At&&Le&&na(At,Le.id,"tardy"),Kt(null)},children:" Reset tardy counter"}),i.jsx("button",{className:"w-full rounded-lg border border-orange-200 px-2 py-2 text-xs text-left hover:bg-orange-50 text-orange-700",onClick:()=>{At&&Le&&na(At,Le.id,"leftEarly"),Kt(null)},children:" Reset left early counter"})]}),i.jsx("div",{className:"space-y-2",children:i.jsx("button",{className:"w-full rounded-lg border border-slate-200 px-2 py-2 text-xs text-left hover:bg-slate-50",onClick:()=>{At&&yg(At,Le.id,Le.name),Kt(null)},children:" Notes and Points"})}),i.jsx("button",{className:"w-full rounded-lg bg-slate-900 text-white font-semibold py-2 text-sm",onClick:()=>Kt(null),children:"Close"})]})}),Hc&&i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>As(null)}),i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-sm p-5 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"About this badge"}),i.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>As(null),children:""})]}),Hc==="absent"?i.jsx("p",{className:"text-sm text-slate-700",children:"A# shows the absence streak since the last present or reset. Unmarked days are skipped."}):i.jsx("p",{className:"text-sm text-slate-700",children:"T# shows the tardy count since the last reset."}),i.jsx("button",{className:"w-full rounded-lg bg-slate-900 text-white font-semibold py-2 text-sm",onClick:()=>As(null),children:"Got it"})]})]}),Pn&&i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>or(null)}),i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg p-5 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:["Behavior for ",Pn.studentName]}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Today  Points ",at.pointsEnabled?`${Zi(at.currentPoints,at.startingPoints)} ${at.currentPoints}`:"disabled"]})]}),i.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>or(null),children:""})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-semibold text-slate-700",children:"Note"}),i.jsx("textarea",{value:Wt.note,onChange:a=>dn(m=>({...m,note:a.target.value})),className:"w-full border-2 border-slate-200 rounded-lg px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",rows:4,placeholder:"Enter behavior note...",autoFocus:!0,onMouseDown:a=>a.stopPropagation(),onClick:a=>a.stopPropagation()}),i.jsx("div",{className:"flex flex-wrap gap-2",children:[" Excellent participation"," Needs redirection"," Academic progress"," Positive peer interactions"].map(a=>i.jsx("button",{onClick:()=>dn(m=>({...m,note:m.note?m.note+" "+a:a})),className:"text-[11px] px-2.5 py-1 rounded-lg bg-slate-100 hover:bg-slate-200 border border-slate-200 text-slate-700",children:a},a))}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"text",className:"flex-1 border border-slate-300 rounded px-3 py-2 text-sm",placeholder:"Custom snippet",value:Dr,onChange:a=>Wl(a.target.value)}),i.jsx("button",{className:"text-xs rounded bg-indigo-600 text-white px-3 py-2",onClick:()=>{Dr.trim()&&(dn(a=>({...a,note:a.note?`${a.note} ${Dr}`:Dr})),Wl(""))},children:"Insert"})]})]}),at.pointsEnabled&&i.jsxs("div",{className:"space-y-3 border border-slate-200 rounded-xl p-3 bg-slate-50",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Points"}),i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsxs("span",{children:[Zi(at.currentPoints,at.startingPoints)," ",at.currentPoints]}),i.jsx("span",{className:"text-slate-400",children:""}),i.jsxs("span",{children:[Zi(Math.max(0,at.currentPoints+Wt.delta),at.startingPoints)," ",Math.max(0,at.currentPoints+Wt.delta)]})]})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:[2,1,0,-1,-2].map(a=>i.jsx("button",{onClick:()=>dn(m=>({...m,delta:a,reason:m.reason})),className:`px-3 py-1.5 rounded border text-sm font-semibold ${Wt.delta===a?"bg-indigo-600 text-white border-indigo-600":"bg-white text-slate-700 border-slate-300 hover:bg-indigo-50"}`,children:a>0?`+${a}`:a},a))}),Wt.delta!==0&&i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[11px] font-semibold text-slate-700",children:"Reason (required)"}),i.jsx("input",{value:Wt.reason,onChange:a=>dn(m=>({...m,reason:a.target.value})),className:"w-full border border-slate-300 rounded px-2 py-1 text-sm",placeholder:"Enter reason for point change"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{className:"flex-1 rounded-lg bg-indigo-600 text-white font-semibold py-2",onClick:gg,children:"Save"}),i.jsx("button",{className:"flex-1 rounded-lg bg-slate-200 text-slate-800 font-semibold py-2",onClick:()=>or(null),children:"Cancel"})]})]})]}),Ir&&L&&(()=>{const a=L.students.find(m=>m.id===Ir.studentId);return a?i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>Ht(null)}),i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg p-5 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Quick Note"}),i.jsx("p",{className:"text-xs text-slate-500",children:a.fullName})]}),i.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>Ht(null),children:""})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-semibold text-slate-700",children:"Note"}),i.jsx("textarea",{value:U,onChange:m=>z(m.target.value),className:"w-full border-2 border-slate-200 rounded-lg px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",rows:5,placeholder:"Add a quick note...",autoFocus:!0,onMouseDown:m=>m.stopPropagation(),onClick:m=>m.stopPropagation()})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{className:"flex-1 rounded-lg bg-indigo-600 text-white font-semibold py-2",onClick:()=>{const m=Ir.studentId,g=U;Ve(S=>S&&{...S,students:S.students.map(w=>w.id===m?{...w,quickNote:g,quickNoteUpdatedAt:new Date().toISOString()}:w)}),An.current+=1,In(!0),tt(!0),ur.current=Date.now(),ht({silent:!0}),Ht(null)},children:"Save"}),i.jsx("button",{className:"flex-1 rounded-lg bg-slate-200 text-slate-800 font-semibold py-2",onClick:()=>Ht(null),children:"Cancel"})]})]})]}):null})(),V&&L&&(()=>{const a=L.students.find(w=>w.id===V.studentId);if(!a)return null;const m=L.periods.find(w=>w.id===et),S=(a.docs||[]).slice().sort((w,C)=>{if(w.pinned&&!C.pinned)return-1;if(!w.pinned&&C.pinned)return 1;const P=w.createdAt?new Date(w.createdAt).getTime():0;return(C.createdAt?new Date(C.createdAt).getTime():0)-P});return i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>K(null)}),i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg p-5 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Student Docs"}),i.jsx("p",{className:"text-xs text-slate-500",children:a.fullName})]}),i.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>K(null),children:""})]}),i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Tap a doc to open it in Google Docs."}),i.jsx("p",{className:"text-[11px] leading-snug text-slate-500",children:"To protect privacy, ClassSeats can only see the documents it helps create."}),i.jsx("p",{className:"text-[11px] leading-snug text-slate-500",children:"All documents are created in the ClassSeats/Student Docs folder in your Google Drive."})]}),i.jsx("button",{className:"rounded-lg bg-emerald-600 text-white text-xs font-semibold px-3 py-2 disabled:opacity-50",disabled:!n.canUseDriveSync,onClick:async()=>{if(n.canUseDriveSync)try{const w=await Re(!0,"studentDocCreate");if(!w)return;const C=(m==null?void 0:m.name)||"Period",P=`Notes - ${a.fullName} - ${C} ${mg(new Date)}`,I=window.prompt("Name this Doc:",P);if(!I||!I.trim())return;const _=I.trim(),H=await Yx(w.accessToken),J=await Xx(w.accessToken,H,_),ee=new Date().toISOString(),ae={id:pg(),driveFileId:J.fileId,title:J.title||_,createdAt:ee,lastOpenedAt:ee};Ve(D=>D&&{...D,students:D.students.map(W=>W.id===a.id?{...W,docs:[...W.docs||[],ae]}:W)}),An.current+=1,In(!0),tt(!0),ur.current=Date.now(),ta(ea(J.fileId))}catch(w){Ge((w==null?void 0:w.message)||"Unable to create Google Doc.")}},children:"+ New Doc"})]}),i.jsx("div",{className:"max-h-72 overflow-y-auto space-y-2",children:S.length===0?i.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 text-sm text-slate-600",children:"No Docs yet."}):S.map(w=>i.jsx("button",{className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-50",onClick:C=>{C.preventDefault(),C.stopPropagation(),ta(ea(w.driveFileId))},children:i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("span",{className:"font-semibold text-slate-900",children:w.title}),w.pinned&&i.jsx("span",{className:"text-[10px] font-semibold text-emerald-700 bg-emerald-100 px-2 py-0.5 rounded-full",children:"PINNED"})]})},w.id))}),i.jsx("button",{className:"w-full rounded-lg bg-slate-200 text-slate-800 font-semibold py-2",onClick:()=>K(null),children:"Close"})]})]})})(),!L&&i.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 space-y-3 text-left",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"No class file loaded yet."}),i.jsx("p",{className:"text-sm text-slate-600",children:"To take attendance or track points, open a class file from your Google Drive."}),i.jsx("button",{className:"w-full rounded-lg bg-emerald-600 text-white font-semibold py-2",onClick:()=>{if(s){k(l);return}return o?G(!0):void Re(!0,"empty-state")},disabled:s,title:s?l:void 0,children:"Manage Files"})]}),Ae&&i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>Vt(null)}),i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg p-5 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:Ae.tableName}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Apply points to ",Ae.studentIds.length," present student",Ae.studentIds.length===1?"":"s"]})]}),i.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>Vt(null),children:""})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-semibold text-slate-700",children:"Note (required)"}),i.jsx("textarea",{className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Describe why youre adjusting points",value:Uc,onChange:a=>Bi(a.target.value),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Choose points"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[[2,1,-1,-2].map(a=>{const m=Ar===a;return i.jsxs("button",{className:`px-3 py-2 rounded-lg text-sm font-semibold border ${m?"bg-amber-600 text-white border-amber-600":"bg-white text-amber-800 border-amber-300"}`,onClick:()=>{Hl(a),It(0)},children:[a>0?`+${a}`:a," pts"]},a)}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("input",{type:"number",className:"w-24 rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:"Custom",value:Rs,onFocus:()=>Hl(null),onChange:a=>It(Number(a.target.value)||0)})})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{className:"flex-1 rounded-lg bg-amber-600 text-white font-semibold py-2",onClick:()=>{const a=Uc.trim(),m=Ar??Rs;if(!a){Ge("Enter a note for the point change.");return}if(!m){Ge("Select a point value.");return}hg(Ae.periodId,Ae.studentIds,m,a),Hl(null),It(0),Bi(""),Vt(null)},children:"Apply"}),i.jsx("button",{className:"flex-1 rounded-lg bg-slate-200 text-slate-800 font-semibold py-2",onClick:()=>Vt(null),children:"Cancel"})]}),i.jsx("p",{className:"text-[11px] text-slate-500",children:"Only present students at this table receive the adjustment. Absent students are skipped."}),(()=>{const a=(Rt[Ae.periodId]||[]).filter(g=>{var S;return((S=g.date)==null?void 0:S.startsWith(Z))&&Ae.studentIds.includes(String(g.studentId))});if(a.length===0)return null;const m=g=>{var S;return((S=L==null?void 0:L.students.find(w=>String(w.id)===String(g)))==null?void 0:S.fullName)||`Student ${g}`};return i.jsxs("div",{className:"border-t border-slate-200 pt-2 space-y-1",children:[i.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Todays table adjustments"}),i.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:a.map((g,S)=>i.jsxs("div",{className:"text-xs text-slate-700 flex justify-between",children:[i.jsx("span",{className:"font-semibold",children:m(g.studentId)}),i.jsxs("span",{children:[g.delta>0?"+":"",g.delta,"  ",g.reason||"No note"]})]},`${g.studentId}-${S}`))})]})})()]})]})]}),T&&i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>G(!1)}),i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-5 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"Manage Files"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Sign in, load, create, or import ClassSeats files."})]}),i.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>G(!1),children:""})]}),s?i.jsx("div",{className:"space-y-2 text-sm text-rose-700",children:i.jsx("p",{children:l})}):o?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs text-slate-600",children:[i.jsxs("div",{children:[i.jsxs("p",{children:["Signed in as ",i.jsx("span",{className:"font-semibold text-slate-900",children:((wd=o.profile)==null?void 0:wd.email)||"your account"})]}),i.jsxs("p",{children:["Active file: ",i.jsx("span",{className:"font-semibold text-slate-900",children:(O==null?void 0:O.name)||(oe==null?void 0:oe.name)||"None selected"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[O&&i.jsx("button",{className:"px-3 py-1 rounded bg-rose-600 text-white font-semibold",onClick:()=>void vg(),children:" Delete Active File"}),i.jsx("button",{className:"text-rose-600 underline",onClick:xg,children:"Sign out"})]})]}),qf,i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("button",{className:"w-full rounded-2xl bg-slate-900 text-white font-semibold py-2",onClick:()=>void wg(!0),children:" Refresh Cloud Files"}),i.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-3 max-h-64 overflow-auto space-y-2",children:[x&&i.jsx("p",{className:"text-sm text-slate-500",children:"Loading Drive files"}),v&&i.jsx("p",{className:"text-sm text-rose-600",children:v}),!x&&!v&&c.length===0&&i.jsxs("div",{className:"text-sm text-slate-700 space-y-1",children:[i.jsx("p",{className:"font-semibold",children:"Youre signed into Google Drive, but no class file is loaded yet."}),i.jsx("p",{className:"text-slate-500",children:"Choose an existing class file or create a new one linked to your desktop setup."})]}),!x&&!v&&c.length>0&&c.map(a=>{const m=(oe==null?void 0:oe.id)===a.id,g=(O==null?void 0:O.id)===a.id;return i.jsxs("button",{className:`w-full text-left rounded-xl border px-3 py-2 transition ${m?"border-indigo-400 bg-indigo-50 text-indigo-900":g?"border-emerald-400 bg-emerald-50 text-emerald-900":"border-slate-200 bg-white hover:bg-slate-100"}`,onClick:()=>qe(a),children:[i.jsx("p",{className:"text-sm font-semibold",children:a.name}),i.jsxs("p",{className:"text-[11px] text-slate-500",children:["Updated ",a.modifiedTime?new Date(a.modifiedTime).toLocaleString():"",a.size?`  ${(Number(a.size)/1024).toFixed(1)} KB`:""]}),g&&i.jsx("p",{className:"text-[11px] text-emerald-700 font-semibold",children:"Active"})]},a.id)})]}),i.jsx("button",{className:"w-full rounded-2xl bg-emerald-600 text-white font-semibold py-2 disabled:opacity-50",onClick:Sg,disabled:!oe||Xe,children:Xe?"Loading":oe?`Load "${oe.name}"`:"Load Selected File"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("button",{className:"w-full rounded-2xl bg-emerald-600 text-white font-semibold py-2 disabled:opacity-50",onClick:()=>void ht(),disabled:!O,children:" Sync (pull latest, then save)"}),i.jsx("p",{className:"text-[11px] text-slate-500 text-center",children:"Uses the selected cloud file. Select or create one first."})]})]}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"space-y-2 border-b border-slate-200 pb-3",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Create a new cloud file"}),i.jsx("input",{type:"text",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm",placeholder:"e.g., Semester 2 24-25",value:$,onChange:a=>de(a.target.value)}),i.jsx("button",{className:"w-full rounded-2xl bg-slate-900 text-white font-semibold py-2 disabled:opacity-50",onClick:Ng,disabled:X,children:X?"Creating":"Create Cloud File"})]})})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-slate-700",children:"Sign in with Google to access Drive."}),i.jsx("p",{className:"text-[11px] text-amber-700",children:"Use your school Google account. Files stay in your Drive (ClassSeats folder)."}),i.jsx("button",{className:"w-full rounded-2xl bg-indigo-600 text-white font-semibold py-2",onClick:()=>{G(!1),Re(!0)},children:" Sign in with Google"})]})]})]})]})]}),i.jsx("div",{className:"fixed inset-x-0 bottom-0 px-4 pb-[env(safe-area-inset-bottom)]",children:i.jsxs("div",{className:"bg-white/95 border border-slate-200 rounded-2xl shadow-lg px-4 py-3 flex flex-wrap items-center gap-2 text-xs text-slate-700",children:[i.jsxs("div",{className:"flex-1 min-w-[180px]",children:[i.jsx("p",{className:"font-semibold text-slate-900",children:Ls?"Saving":Vl?`Synced ${new Date(Vl).toLocaleTimeString()}`:"Ready"}),i.jsxs("p",{className:"text-[11px] text-slate-500 truncate",children:[o?((Sd=o.profile)==null?void 0:Sd.email)||"Signed in":"Not signed in"," "," ",(O==null?void 0:O.name)||(oe==null?void 0:oe.name)||"No file selected",Be&&"  Offline"]}),fn&&i.jsx("p",{className:"text-[11px] text-amber-700",children:"Pending sync"})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[i.jsx("button",{className:"rounded-full bg-emerald-600 text-white px-3 py-2 text-xs font-semibold disabled:opacity-50 flex-none",disabled:!o||!O,onClick:()=>void ht(),children:"Sync Now"}),i.jsx("button",{className:"rounded-full bg-slate-900 text-white px-3 py-2 text-xs font-semibold flex-none",onClick:()=>o?G(!0):void Re(!0,"cta"),children:"Manage Files"})]})]})}),i.jsx(uw,{open:q,onClose:()=>me(!1),buildRevision:Zf})]}),Be&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm flex items-center justify-center px-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-4 text-center space-y-2 text-slate-900",children:[i.jsx("p",{className:"text-base font-semibold",children:"Mobile paused while offline"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Edits are disabled while offline. Reconnect to resume."}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Last sync: ",Vl?new Date(Vl).toLocaleTimeString():"No sync yet"]})]})})]})})}function zw({toasts:e}){return i.jsx("div",{className:"fixed right-4 top-4 z-[1000] flex w-[320px] max-w-[calc(100vw-2rem)] flex-col gap-2",children:e.map(t=>{const n=t.kind==="success"?"border-emerald-200 bg-emerald-50 text-emerald-900":t.kind==="error"?"border-rose-200 bg-rose-50 text-rose-900":t.kind==="warning"?"border-amber-200 bg-amber-50 text-amber-900":"border-slate-200 bg-slate-50 text-slate-800",r=t.kind==="success"?"":t.kind==="error"?"":t.kind==="warning"?"":"";return i.jsx("div",{className:`rounded-xl border px-3 py-2 shadow-sm ${n}`,children:i.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[i.jsx("span",{"aria-hidden":"true",children:r}),i.jsx("div",{className:"leading-snug",children:t.message})]})},t.id)})})}function $w({open:e,opts:t,onCancel:n,onConfirm:r}){if(!e||!t)return null;const s=t.tone??"default",l=t.confirmText??"Confirm",o=t.cancelText===null,u=t.cancelText??"Cancel",c=s==="danger"?"bg-rose-600 hover:bg-rose-700 text-white":"bg-indigo-600 hover:bg-indigo-700 text-white";return i.jsx("div",{className:"fixed inset-0 z-[1100] flex items-center justify-center bg-black/40 p-4",children:i.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white shadow-2xl border border-slate-200",children:[i.jsxs("div",{className:"p-5 border-b border-slate-100",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:t.title}),i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.message})]}),i.jsxs("div",{className:"p-5 flex items-center justify-end gap-2",children:[!o&&i.jsx("button",{className:"rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50",onClick:n,children:u}),i.jsx("button",{className:`rounded-xl px-4 py-2 text-sm font-semibold ${c}`,onClick:r,children:l})]})]})})}function Bw({open:e,opts:t,onCancel:n,onConfirm:r}){const[s,l]=f.useState("");if(f.useEffect(()=>{e&&t&&l(t.defaultValue??"")},[e,t]),!e||!t)return null;const o=t.confirmText??"OK",u=t.cancelText??"Cancel",c=t.inputType??"text";return i.jsx("div",{className:"fixed inset-0 z-[1100] flex items-center justify-center bg-black/40 p-4",children:i.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white shadow-2xl border border-slate-200",children:[i.jsxs("div",{className:"p-5 border-b border-slate-100",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:t.title}),t.message&&i.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.message})]}),i.jsxs("div",{className:"p-5 space-y-3",children:[i.jsx("input",{autoFocus:!0,type:c,value:s,onChange:d=>l(d.target.value),placeholder:t.placeholder??"",className:"w-full rounded-xl border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-200"}),i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{className:"rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50",onClick:n,children:u}),i.jsx("button",{className:"rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700",onClick:()=>r(s),children:o})]})]})]})})}function Ww(){return Math.random().toString(16).slice(2)+Date.now().toString(16)}function Hw({children:e}){const[t,n]=f.useState([]),r=f.useRef(null),[s,l]=f.useState(!1),[o,u]=f.useState(null),c=f.useRef(null),[d,x]=f.useState(!1),[N,v]=f.useState(null),j=f.useCallback((h,p,y=2500)=>{const E=Ww(),A={id:E,kind:h,message:p,durationMs:y};n(M=>[...M,A]),window.setTimeout(()=>{n(M=>M.filter(F=>F.id!==E))},y)},[]),b=f.useCallback(h=>(u(h),l(!0),new Promise(p=>{r.current=p})),[]),k=f.useCallback(h=>(v(h),x(!0),new Promise(p=>{c.current=p})),[]),Y=f.useMemo(()=>({toast:j,confirm:b,prompt:k}),[j,b,k]);return i.jsxs(mx.Provider,{value:Y,children:[e,i.jsx(zw,{toasts:t}),i.jsx($w,{open:s,opts:o,onCancel:()=>{l(!1);const h=r.current;r.current=null,h==null||h(!1)},onConfirm:()=>{l(!1);const h=r.current;r.current=null,h==null||h(!0)}}),i.jsx(Bw,{open:d,opts:N,onCancel:()=>{x(!1);const h=c.current;c.current=null,h==null||h(null)},onConfirm:h=>{x(!1);const p=c.current;c.current=null,p==null||p(h)}})]})}const hs={waiting:!1,registration:null},Lu=new Set;function ip(){for(const e of Lu)e({...hs})}function Vw(e){return Lu.add(e),e({...hs}),()=>{Lu.delete(e)}}async function Kw(){if("serviceWorker"in navigator&&!window.__cs_sw_registered){window.__cs_sw_registered=!0;try{const t=await navigator.serviceWorker.register("/service-worker.js",{updateViaCache:"none"});hs.registration=t,t.waiting&&navigator.serviceWorker.controller&&(hs.waiting=!0),t.addEventListener("updatefound",()=>{const s=t.installing;s&&s.addEventListener("statechange",()=>{s.state==="installed"&&navigator.serviceWorker.controller&&(hs.waiting=!0,ip())})});const n=()=>t.update().catch(()=>{});window.addEventListener("focus",n),window.setInterval(n,6e4),ip();let r=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{r||(r=!0,window.location.reload())})}catch(e){console.warn("[PWA] SW registration failed",e)}}}async function Gw(){const e=hs.registration;e!=null&&e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"})}function Qw(){const[e,t]=f.useState({waiting:!1,registration:null});return f.useEffect(()=>Vw(t),[]),e.waiting?i.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-[9999]",children:i.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-slate-900 text-white px-4 py-3 shadow-xl",children:[i.jsx("div",{className:"text-sm font-semibold",children:"Update available"}),i.jsx("button",{className:"rounded-xl bg-white/15 hover:bg-white/25 px-3 py-1 text-sm font-semibold",onClick:async()=>{await Gw()},children:"Refresh"})]})}):null}const Yw=document.getElementById("root");Ma.createRoot(Yw).render(i.jsx(Bg.StrictMode,{children:i.jsx(Uv,{children:i.jsxs(Hw,{children:[i.jsx(Uw,{}),i.jsx(Qw,{})]})})})),Kw();
